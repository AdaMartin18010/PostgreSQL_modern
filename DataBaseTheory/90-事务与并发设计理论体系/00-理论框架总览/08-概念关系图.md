# 08 | 概念关系图

> **工具定位**: 本文档通过可视化图表展示核心概念之间的定义关系、因果关系和跨层映射关系，帮助理解理论体系的整体结构。
> **📖 概念词典引用**：本文档中涉及的所有核心概念定义与 [核心概念词典](./01-核心概念词典.md) 保持一致。如发现不一致，请以核心概念词典为准。

---

## 📑 目录

- [08 | 概念关系图](#08--概念关系图)
  - [📑 目录](#-目录)
  - [一、概念关系图总览](#一概念关系图总览)
  - [二、定义关系网络](#二定义关系网络)
    - [2.1 LSEM核心概念网络](#21-lsem核心概念网络)
    - [2.2 MVCC概念网络](#22-mvcc概念网络)
    - [2.3 ACID概念网络](#23-acid概念网络)
    - [2.4 CAP概念网络](#24-cap概念网络)
    - [2.5 Rust所有权概念网络](#25-rust所有权概念网络)
    - [2.6 分布式系统概念网络](#26-分布式系统概念网络)
  - [三、因果关系链](#三因果关系链)
    - [3.1 时间戳理论发展链](#31-时间戳理论发展链)
    - [3.2 并发控制演进链](#32-并发控制演进链)
    - [3.3 一致性模型发展链](#33-一致性模型发展链)
    - [3.4 隔离级别演进链](#34-隔离级别演进链)
  - [四、跨层映射关系](#四跨层映射关系)
    - [4.1 L0 ↔ L1 映射](#41-l0--l1-映射)
    - [4.2 L1 ↔ L2 映射](#42-l1--l2-映射)
    - [4.3 L0 ↔ L2 映射](#43-l0--l2-映射)
    - [4.4 三层统一映射](#44-三层统一映射)
  - [5. 概念依赖关系](#5-概念依赖关系)
    - [5.1 基础依赖](#51-基础依赖)
    - [5.2 组合依赖](#52-组合依赖)
    - [5.3 实现依赖](#53-实现依赖)
  - [六、概念分类树](#六概念分类树)
    - [6.1 按抽象层次分类](#61-按抽象层次分类)
    - [6.2 按功能领域分类](#62-按功能领域分类)
    - [6.3 按实现机制分类](#63-按实现机制分类)
  - [七、概念关联矩阵](#七概念关联矩阵)
    - [7.1 核心概念关联矩阵](#71-核心概念关联矩阵)
    - [7.2 跨层概念关联矩阵](#72-跨层概念关联矩阵)
  - [八、扩展阅读指南](#八扩展阅读指南)
    - [按关系类型阅读](#按关系类型阅读)

---

## 一、概念关系图总览

```mermaid
graph TB
    subgraph "统一框架层"
        LSEM[LSEM模型<br/>分层状态演化模型]
    end

    subgraph "L0: 存储引擎层"
        MVCC[MVCC<br/>多版本并发控制]
        ACID[ACID<br/>事务特性]
        WAL[WAL<br/>预写日志]
        Snapshot[快照隔离]
    end

    subgraph "L1: 运行时层"
        Ownership[所有权模型]
        Borrow[借用检查]
        Lifetime[生命周期]
        Memory[内存模型]
    end

    subgraph "L2: 分布式层"
        CAP[CAP定理]
        Consensus[共识协议]
        Raft[Raft]
        Paxos[Paxos]
        Distributed[分布式事务]
    end

    LSEM --> MVCC
    LSEM --> Ownership
    LSEM --> Consensus

    MVCC --> Snapshot
    MVCC --> WAL
    ACID --> MVCC
    ACID --> WAL

    Ownership --> Borrow
    Ownership --> Lifetime
    Borrow --> Memory

    CAP --> Consensus
    Consensus --> Raft
    Consensus --> Paxos
    Consensus --> Distributed

    style LSEM fill:#ff6b6b
    style MVCC fill:#4ecdc4
    style Ownership fill:#45b7d1
    style Consensus fill:#96ceb4
```

**关系类型说明**:

- **实线箭头 (→)**: 直接依赖关系，如"MVCC → 快照隔离"表示快照隔离是MVCC的核心机制
- **虚线箭头 (⇢)**: 间接影响关系，如"CAP定理 ⇢ 共识协议"表示CAP定理影响共识协议的设计选择
- **双向箭头 (↔)**: 相互映射关系，如"L0状态 ↔ L1状态"表示两层状态概念的同构性

---

## 二、定义关系网络

### 2.1 LSEM核心概念网络

```mermaid
graph LR
    LSEM[LSEM模型] --> L0[L0层<br/>存储引擎]
    LSEM --> L1[L1层<br/>运行时]
    LSEM --> L2[L2层<br/>分布式]

    LSEM --> Axiom1[公理1<br/>状态原子性]
    LSEM --> Axiom2[公理2<br/>可见性偏序]
    LSEM --> Axiom3[公理3<br/>冲突可串行化]

    L0 --> State0[版本化状态]
    L1 --> State1[内存状态]
    L2 --> State2[复制状态]

    State0 -.同构.-> State1
    State1 -.同构.-> State2

    Axiom1 --> Atomic[原子性]
    Axiom2 --> Visibility[可见性]
    Axiom3 --> Serial[串行化]

    style LSEM fill:#ff6b6b
    style Axiom1 fill:#ffd93d
    style Axiom2 fill:#ffd93d
    style Axiom3 fill:#ffd93d
```

**关键关系**:

- **LSEM → L0/L1/L2**: 统一框架包含三个层次
- **LSEM → 三大公理**: 公理体系是LSEM的理论基础
- **状态同构**: 三层状态概念在LSEM框架下同构

---

### 2.2 MVCC概念网络

```mermaid
graph TB
    MVCC[MVCC<br/>多版本并发控制] --> Snapshot[快照隔离]
    MVCC --> Version[版本链]
    MVCC --> Visibility[可见性判断]

    Snapshot --> xmin[xmin]
    Snapshot --> xmax[xmax]
    Snapshot --> xip[xip活跃事务列表]

    Version --> Tuple[元组版本]
    Version --> HOT[HOT优化]
    Version --> VACUUM[VACUUM清理]

    Visibility --> Visible[可见性谓词]
    Visibility --> Commit[提交顺序]

    Tuple --> xmin
    Tuple --> xmax

    HOT --> Fillfactor[Fillfactor]
    HOT --> Update[更新优化]

    VACUUM --> Dead[死元组]
    VACUUM --> Freeze[冻结]
    VACUUM --> VisibilityMap[可见性映射]

    style MVCC fill:#4ecdc4
    style Snapshot fill:#95e1d3
    style Version fill:#f38181
```

**定义关系**:

- **MVCC**: 多版本并发控制是总概念
- **快照隔离**: MVCC的核心隔离机制
- **版本链**: MVCC的数据结构基础
- **可见性判断**: MVCC的核心算法

---

### 2.3 ACID概念网络

```mermaid
graph TB
    ACID[ACID] --> Atomic[原子性<br/>Atomicity]
    ACID --> Consistent[一致性<br/>Consistency]
    ACID --> Isolated[隔离性<br/>Isolation]
    ACID --> Durable[持久性<br/>Durability]

    Atomic --> WAL[WAL预写日志]
    Atomic --> Commit[提交协议]

    Consistent --> Constraint[约束检查]
    Consistent --> Transaction[事务边界]

    Isolated --> Isolation[隔离级别]
    Isolation --> RC[Read Committed]
    Isolation --> RR[Repeatable Read]
    Isolation --> SER[Serializable]

    Durable --> WAL
    Durable --> Checkpoint[检查点]
    Durable --> Replication[复制]

    WAL --> LSN[LSN日志序号]
    WAL --> Buffer[缓冲区]

    style ACID fill:#ff6b6b
    style Atomic fill:#4ecdc4
    style Consistent fill:#4ecdc4
    style Isolated fill:#4ecdc4
    style Durable fill:#4ecdc4
```

**组成关系**:

- **ACID**: 由四个特性组成
- **隔离性 → 隔离级别**: 隔离性通过不同隔离级别实现
- **持久性 → WAL**: WAL是实现持久性的核心机制

---

### 2.4 CAP概念网络

```mermaid
graph TB
    CAP[CAP定理] --> C[一致性<br/>Consistency]
    CAP --> A[可用性<br/>Availability]
    CAP --> P[分区容错<br/>Partition Tolerance]

    CAP --> PACELC[PACELC扩展]

    C --> CP[CP系统]
    C --> CA[CA系统]

    A --> AP[AP系统]
    A --> CA

    P --> CP
    P --> AP

    CP --> Raft[Raft共识]
    CP --> Paxos[Paxos共识]

    AP --> CRDT[CRDT]
    AP --> Eventual[最终一致性]

    CA --> Single[单节点系统]
    CA --> Local[本地系统]

    PACELC --> Latency[延迟]
    PACELC --> Else[其他权衡]

    style CAP fill:#ff6b6b
    style C fill:#4ecdc4
    style A fill:#4ecdc4
    style P fill:#4ecdc4
```

**权衡关系**:

- **CAP → CP/AP/CA**: CAP定理指出三者不可兼得，系统必须选择
- **CP → 共识协议**: CP系统需要强一致性，通常使用共识协议
- **AP → CRDT**: AP系统允许弱一致性，可以使用CRDT等数据结构

---

### 2.5 Rust所有权概念网络

```mermaid
graph TB
    Ownership[所有权模型] --> Owner[所有者]
    Ownership --> Borrow[借用]
    Ownership --> Move[移动语义]

    Owner --> Lifetime[生命周期]
    Owner --> Drop[析构]

    Borrow --> Immut[不可变借用<br/>&T]
    Borrow --> Mut[可变借用<br/>&mut T]

    Move --> Copy[复制语义]
    Move --> Clone[克隆]

    Lifetime --> 'a[生命周期参数]
    Lifetime --> Static[静态生命周期]

    Ownership --> Send[Send trait]
    Ownership --> Sync[Sync trait]

    Send --> Arc[Arc<T>]
    Send --> Mutex[Mutex<T>]

    Sync --> RwLock[RwLock<T>]
    Sync --> Atomic[原子类型]

    style Ownership fill:#45b7d1
    style Borrow fill:#95e1d3
    style Lifetime fill:#f38181
```

**核心关系**:

- **所有权 → 借用**: 借用是所有权系统的核心机制
- **所有权 → 生命周期**: 生命周期管理是所有权系统的安全保障
- **Send/Sync**: 并发安全的基础trait

---

### 2.6 分布式系统概念网络

```mermaid
graph TB
    Distributed[分布式系统] --> Consensus[共识协议]
    Distributed --> Transaction[分布式事务]
    Distributed --> Clock[时钟同步]

    Consensus --> Raft[Raft]
    Consensus --> Paxos[Paxos]
    Consensus --> PBFT[PBFT]

    Raft --> Leader[Leader选举]
    Raft --> Log[日志复制]

    Transaction --> 2PC[两阶段提交]
    Transaction --> 3PC[三阶段提交]
    Transaction --> Saga[Saga]
    Transaction --> TCC[TCC]

    Clock --> Lamport[Lamport时钟]
    Clock --> Vector[向量时钟]
    Clock --> HLC[HLC混合逻辑时钟]
    Clock --> TrueTime[TrueTime]

    Consensus --> Clock

    style Distributed fill:#96ceb4
    style Consensus fill:#4ecdc4
    style Transaction fill:#f38181
    style Clock fill:#ffd93d
```

---

## 三、因果关系链

### 3.1 时间戳理论发展链

```mermaid
graph LR
    Physical[物理时钟<br/>1970s] --> Lamport[Lamport时钟<br/>1978]
    Lamport --> Vector[向量时钟<br/>1988]
    Vector --> HLC[HLC混合逻辑时钟<br/>2014]
    HLC --> TrueTime[TrueTime<br/>Google Spanner<br/>2012]

    Physical -.问题.-> Sync[时钟同步问题]
    Sync --> Lamport
    Lamport -.问题.-> Order[偏序关系]
    Order --> Vector
    Vector -.问题.-> Size[向量大小]
    Size --> HLC
    HLC -.问题.-> Global[全局时间]
    Global --> TrueTime

    style Physical fill:#ff6b6b
    style Lamport fill:#4ecdc4
    style Vector fill:#4ecdc4
    style HLC fill:#4ecdc4
    style TrueTime fill:#95e1d3
```

**因果链说明**:

1. **物理时钟问题** → 需要逻辑时钟解决同步问题
2. **Lamport时钟** → 提供偏序关系，但无法检测并发
3. **向量时钟** → 可以检测并发，但向量大小随节点数增长
4. **HLC** → 结合物理时钟和逻辑时钟，向量大小固定
5. **TrueTime** → 使用原子钟和GPS提供全局时间

---

### 3.2 并发控制演进链

```mermaid
graph TB
    Lock[锁机制<br/>1960s] --> 2PL[两阶段锁<br/>2PL<br/>1976]
    2PL --> Deadlock[死锁问题]

    Deadlock --> OCC[乐观并发控制<br/>OCC<br/>1981]
    OCC --> Abort[中止率高]

    Abort --> MVCC[MVCC<br/>多版本并发控制<br/>1981]
    MVCC --> Snapshot[快照隔离]

    Snapshot --> WriteSkew[写偏斜问题]
    WriteSkew --> SSI[可序列化快照隔离<br/>SSI<br/>2008]

    SSI --> Performance[性能问题]
    Performance --> Adaptive[自适应隔离级别<br/>2020s]

    style Lock fill:#ff6b6b
    style 2PL fill:#4ecdc4
    style OCC fill:#4ecdc4
    style MVCC fill:#4ecdc4
    style SSI fill:#95e1d3
    style Adaptive fill:#f38181
```

**演进逻辑**:

- **锁机制** → 简单但性能差，易死锁
- **2PL** → 解决死锁但性能仍受限
- **OCC** → 提高性能但中止率高
- **MVCC** → 读性能优秀，但写偏斜问题
- **SSI** → 解决写偏斜，但性能开销
- **自适应** → 根据工作负载动态调整

---

### 3.3 一致性模型发展链

```mermaid
graph LR
    Strong[强一致性<br/>ACID] --> CAP[CAP定理<br/>2000]
    CAP --> Eventual[最终一致性<br/>BASE]

    Eventual --> CRDT[CRDT<br/>无冲突复制数据类型<br/>2011]
    CRDT --> LWW[最后写入获胜<br/>LWW]

    Strong --> Linear[线性化<br/>Linearizability]
    Linear --> Sequential[顺序一致性<br/>Sequential Consistency]

    CAP --> PACELC[PACELC扩展<br/>2012]
    PACELC --> Tunable[可调一致性<br/>Tunable Consistency]

    style Strong fill:#ff6b6b
    style CAP fill:#4ecdc4
    style Eventual fill:#4ecdc4
    style CRDT fill:#95e1d3
    style PACELC fill:#f38181
```

---

### 3.4 隔离级别演进链

```mermaid
graph TB
    RU[Read Uncommitted<br/>读未提交<br/>最低级别] --> RC[Read Committed<br/>读已提交<br/>PostgreSQL默认]
    RC --> RR[Repeatable Read<br/>可重复读<br/>MySQL默认]
    RR --> SER[Serializable<br/>可序列化<br/>最高级别]

    RU -.问题.-> DirtyRead[脏读]
    DirtyRead --> RC

    RC -.问题.-> NonRepeat[不可重复读]
    NonRepeat --> RR

    RR -.问题.-> Phantom[幻读]
    Phantom --> SER

    SER --> SSI[可序列化快照隔离<br/>SSI<br/>PostgreSQL实现]
    SSI --> Performance[性能权衡]

    style RU fill:#ff6b6b
    style RC fill:#4ecdc4
    style RR fill:#4ecdc4
    style SER fill:#95e1d3
    style SSI fill:#f38181
```

**问题驱动演进**:

- 每个隔离级别解决上一级别的问题
- 但带来性能开销
- SSI是SERIALIZABLE的高性能实现

---

## 四、跨层映射关系

### 4.1 L0 ↔ L1 映射

```mermaid
graph LR
    subgraph L0[L0: 存储引擎层]
        Tuple[元组版本]
        xmin[xmin/xmax]
        Snapshot[快照]
        WAL[WAL日志]
    end

    subgraph L1[L1: 运行时层]
        Memory[内存位置]
        Owner[所有者]
        Borrow[借用]
        RAII[RAII]
    end

    Tuple -.同构.-> Memory
    xmin -.同构.-> Owner
    Snapshot -.同构.-> Borrow
    WAL -.同构.-> RAII

    style L0 fill:#4ecdc4
    style L1 fill:#45b7d1
```

**映射关系表**:

| L0概念    | L1概念   | 映射关系   | 说明                       |
| --------- | -------- | ---------- | -------------------------- |
| 元组版本  | 内存位置 | 状态单元   | 都是版本化的状态容器       |
| xmin/xmax | 所有者   | 可见性控制 | 都通过所有权控制可见性     |
| 快照      | 借用     | 时间点视图 | 都提供特定时间点的状态视图 |
| WAL       | RAII     | 资源管理   | 都保证资源正确释放         |

---

### 4.2 L1 ↔ L2 映射

```mermaid
graph LR
    subgraph L1[L1: 运行时层]
        Ownership[所有权]
        Borrow[借用检查]
        Lifetime[生命周期]
    end

    subgraph L2[L2: 分布式层]
        Consensus[共识协议]
        Replication[复制]
        Clock[时钟同步]
    end

    Ownership -.同构.-> Consensus
    Borrow -.同构.-> Replication
    Lifetime -.同构.-> Clock

    style L1 fill:#45b7d1
    style L2 fill:#96ceb4
```

**映射关系表**:

| L1概念   | L2概念   | 映射关系   | 说明                   |
| -------- | -------- | ---------- | ---------------------- |
| 所有权   | 共识协议 | 权威性     | 都确定谁有权修改状态   |
| 借用检查 | 复制     | 可见性传播 | 都控制状态的可见性传播 |
| 生命周期 | 时钟同步 | 时间顺序   | 都建立时间偏序关系     |

---

### 4.3 L0 ↔ L2 映射

```mermaid
graph LR
    subgraph L0[L0: 存储引擎层]
        MVCC[MVCC]
        Transaction[事务]
        Isolation[隔离级别]
    end

    subgraph L2[L2: 分布式层]
        Distributed[分布式MVCC]
        DistributedTX[分布式事务]
        Consistency[一致性级别]
    end

    MVCC -.扩展.-> Distributed
    Transaction -.扩展.-> DistributedTX
    Isolation -.扩展.-> Consistency

    style L0 fill:#4ecdc4
    style L2 fill:#96ceb4
```

**扩展关系**:

- **MVCC → 分布式MVCC**: 单机MVCC扩展到分布式环境
- **事务 → 分布式事务**: 单机事务扩展到跨节点事务
- **隔离级别 → 一致性级别**: 单机隔离扩展到分布式一致性

---

### 4.4 三层统一映射

```mermaid
graph TB
    subgraph "统一抽象"
        State[版本化状态]
        Time[偏序时间戳]
        Visibility[可见性控制]
        Conflict[冲突仲裁]
    end

    subgraph L0[L0层]
        Tuple[元组版本]
        xmin[xmin/xmax]
        Snapshot[快照]
        Lock[锁机制]
    end

    subgraph L1[L1层]
        Memory[内存位置]
        Owner[所有者]
        Borrow[借用]
        Compile[编译检查]
    end

    subgraph L2[L2层]
        Replica[复制状态]
        HLC[HLC时钟]
        Consensus[共识]
        Protocol[协议]
    end

    State --> Tuple
    State --> Memory
    State --> Replica

    Time --> xmin
    Time --> Owner
    Time --> HLC

    Visibility --> Snapshot
    Visibility --> Borrow
    Visibility --> Consensus

    Conflict --> Lock
    Conflict --> Compile
    Conflict --> Protocol

    style State fill:#ff6b6b
    style Time fill:#4ecdc4
    style Visibility fill:#45b7d1
    style Conflict fill:#96ceb4
```

**统一映射表**:

| 统一抽象           | L0实现      | L1实现     | L2实现        |
| ------------------ | ----------- | ---------- | ------------- |
| **状态单元** | 元组版本    | 内存位置   | 复制状态机    |
| **时间戳**   | xmin/xmax   | 生命周期   | HLC/TrueTime  |
| **可见性**   | 快照隔离    | 借用检查   | 共识协议      |
| **冲突仲裁** | 锁+死锁检测 | 编译期拒绝 | 共识+冲突解决 |

---

## 5. 概念依赖关系

### 5.1 基础依赖

```mermaid
graph TB
    Math[数学基础] --> Set[集合论]
    Math --> Order[偏序关系]
    Math --> Logic[逻辑推理]

    Set --> State[状态空间]
    Order --> Time[时间偏序]
    Logic --> Proof[形式化证明]

    State --> LSEM[LSEM模型]
    Time --> Visibility[可见性]
    Proof --> Axiom[公理系统]

    style Math fill:#ff6b6b
    style LSEM fill:#4ecdc4
```

**基础概念**:

- **集合论**: 状态空间、事务集合等的基础
- **偏序关系**: 时间戳、可见性关系的基础
- **逻辑推理**: 形式化证明的基础

---

### 5.2 组合依赖

```mermaid
graph TB
    MVCC[MVCC] --> Version[版本链]
    MVCC --> Snapshot[快照]
    MVCC --> Visibility[可见性算法]

    Version --> Tuple[元组]
    Version --> xmin[xmin/xmax]

    Snapshot --> xip[xip]
    Snapshot --> xmin

    Visibility --> Snapshot
    Visibility --> Commit[提交顺序]

    style MVCC fill:#4ecdc4
```

**组合关系**:

- **MVCC**: 由版本链、快照、可见性算法组合而成
- **快照**: 由xmin、xmax、xip组合而成
- **可见性算法**: 依赖快照和提交顺序

---

### 5.3 实现依赖

```mermaid
graph TB
    Theory[理论模型] --> Design[设计方案]
    Design --> Implementation[实现代码]
    Implementation --> Test[测试验证]

    Theory --> LSEM[LSEM模型]
    Design --> MVCC[MVCC设计]
    Implementation --> PostgreSQL[PostgreSQL实现]
    Test --> Benchmark[性能测试]

    style Theory fill:#ff6b6b
    style Design fill:#4ecdc4
    style Implementation fill:#45b7d1
    style Test fill:#96ceb4
```

---

## 六、概念分类树

### 6.1 按抽象层次分类

```mermaid
graph TB
    Root[概念体系] --> Abstract[抽象层]
    Root --> Concrete[具体层]

    Abstract --> LSEM[LSEM模型]
    Abstract --> Axiom[公理系统]
    Abstract --> Theory[理论框架]

    Concrete --> MVCC[MVCC实现]
    Concrete --> PostgreSQL[PostgreSQL]
    Concrete --> Rust[Rust]

    style Root fill:#ff6b6b
    style Abstract fill:#4ecdc4
    style Concrete fill:#45b7d1
```

---

### 6.2 按功能领域分类

```mermaid
graph TB
    Root[概念体系] --> Concurrency[并发控制]
    Root --> Distributed[分布式系统]
    Root --> Language[编程语言]
    Root --> Storage[存储引擎]

    Concurrency --> MVCC[MVCC]
    Concurrency --> Lock[锁机制]
    Concurrency --> Isolation[隔离级别]

    Distributed --> Consensus[共识协议]
    Distributed --> Transaction[分布式事务]
    Distributed --> CAP[CAP理论]

    Language --> Ownership[所有权]
    Language --> Memory[内存模型]
    Language --> Concurrency[并发原语]

    Storage --> WAL[WAL]
    Storage --> VACUUM[VACUUM]
    Storage --> Index[索引]

    style Root fill:#ff6b6b
```

---

### 6.3 按实现机制分类

```mermaid
graph TB
    Root[概念体系] --> Optimistic[乐观机制]
    Root --> Pessimistic[悲观机制]
    Root --> Hybrid[混合机制]

    Optimistic --> OCC[OCC]
    Optimistic --> MVCC[MVCC]
    Optimistic --> CRDT[CRDT]

    Pessimistic --> Lock[锁]
    Pessimistic --> 2PL[2PL]
    Pessimistic --> Serial[串行化]

    Hybrid --> SSI[SSI]
    Hybrid --> Adaptive[自适应]
    Hybrid --> Learning[学习型]

    style Root fill:#ff6b6b
```

---

## 七、概念关联矩阵

### 7.1 核心概念关联矩阵

| 概念                | LSEM     | MVCC   | ACID     | CAP    | Ownership | Consensus |
| ------------------- | -------- | ------ | -------- | ------ | --------- | --------- |
| **LSEM**      | -        | L0层   | 理论基础 | L2层   | L1层      | L2层      |
| **MVCC**      | L0实现   | -      | 隔离性   | -      | 同构      | -         |
| **ACID**      | 保证机制 | 隔离性 | -        | -      | -         | -         |
| **CAP**       | L2层     | -      | -        | -      | -         | CP系统    |
| **Ownership** | L1层     | 同构   | -        | -      | -         | 同构      |
| **Consensus** | L2层     | -      | -        | CP系统 | 同构      | -         |

**关联强度**:

- **强关联 (直接依赖)**: LSEM ↔ MVCC/Ownership/Consensus
- **中等关联 (部分依赖)**: MVCC ↔ ACID, CAP ↔ Consensus
- **弱关联 (概念相似)**: MVCC ↔ Ownership (同构关系)

---

### 7.2 跨层概念关联矩阵

| L0概念    | L1概念   | L2概念   | 关联类型     |
| --------- | -------- | -------- | ------------ |
| 元组版本  | 内存位置 | 复制状态 | 状态单元同构 |
| xmin/xmax | 所有者   | Leader   | 权威性同构   |
| 快照      | 借用     | 共识视图 | 可见性同构   |
| WAL       | RAII     | 日志复制 | 资源管理同构 |
| 锁机制    | 编译检查 | 共识协议 | 冲突仲裁同构 |

---

## 八、扩展阅读指南

### 按关系类型阅读

**定义关系**:

- [01-核心概念词典.md](./01-核心概念词典.md) - 所有概念的权威定义
- [01-核心理论模型/01-分层状态演化模型(LSEM).md](../01-核心理论模型/01-分层状态演化模型(LSEM).md) - LSEM框架定义

**因果关系**:

- [09-理论发展史.md](./09-理论发展史.md) - 理论发展历史
- [01-核心理论模型/02-MVCC理论完整解析.md](../01-核心理论模型/02-MVCC理论完整解析.md) - MVCC演进

**跨层映射**:

- [00-理论体系全景图.md](./00-理论体系全景图.md) - 跨层映射关系
- [01-核心理论模型/01-分层状态演化模型(LSEM).md](../01-核心理论模型/01-分层状态演化模型(LSEM).md#五跨层同构性证明) - 同构性证明

**实现依赖**:

- [05-实现机制/01-PostgreSQL-MVCC实现.md](../05-实现机制/01-PostgreSQL-MVCC实现.md) - PostgreSQL实现
- [05-实现机制/04-Rust-所有权实现.md](../05-实现机制/04-Rust-所有权实现.md) - Rust实现

---

**文档版本**: 1.0.0
**创建日期**: 2025-12-05
**最后更新**: 2025-12-05
**维护者**: PostgreSQL理论研究组

**相关文档**:

- [00-理论体系全景图.md](./00-理论体系全景图.md) - 理论体系总览
- [01-核心概念词典.md](./01-核心概念词典.md) - 概念定义
- [09-理论发展史.md](./09-理论发展史.md) - 发展历史
