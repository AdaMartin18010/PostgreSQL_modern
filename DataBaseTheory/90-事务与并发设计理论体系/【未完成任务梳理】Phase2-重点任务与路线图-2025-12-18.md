# 【未完成任务梳理】Phase 2 重点任务与路线图（2025-12-18）

> **定位**：在 `DataBaseTheory` 整体已经达到高完成度的基础上，专门梳理**仍在进行 / 尚未启动**的关键任务，并给出可执行的推进路线图。

---

## 一、整体判断

- **已基本收尾**：
  - `90-事务与并发设计理论体系` 主体理论文档
  - 工业案例库（CASE-PERF-001 ~ 006 性能数据补全）
  - 版本日志、导航 README、可视化/思维模型主干结构
- **仍需重点推进**（本文聚焦）：
  - **03-证明与形式化**：若干核心证明从「进行中」提升为「可发表级 100%」
  - **11-工具与自动化**：关键工具从「设计稿/示例代码」落地为可用 Alpha/Beta
  - **工业案例扩展**：部分 P2 性能任务（可选增强）
  - **可视化/本体图/决策树/矩阵**：数量目标尚未完全打满（适合作为持续填充类任务）

---

## 二、近期 P0 任务（建议 2025-Q4 ~ 2026-Q1 完成）

### P0-1：形式化证明体系收尾（03-证明与形式化）

**目标**：至少将以下两篇提升到「端到端可跑的形式化工程」，达到**论文级 / 标杆级**质量。

- **任务 1：`02-MVCC正确性` 完整形式化**
  - **现状**：状态为「⏳ 进行中」，完成度约 85%，已有证明树可视化与部分 Coq/TLA+ 代码。
  - **具体待办**：
    - [ ] 补完所有关键引理和定理的 Coq 证明脚本
    - [ ] 将 TLA+ 规格与 Coq 证明结构对齐，形成统一的 L0 抽象模型
    - [ ] 补充「证明思路解读」小节，面向工程师解释关键不变量
    - [ ] 在 `03-证明与形式化/README.md` 中将完成度调整为 100%

- **任务 2：`03-串行化` 严格证明闭环**
  - **现状**：状态为「⏳ 进行中」，完成度约 70%，TLA+/Coq 标记为部分完成。
  - **具体待办**：
    - [ ] 补充历史视图 / 图论视角下的正规化定义
    - [ ] 完成「冲突可串行化」「视图可串行化」到 MVCC 实现的映射证明
    - [ ] 给出一份完整的 TLA+ 规格（含安全性定理）和至少一个模型检查用例
    - [ ] 更新完成度为 ≥ 90%，并在后续迭代中再收敛到 100%

> **推进顺序建议**：先集中火力完成 **MVCC 正确性 → 串行化**，再视精力推进所有权安全性 / 共识 / 无锁算法证明。

---

### P0-2：核心工具链 MVP 落地（11-工具与自动化）

**目标**：将关键决策/预测类工具打包为**一个可实际运行的 MVP 工具集**（Web 或 CLI），并抽离为独立仓库。

- **任务 3：并发控制决策助手 MVP**
  - **现状**：文档为 `✅ Alpha`，已有架构设计与部分示例（`scripts/decision-assistant`）。
  - **具体待办**：
    - [ ] 固定技术栈：前端（React + TS）/ 后端（Rust Axum 或 Python FastAPI）
    - [ ] 完成最小可用功能：输入场景参数 → 输出推荐并发控制方案 + 指标预估
    - [ ] 提供 `docker-compose` 或一键启动脚本
    - [ ] 在 `11-工具与自动化/README.md` 中增加「部署与使用」小节（链接到仓库）

- **任务 4：隔离级别选择器 Alpha → Beta**
  - **现状**：文档与示例代码已达 `✅ Alpha`；有决策树 + React + FastAPI 示例。
  - **具体待办**：
    - [ ] 将示例代码整理为可直接构建/运行的前后端项目（与决策助手可共用 UI 框架）
    - [ ] 增加若干**典型预设场景**（秒杀 / 金融 / 社交 / 分析），支持一键选择
    - [ ] 将工具接入 `06-性能分析/04-量化对比实验` 的部分实验数据，用于说明推荐背后依据
    - [ ] 将状态从 `Alpha` 提升为 `Beta`，并在 README 中记录版本变更

- **任务 5：性能预测器 Beta 稳定化**
  - **现状**：文档中为 `✅ Beta`，已有排队论模型伪代码与准确度估计。
  - **具体待办**：
    - [ ] 实现一个可调用的预测 API（输入硬件/配置/负载 → 输出 TPS/P99）
    - [ ] 用现有工业案例的性能数据做一轮**回测评估**，给出真实误差统计
    - [ ] 在文档中补充「模型局限性」与「适用范围」说明

> **推进策略**：将 **决策助手 + 隔离级别选择器 + 性能预测器** 视为一个「并发控制与性能评估工具箱」，优先让它们形成**统一入口 + 可运行 Demo**。

---

## 三、中期 P1 任务（建议 2026-Q2 前按需推进）

### P1-1：工程类工具原型（11-工具与自动化）

- **任务 6：瓶颈诊断器**
  - [ ] 定义输入：pg_stat 系列视图 + OS 指标（CPU/IO/内存）
  - [ ] 实现 CLI 原型：读取指标 → 输出「CPU/IO/锁/内存」瓶颈判定
  - [ ] 与 `06-性能分析/05-性能调优实战指南.md` 互相引用

- **任务 7：容量规划器**
  - [ ] 基于 `06-性能分析/01-吞吐量公式推导.md` 的模型，给出资源需求估算脚本
  - [ ] 支持简单的「QPS 目标 → 推荐 CPU/内存/磁盘」功能

- **任务 8：自动索引推荐器**
  - [ ] 利用 `pg_stat_statements` + 慢查询日志，输出候选索引列表
  - [ ] 和 `索引与查询优化` 模块中的最佳实践联动（例如只推荐合适选择性/代价的索引）

### P1-2：形式化证明扩展

- **任务 9：所有权安全性证明**
  - [ ] 完成 Lean/Rust 类型系统层面的所有权唯一性证明
  - [ ] 将证明与 `Rust 所有权模型` 文档形成闭环

- **任务 10：共识协议与无锁算法证明**
  - [ ] 在现有 TLA+ 草稿基础上，补完安全性与活性定理
  - [ ] 将无锁算法正确性证明与 `06-性能分析/06-无锁算法性能分析.md` 对齐

---

## 四、长期研究任务（Phase 3/4，研究导向）

### 4.1 未解决问题清单（08-扩展规划/02-未解决问题清单）

这一部分问题（量子数据库语义、CAP「突破」、零开销串行化等），整体属于：

- **性质**：研究课题，而非短期工程任务
- **时间维度**：2026–2027+，与论文和独立研究项目绑定

**建议**：

- 保持 `02-未解决问题清单.md` 作为**权威研究 Roadmap**，不将其中条目计入当前 P0 工程任务。
- 当某个方向开始实际研究（如自动调优系统、智能 VACUUM 调度），再在 `10-前沿研究方向` 下对应文档中维护进度。

### 4.2 前沿研究方向（10-前沿研究方向）

从 `10-前沿研究方向/README.md` 的研究对比矩阵来看：

- **推荐 P0 研究方向**：
  - 自动调优系统
  - 智能 VACUUM 调度
- **推荐 P1 研究方向**：
  - AI 驱动查询优化
  - 分布式死锁预测
  - PMEM 持久内存理论

**行动建议**：

- 每个研究主题视为**独立项目**：
  - [ ] 建立独立仓库（或子目录），包含：原型代码 + 实验数据 + 论文草稿
  - [ ] 在 `10-前沿研究方向/README.md` 中仅维护「状态/里程碑」与「关键链接」

---

## 五、工业案例扩展与性能任务（可选增强）

来自 `【全面任务编排】所有任务梳理与推进计划-2025-12-05.md`：

- CASE-PERF-001 ~ 006：**✅ 已完成**
- CASE-PERF-007 ~ 010（知识图谱 / 区块链 / AI 训练数据管理 / 社交网络系统）：**P2，📋 待开始**

**定位**：这 4 个案例的**性能测试与量化分析**属于**增强型内容**，不阻塞整个理论体系的主线。

**建议**：

- 将它们视为：
  - [ ] `06-性能分析/04-量化对比实验.md` 中的「后续补充案例」
  - [ ] 在有新的实践或真实数据时，再逐步补完，而不是挤进当前 P0 路线

---

## 六、可视化 / 本体图 / 决策树 / 多维矩阵（持续填充）

来自 `DataBaseTheory/README-2025-12-03.md`：

- [ ] 完成剩余 14 个详细本体图
- [ ] 推理链图（目标 40+）
- [ ] 决策树集合（目标 30+）
- [ ] 多维矩阵（目标 20+）

**建议策略**：

- 不再单独开「可视化填充」大项目，而是作为**日常推进的附属任务**：
  - 每当新增/扩展一个模块或工具时：
    - [ ] 同步更新对应的本体图节点
    - [ ] 为新决策流程补一个决策树图
    - [ ] 在多维矩阵中增加一行/一列

---

## 七、执行建议与检查方式

### 7.1 建议执行顺序

1. **锁定两个核心证明**：`02-MVCC正确性` 与 `03-串行化`
2. **完成工具 MVP**：并发控制决策助手 + 隔离级别选择器 + 性能预测器
3. **视精力扩展 P1 工具与证明**：瓶颈诊断器 / 容量规划器 / 自动索引推荐器 / 所有权安全性证明等
4. **将前沿研究与未解决问题保持在「研究路线图」层面**，不作为当前工程交付阻塞项

### 7.2 如何确认任务完成？

- **形式化证明类**：
  - README 中的完成度从「⏳ 进行中」变为「✅ 已完成」，并附上可运行的 Coq/TLA+ 工程链接
- **工具类**：
  - 有独立仓库或 scripts 目录
  - 有 README + 一键运行方式 + 至少 1–2 个真实使用示例
- **工业案例 / 性能类**：
  - 性能章节达到：有测试方法 + 数据表格 + 对比分析 + 结论四要素

---

> **说明**：本文件用于在当前时间点（2025-12-18）对 `DataBaseTheory` 的**未完成任务**做一次集中快照，后续可以按日期新建版本（如 `…-2026-03-01.md`）来记录迭代与完成情况。
