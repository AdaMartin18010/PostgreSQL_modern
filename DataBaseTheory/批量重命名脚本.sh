#!/bin/bash
# 批量重命名脚本 - 将1.1.xx文件重命名为文件夹编号.序号格式
# 使用方法: ./批量重命名脚本.sh

cd "$(dirname "$0")"

# 05-索引与查询优化
cd "05-索引与查询优化"
mv "1.1.34-代价模型与优化器-等价重写与最优性.md" "05.01-代价模型与优化器-等价重写与最优性.md" 2>/dev/null
mv "1.1.35-索引结构正确性-BTree_GiST_GiN不变式与证明.md" "05.02-索引结构正确性-BTree_GiST_GiN不变式与证明.md" 2>/dev/null
mv "1.1.46-BTree插入不变式-严格归纳证明.md" "05.03-BTree插入不变式-严格归纳证明.md" 2>/dev/null
mv "1.1.47-增量物化视图-代数差分与正确性.md" "05.04-增量物化视图-代数差分与正确性.md" 2>/dev/null
mv "1.1.58-部分索引与约束排除-语义与正确性.md" "05.05-部分索引与约束排除-语义与正确性.md" 2>/dev/null
mv "1.1.59-表分区与分区裁剪-语义与等价.md" "05.06-表分区与分区裁剪-语义与等价.md" 2>/dev/null
mv "1.1.60-物化视图选择-查询重写等价与代价界.md" "05.07-物化视图选择-查询重写等价与代价界.md" 2>/dev/null
mv "1.1.74-可自维护物化视图-可维护性判据与构造.md" "05.08-可自维护物化视图-可维护性判据与构造.md" 2>/dev/null
mv "1.1.79-可自维护物化视图-键依赖与传递更新的严格证明.md" "05.09-可自维护物化视图-键依赖与传递更新的严格证明.md" 2>/dev/null
mv "1.1.80-查询重写等价性-基于同构的充分必要条件.md" "05.10-查询重写等价性-基于同构的充分必要条件.md" 2>/dev/null
mv "1.1.81-并行查询调度-负载均衡与通信代价的最优化.md" "05.11-并行查询调度-负载均衡与通信代价的最优化.md" 2>/dev/null
mv "1.1.82-索引选择与代价模型-多目标优化的Pareto最优性.md" "05.12-索引选择与代价模型-多目标优化的Pareto最优性.md" 2>/dev/null
mv "1.1.83-查询优化器自适应-反馈学习与代价模型修正.md" "05.13-查询优化器自适应-反馈学习与代价模型修正.md" 2>/dev/null
mv "1.1.87-数据库分区策略-负载均衡与查询优化的权衡.md" "05.14-数据库分区策略-负载均衡与查询优化的权衡.md" 2>/dev/null
mv "1.1.93-数据库性能调优-参数优化与自适应调整的形式化.md" "05.15-数据库性能调优-参数优化与自适应调整的形式化.md" 2>/dev/null
mv "1.1.105-数据库联邦查询模型-多数据源集成与查询分解的形式化.md" "05.16-数据库联邦查询模型-多数据源集成与查询分解的形式化.md" 2>/dev/null
cd ..

# 06-存储与恢复
cd "06-存储与恢复"
mv "1.1.32-TLA+-事务与WAL-规范纲要.md" "06.01-TLA+-事务与WAL-规范纲要.md" 2>/dev/null
mv "1.1.36-VACUUM与可见性不变式-垃圾回收正确性.md" "06.02-VACUUM与可见性不变式-垃圾回收正确性.md" 2>/dev/null
mv "1.1.57-ARIES日志恢复-正确性与不变式.md" "06.03-ARIES日志恢复-正确性与不变式.md" 2>/dev/null
mv "1.1.84-数据库压缩与编码-信息论下界与最优编码.md" "06.04-数据库压缩与编码-信息论下界与最优编码.md" 2>/dev/null
mv "1.1.85-数据库缓存策略-工作集理论与最优替换算法.md" "06.05-数据库缓存策略-工作集理论与最优替换算法.md" 2>/dev/null
mv "1.1.86-数据库日志压缩-增量编码与压缩率优化.md" "06.06-数据库日志压缩-增量编码与压缩率优化.md" 2>/dev/null
mv "1.1.88-数据库备份与恢复-增量备份与时间点恢复的优化.md" "06.07-数据库备份与恢复-增量备份与时间点恢复的优化.md" 2>/dev/null
mv "1.1.92-数据库容错与高可用-故障模型与恢复策略的形式化.md" "06.08-数据库容错与高可用-故障模型与恢复策略的形式化.md" 2>/dev/null
cd ..

# 07-安全与合规
cd "07-安全与合规"
mv "1.1.30-安全策略与非干扰-逻辑框架与证明.md" "07.01-安全策略与非干扰-逻辑框架与证明.md" 2>/dev/null
mv "1.1.67-差分隐私-SQL聚合的灵敏度与噪声机制.md" "07.02-差分隐私-SQL聚合的灵敏度与噪声机制.md" 2>/dev/null
mv "1.1.70-行级安全-RLS策略语义与不可逃逸性证明.md" "07.03-行级安全-RLS策略语义与不可逃逸性证明.md" 2>/dev/null
mv "1.1.90-数据库安全模型-访问控制与信息流安全的形式化.md" "07.04-数据库安全模型-访问控制与信息流安全的形式化.md" 2>/dev/null
mv "1.1.91-数据库审计与合规-完整性约束与审计轨迹的形式化.md" "07.05-数据库审计与合规-完整性约束与审计轨迹的形式化.md" 2>/dev/null
cd ..

# 08-查询语言与语义
cd "08-查询语言与语义"
mv "1.1.37-概率数据库与不确定性查询-可能世界语义.md" "08.01-概率数据库与不确定性查询-可能世界语义.md" 2>/dev/null
mv "1.1.39-关系代数与关系演算-科德定理与可表达性.md" "08.02-关系代数与关系演算-科德定理与可表达性.md" 2>/dev/null
mv "1.1.40-同态与查询包含-Containment_Equivalence判定.md" "08.03-同态与查询包含-Containment_Equivalence判定.md" 2>/dev/null
mv "1.1.41-Chase与Backchase-依赖下的查询最小化.md" "08.04-Chase与Backchase-依赖下的查询最小化.md" 2>/dev/null
mv "1.1.42-Datalog与递归查询-不动点语义与可计算性.md" "08.05-Datalog与递归查询-不动点语义与可计算性.md" 2>/dev/null
mv "1.1.43-半环血缘与代数-证据与不确定性传播.md" "08.06-半环血缘与代数-证据与不确定性传播.md" 2>/dev/null
mv "1.1.44-视图更新与可实现性-必要条件与构造.md" "08.07-视图更新与可实现性-必要条件与构造.md" 2>/dev/null
mv "1.1.50-CTE与递归查询-关系代数不动点语义.md" "08.08-CTE与递归查询-关系代数不动点语义.md" 2>/dev/null
mv "1.1.51-外键与参照完整性-约束满足与级联正确性.md" "08.09-外键与参照完整性-约束满足与级联正确性.md" 2>/dev/null
mv "1.1.52-窗口聚合语义-稳定性与等价变换.md" "08.10-窗口聚合语义-稳定性与等价变换.md" 2>/dev/null
mv "1.1.63-多重集语义-SQL与关系代数的bag形式化.md" "08.11-多重集语义-SQL与关系代数的bag形式化.md" 2>/dev/null
mv "1.1.71-外连接与NULL-三值逻辑的形式语义.md" "08.12-外连接与NULL-三值逻辑的形式语义.md" 2>/dev/null
cd ..

# 09-数据模型与规范化
cd "09-数据模型与规范化"
mv "1.1.33-关系约束与规范化-函数依赖与范式证明.md" "09.01-关系约束与规范化-函数依赖与范式证明.md" 2>/dev/null
mv "1.1.45-BCNF与3NF-完整证明稿.md" "09.02-BCNF与3NF-完整证明稿.md" 2>/dev/null
cd ..

# 12-数据管理模型
cd "12-数据管理模型"
mv "1.1.68-数据血缘-why_where_how形式语义.md" "12.01-数据血缘-why_where_how形式语义.md" 2>/dev/null
mv "1.1.106-数据库数据仓库模型-OLAP查询与多维分析的形式化.md" "12.02-数据库数据仓库模型-OLAP查询与多维分析的形式化.md" 2>/dev/null
mv "1.1.107-数据库数据湖模型-半结构化数据与元数据管理的形式化.md" "12.03-数据库数据湖模型-半结构化数据与元数据管理的形式化.md" 2>/dev/null
mv "1.1.108-数据库数据网格模型-分布式数据治理与访问控制的形式化.md" "12.04-数据库数据网格模型-分布式数据治理与访问控制的形式化.md" 2>/dev/null
mv "1.1.109-数据库数据虚拟化模型-虚拟视图与查询重写的形式化.md" "12.05-数据库数据虚拟化模型-虚拟视图与查询重写的形式化.md" 2>/dev/null
mv "1.1.110-数据库数据血缘模型-数据溯源与影响分析的形式化.md" "12.06-数据库数据血缘模型-数据溯源与影响分析的形式化.md" 2>/dev/null
mv "1.1.111-数据库数据质量模型-质量评估与清洗策略的形式化.md" "12.07-数据库数据质量模型-质量评估与清洗策略的形式化.md" 2>/dev/null
mv "1.1.112-数据库数据隐私模型-隐私保护与匿名化技术的形式化.md" "12.08-数据库数据隐私模型-隐私保护与匿名化技术的形式化.md" 2>/dev/null
mv "1.1.113-数据库数据治理模型-治理策略与合规性检查的形式化.md" "12.09-数据库数据治理模型-治理策略与合规性检查的形式化.md" 2>/dev/null
mv "1.1.114-数据库数据集成模型-ETL流程与数据转换的形式化.md" "12.10-数据库数据集成模型-ETL流程与数据转换的形式化.md" 2>/dev/null
mv "1.1.115-数据库数据流模型-流式ETL与实时处理的形式化.md" "12.11-数据库数据流模型-流式ETL与实时处理的形式化.md" 2>/dev/null
cd ..

# 13-数据编排
cd "13-数据编排"
mv "1.1.116-数据库数据管道模型-管道编排与调度优化的形式化.md" "13.01-数据库数据管道模型-管道编排与调度优化的形式化.md" 2>/dev/null
mv "1.1.117-数据库数据编排模型-工作流引擎与状态管理的形式化.md" "13.02-数据库数据编排模型-工作流引擎与状态管理的形式化.md" 2>/dev/null
mv "1.1.118-数据库数据编排模型-编排语言与语义的形式化.md" "13.03-数据库数据编排模型-编排语言与语义的形式化.md" 2>/dev/null
mv "1.1.119-数据库数据编排模型-编排验证与形式化验证的形式化.md" "13.04-数据库数据编排模型-编排验证与形式化验证的形式化.md" 2>/dev/null
mv "1.1.120-数据库数据编排模型-编排优化与性能分析的形式化.md" "13.05-数据库数据编排模型-编排优化与性能分析的形式化.md" 2>/dev/null
mv "1.1.121-数据库数据编排模型-编排监控与可观测性的形式化.md" "13.06-数据库数据编排模型-编排监控与可观测性的形式化.md" 2>/dev/null
mv "1.1.122-数据库数据编排模型-编排安全与访问控制的形式化.md" "13.07-数据库数据编排模型-编排安全与访问控制的形式化.md" 2>/dev/null
mv "1.1.123-数据库数据编排模型-编排容错与故障恢复的形式化.md" "13.08-数据库数据编排模型-编排容错与故障恢复的形式化.md" 2>/dev/null
mv "1.1.124-数据库数据编排模型-编排扩展性与弹性伸缩的形式化.md" "13.09-数据库数据编排模型-编排扩展性与弹性伸缩的形式化.md" 2>/dev/null
mv "1.1.125-数据库数据编排模型-编排成本与资源优化的形式化.md" "13.10-数据库数据编排模型-编排成本与资源优化的形式化.md" 2>/dev/null
mv "1.1.126-数据库数据编排模型-编排治理与合规性的形式化.md" "13.11-数据库数据编排模型-编排治理与合规性的形式化.md" 2>/dev/null
mv "1.1.127-数据库数据编排模型-编排创新与前沿技术的形式化.md" "13.12-数据库数据编排模型-编排创新与前沿技术的形式化.md" 2>/dev/null
mv "1.1.128-数据库数据编排模型-编排生态与标准化的形式化.md" "13.13-数据库数据编排模型-编排生态与标准化的形式化.md" 2>/dev/null
mv "1.1.129-数据库数据编排模型-编排总结与展望的形式化.md" "13.14-数据库数据编排模型-编排总结与展望的形式化.md" 2>/dev/null
cd ..

# 15-统计与估计
cd "15-统计与估计"
mv "1.1.49-选择率估计误差-敏感性与上界.md" "15.01-选择率估计误差-敏感性与上界.md" 2>/dev/null
mv "1.1.53-统计估计一致性-直方图与采样误差界.md" "15.02-统计估计一致性-直方图与采样误差界.md" 2>/dev/null
mv "1.1.72-自适应直方图-分箱策略与收敛率证明.md" "15.03-自适应直方图-分箱策略与收敛率证明.md" 2>/dev/null
mv "1.1.76-多列相关-多元正态近似与误差分析.md" "15.04-多列相关-多元正态近似与误差分析.md" 2>/dev/null
mv "1.1.78-统计直方图自适应分箱-一致性与复杂度证明.md" "15.05-统计直方图自适应分箱-一致性与复杂度证明.md" 2>/dev/null
cd ..

# 16-逻辑复制与冲突
cd "16-逻辑复制与冲突"
mv "1.1.65-逻辑复制-一致性语义与冲突解算.md" "16.01-逻辑复制-一致性语义与冲突解算.md" 2>/dev/null
mv "1.1.77-逻辑复制冲突策略-Last-Write-Wins与合并函数比较.md" "16.02-逻辑复制冲突策略-Last-Write-Wins与合并函数比较.md" 2>/dev/null
cd ..

# 17-系统对比与分析
cd "17-系统对比与分析"
mv "1.1.11-PostgreSQL系统设计与现代硬件AI场景适配性分析.md" "17.01-PostgreSQL系统设计与现代硬件AI场景适配性分析.md" 2>/dev/null
mv "1.1.12-PostgreSQL与主流数据库系统对比分析.md" "17.02-PostgreSQL与主流数据库系统对比分析.md" 2>/dev/null
cd ..

# 18-系统总结
cd "18-系统总结"
mv "1.1.13-未解难题与未来研究方向.md" "18.01-未解难题与未来研究方向.md" 2>/dev/null
mv "1.1.22-PostgreSQL-2025代码实现与形式证明.md" "18.02-PostgreSQL-2025代码实现与形式证明.md" 2>/dev/null
mv "1.1.89-数据库监控与诊断-性能瓶颈检测与根因分析.md" "18.03-数据库监控与诊断-性能瓶颈检测与根因分析.md" 2>/dev/null
mv "1.1.104-数据库量子计算模型-量子数据库与量子查询的形式化.md" "18.04-数据库量子计算模型-量子数据库与量子查询的形式化.md" 2>/dev/null
mv "1.1.130-数据库系统理论总结-核心定理与证明体系的形式化.md" "18.05-数据库系统理论总结-核心定理与证明体系的形式化.md" 2>/dev/null
mv "1.1.131-数据库系统应用总结-技术栈与架构模式的形式化.md" "18.06-数据库系统应用总结-技术栈与架构模式的形式化.md" 2>/dev/null
mv "1.1.132-数据库系统前沿总结-新兴技术与发展趋势的形式化.md" "18.07-数据库系统前沿总结-新兴技术与发展趋势的形式化.md" 2>/dev/null
mv "1.1.133-数据库系统生态总结-开源生态与产业发展的形式化.md" "18.08-数据库系统生态总结-开源生态与产业发展的形式化.md" 2>/dev/null
mv "1.1.134-数据库系统方法论总结-研究方法与工程实践的形式化.md" "18.09-数据库系统方法论总结-研究方法与工程实践的形式化.md" 2>/dev/null
mv "1.1.135-数据库系统深度关联分析-跨领域理论与技术融合的形式化.md" "18.10-数据库系统深度关联分析-跨领域理论与技术融合的形式化.md" 2>/dev/null
mv "1.1.136-数据库系统广度关联分析-多维度理论与应用映射的形式化.md" "18.11-数据库系统广度关联分析-多维度理论与应用映射的形式化.md" 2>/dev/null
mv "1.1.137-数据库系统形式证明体系-严格数学证明与逻辑推理的形式化.md" "18.12-数据库系统形式证明体系-严格数学证明与逻辑推理的形式化.md" 2>/dev/null
mv "1.1.138-数据库系统论证体系-逻辑论证与批判性思维的形式化.md" "18.13-数据库系统论证体系-逻辑论证与批判性思维的形式化.md" 2>/dev/null
mv "1.1.139-数据库系统批判性严谨性-理论批判与方法论反思的形式化.md" "18.14-数据库系统批判性严谨性-理论批判与方法论反思的形式化.md" 2>/dev/null
cd ..

echo "批量重命名完成！"
