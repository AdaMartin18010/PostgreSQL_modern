# 文档结构统一规范

**版本**: 2.0
**发布日期**: 2025年11月12日
**状态**: ✅ 正式发布
**适用范围**: 所有技术文档

---

## 📋 规范概述

本规范定义了PostgreSQL知识库所有技术文档的统一结构标准，确保：

- ✅ 所有文档都有完整的目录
- ✅ 所有标题都有统一的序号格式
- ✅ 文档结构清晰一致
- ✅ 便于导航和查找

---

## 📐 统一文档结构

### 标准文档结构（必需元素）

```markdown
# 文档标题

> **文档版本**: v2.0
> **最后更新**: YYYY-MM-DD
> **版本覆盖**: PostgreSQL 18.x (推荐) ⭐ | 17.x (推荐) | 16.x (兼容)
> **文档状态**: ✅ 已更新

---

## 📋 目录

- [1. 概述](#1-概述)
  - [1.1 背景](#11-背景)
  - [1.2 适用场景](#12-适用场景)
- [2. 核心概念](#2-核心概念)
  - [2.1 基本概念](#21-基本概念)
  - [2.2 关键术语](#22-关键术语)
- [3. 技术详解](#3-技术详解)
  - [3.1 实现原理](#31-实现原理)
  - [3.2 配置方法](#32-配置方法)
- [4. 实践示例](#4-实践示例)
  - [4.1 基础示例](#41-基础示例)
  - [4.2 高级用法](#42-高级用法)
- [5. 性能优化](#5-性能优化)
- [6. 最佳实践](#6-最佳实践)
- [7. 深入阅读](#7-深入阅读)
- [8. 参考文献](#8-参考文献)

---

## 1. 概述

### 1.1 背景

...

### 1.2 适用场景

...

## 2. 核心概念

### 2.1 基本概念

...

## 3. 技术详解

...
```

---

## 🔢 标题序号规范

### 序号规则

| 层级 | 格式 | 示例 | 说明 |
|-----|------|------|------|
| H1 | 无序号 | `# 文档标题` | 仅文档标题使用 |
| H2 | 数字序号 | `## 1. 概述` | 必须使用数字序号 |
| H3 | 两级序号 | `### 1.1 背景` | 必须使用两级序号 |
| H4 | 三级序号 | `#### 1.1.1 详细内容` | 可选三级序号 |
| H5 | 四级序号 | `##### 1.1.1.1 更细节` | 可选四级序号 |

### 禁止格式

❌ **禁止使用**:

- `## 📋 目录` - 应使用 `## 📋 目录` 或 `## 目录`
- `### 核心功能` - 应使用 `### 1.1 核心功能`
- `## 概述` - 应使用 `## 1. 概述`
- `### 1. 子主题` - 应使用 `### 1.1 子主题`

✅ **正确格式**:

- `## 📋 目录` - 目录章节可用emoji
- `## 1. 概述` - H2必须有序号
- `### 1.1 背景` - H3必须有两级序号
- `#### 1.1.1 详细内容` - H4可选三级序号

---

## 📑 目录生成规范

### 目录位置

目录必须放在文档元信息之后、正文内容之前：

```markdown
# 文档标题

> 元信息...

---

## 📋 目录

- [1. 概述](#1-概述)
  - [1.1 背景](#11-背景)
- [2. 核心概念](#2-核心概念)

---

## 1. 概述
```

### 目录深度

- **默认**: 显示到H3级别（两级序号）
- **复杂文档**: 可显示到H4级别（三级序号）
- **简单文档**: 可仅显示H2级别

### 目录格式

```markdown
## 📋 目录

- [1. 概述](#1-概述)
  - [1.1 背景](#11-背景)
  - [1.2 适用场景](#12-适用场景)
- [2. 核心概念](#2-核心概念)
  - [2.1 基本概念](#21-基本概念)
  - [2.2 关键术语](#22-关键术语)
```

---

## 📝 文档元信息规范

### 标准元信息格式

```markdown
> **文档版本**: v2.0
> **最后更新**: 2025-11-12
> **版本覆盖**: PostgreSQL 18.x (推荐) ⭐ | 17.x (推荐) | 16.x (兼容)
> **文档状态**: ✅ 已更新
```

### 可选元信息

```markdown
> 📖 **文档说明**
>
> 本文档提供XXX的基础概述。如需详细内容，请参考：
>
> - 🚀 [详细指南](../path/to/doc.md) - 详细说明
> - 📋 [相关专题](../path/to/topic.md) - 相关主题
```

---

## ✅ 检查清单

每个文档必须满足：

- [ ] 有完整的目录（📋 目录章节）
- [ ] 所有H2标题都有数字序号（1., 2., 3...）
- [ ] 所有H3标题都有两级序号（1.1, 1.2, 2.1...）
- [ ] 目录链接正确（锚点匹配）
- [ ] 文档元信息完整
- [ ] 结构清晰一致

---

## 🔧 处理优先级

### P0 - 最高优先级（核心文档）

- 01-核心基础/ (6个文档)
- 02-查询处理/ (5个文档)
- 05-前沿技术/ 核心文档 (5个)
- 06-实战案例/ (3个文档)

### P1 - 高优先级（功能文档）

- 03-高级特性/ (6个文档)
- 04-部署运维/ (6个文档)

### P2 - 中优先级（应用文档）

- 07-应用实践/ (3个文档)
- 08-工具资源/ (8个文档)

---

## 📊 处理进度

| 目录 | 总文件数 | 已处理 | 待处理 | 完成率 |
|-----|---------|--------|--------|--------|
| 01-核心基础 | 6 | 0 | 6 | 0% |
| 02-查询处理 | 5 | 0 | 5 | 0% |
| 03-高级特性 | 6 | 1 | 5 | 17% |
| 04-部署运维 | 6 | 1 | 5 | 17% |
| 05-前沿技术 | 5 | 5 | 0 | 100% |
| 06-实战案例 | 3 | 0 | 3 | 0% |
| **总计** | **31** | **7** | **24** | **23%** |

---

## 🚀 执行计划

### 阶段1: 核心基础文档（P0）

- [ ] 01.01-系统架构与设计原理.md
- [ ] 01.02-关系数据模型与理论.md
- [ ] 01.03-SQL语言规范与标准.md
- [ ] 01.04-事务管理与ACID特性.md
- [ ] 01.05-并发控制与MVCC机制.md
- [ ] 01.06-存储管理与数据持久化.md

### 阶段2: 查询处理文档（P0）

- [ ] 02.01-查询优化器原理.md
- [ ] 02.02-索引结构与优化.md
- [ ] 02.03-统计信息与代价模型.md
- [ ] 02.04-执行计划与性能调优.md
- [ ] 02.05-并行查询处理.md

### 阶段3: 高级特性文档（P1）

- [ ] 03.01-扩展系统与插件开发.md
- [ ] 03.02-安全机制与访问控制.md
- [x] 03.03-流处理与CEP.md ✅
- [ ] 03.04-机器学习集成.md
- [x] 03.05-向量数据库支持.md ✅
- [ ] 03.06-图数据库功能.md

### 阶段4: 部署运维文档（P1）

- [ ] 04.01-单机部署与配置.md
- [ ] 04.02-集群部署与高可用.md
- [ ] 04.03-云原生与容器化.md
- [ ] 04.04-监控与诊断.md
- [ ] 04.05-备份与恢复.md
- [x] 04.06-性能调优实践.md ✅

---

**最后更新**: 2025-11-12
**维护者**: Documentation Team
