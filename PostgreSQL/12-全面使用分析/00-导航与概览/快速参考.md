# PostgreSQL 18 快速参考

> **版本**: v2.0
> **最后更新**: 2025-01-15
> **版本覆盖**: PostgreSQL 18.x (推荐) ⭐
> **状态**: ✅ 已完成（所有核心文档已完成质量改进）

---

## 📋 快速查找

### 按角色查找

| 我是... | 我想了解... | 查看文档 |
|--------|------------|---------|
| **程序员** | 如何编写高效的SQL | [性能编程技巧](../01-程序员视角/01.05-性能编程技巧.md) |
| **程序员** | 如何处理事务 | [API使用指南](../01-程序员视角/01.02-API使用指南.md) |
| **程序员** | 如何设计代码结构 | [代码模式与最佳实践](../01-程序员视角/01.03-代码模式与最佳实践.md) |
| **运维** | 如何部署PostgreSQL | [部署架构设计](../02-运维视角/02.01-部署架构设计.md) |
| **运维** | 如何监控系统 | [监控与可观测性](../02-运维视角/02.02-监控与可观测性.md) |
| **运维** | 如何排查故障 | [故障排查与恢复](../02-运维视角/02.04-故障排查与恢复.md) |
| **数据分析师** | 如何设计数据模型 | [数据建模方法论](../03-数据视角/03.01-数据建模方法论.md) |
| **数据分析师** | 如何设计ETL流程 | [ETL流程设计](../03-数据视角/03.02-ETL流程设计.md) |
| **数据分析师** | 如何进行数据分析 | [数据分析与挖掘](../03-数据视角/03.03-数据分析与挖掘.md) |
| **业务分析师** | 如何建模业务 | [业务建模方法论](../04-业务视角/04.01-业务建模方法论.md) |
| **业务分析师** | 如何设计业务流程 | [业务流程建模](../04-业务视角/04.03-业务流程建模.md) |
| **架构师** | 如何设计系统架构 | [系统架构设计](../05-架构视角/05.01-系统架构设计.md) |
| **架构师** | 如何设计分布式架构 | [分布式架构设计](../05-架构视角/05.02-分布式架构设计.md) |
| **架构师** | 如何进行技术选型 | [技术选型权衡](../08-模型权衡/08.01-技术选型权衡.md) |

### 按问题查找

| 问题 | 解决方案 | 查看文档 |
|-----|---------|---------|
| **查询慢** | 查询优化、索引优化 | [性能调优实践](../02-运维视角/02.03-性能调优实践.md) |
| **连接数过多** | 连接池配置、连接管理 | [部署架构设计](../02-运维视角/02.01-部署架构设计.md) |
| **数据不一致** | 事务管理、一致性保证 | [API使用指南](../01-程序员视角/01.02-API使用指南.md) |
| **高可用问题** | 主从复制、故障切换 | [高可用架构设计](../05-架构视角/05.03-高可用架构设计.md) |
| **性能瓶颈** | 性能分析、优化策略 | [性能架构设计](../05-架构视角/05.04-性能架构设计.md) |

### 按场景查找

| 场景 | 相关文档 |
|-----|---------|
| **Web应用** | [API使用指南](../01-程序员视角/01.02-API使用指南.md)、[系统架构设计](../05-架构视角/05.01-系统架构设计.md) |
| **数据分析** | [数据分析与挖掘](../03-数据视角/03.03-数据分析与挖掘.md)、[数据仓库设计](../03-数据视角/03.05-数据仓库设计.md) |
| **高并发** | [性能编程技巧](../01-程序员视角/01.05-性能编程技巧.md)、[性能架构设计](../05-架构视角/05.04-性能架构设计.md) |
| **分布式系统** | [分布式架构设计](../05-架构视角/05.02-分布式架构设计.md)、[系统架构设计](../05-架构视角/05.01-系统架构设计.md) |
| **多租户** | [多租户架构设计](../04-业务视角/04.05-多租户架构设计.md) |

---

## 🎯 常用命令

### 连接管理

```sql
-- 查看连接数
SELECT count(*) FROM pg_stat_activity;

-- 查看连接详情
SELECT * FROM pg_stat_activity WHERE state = 'active';

-- 终止连接
SELECT pg_terminate_backend(pid) FROM pg_stat_activity WHERE ...;
```

### 性能分析

```sql
-- 查看慢查询
SELECT * FROM pg_stat_statements ORDER BY total_exec_time DESC LIMIT 10;

-- 查看表大小
SELECT schemaname, tablename, pg_size_pretty(pg_total_relation_size(schemaname||'.'||tablename)) AS size
FROM pg_tables ORDER BY pg_total_relation_size(schemaname||'.'||tablename) DESC;

-- 查看索引使用情况
SELECT * FROM pg_stat_user_indexes;
```

### 监控查询

```sql
-- 查看数据库统计
SELECT * FROM pg_stat_database WHERE datname = current_database();

-- 查看表统计
SELECT * FROM pg_stat_user_tables;

-- 查看复制状态
SELECT * FROM pg_stat_replication;
```

---

## 📚 学习路径

### 初学者路径

1. SQL基础 → 2. 数据类型 → 3. 索引基础 → 4. 事务基础

### 中级路径

1. 查询优化 → 2. 性能调优 → 3. 高可用 → 4. 安全

### 高级路径

1. 分布式架构 → 2. 扩展开发 → 3. 内核原理 → 4. 形式化验证

---

## 🔗 相关资源

- [PostgreSQL 18官方文档](https://www.postgresql.org/docs/18/)
- [PostgreSQL Wiki](https://wiki.postgresql.org/)
- [PostgreSQL邮件列表](https://www.postgresql.org/list/)

---

**最后更新**: 2025-01-15
**维护者**: PostgreSQL Documentation Team
