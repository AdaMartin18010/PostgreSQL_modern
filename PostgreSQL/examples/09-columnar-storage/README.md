# PostgreSQL 列存储示例

> **创建日期**：2025-01-15
> **最后更新**：2025-01-15
> **版本**：PostgreSQL 18.x (推荐) ⭐ | 17.x (推荐) | 16.x (兼容)

---

## 📑 目录

- [PostgreSQL 列存储示例](#postgresql-列存储示例)
  - [📑 目录](#-目录)
  - [📋 示例说明](#-示例说明)
  - [📁 文件列表](#-文件列表)
  - [🎯 使用说明](#-使用说明)
    - [前置要求](#前置要求)
    - [安装扩展](#安装扩展)
    - [运行示例](#运行示例)
  - [📚 相关资源](#-相关资源)

---

## 📋 示例说明

PostgreSQL原生采用行存储，但通过扩展可以实现列存储，特别适合OLAP（在线分析处理）场景。本示例展示了：

1. **cstore_fdw列存储** - 使用cstore_fdw扩展实现列存储
2. **列存储查询优化** - 列存储查询优化技巧
3. **混合存储架构** - 热数据行存储 + 冷数列存储

---

## 📁 文件列表

- [01-cstore-fdw列存储.sql](./01-cstore-fdw列存储.sql) - cstore_fdw列存储实现
- [02-列存储查询优化.sql](./02-列存储查询优化.sql) - 列存储查询优化示例
- [03-混合存储架构.sql](./03-混合存储架构.sql) - 混合存储架构实现

---

## 🎯 使用说明

### 前置要求

- PostgreSQL 12+ (推荐 PostgreSQL 18)
- cstore_fdw扩展（需要编译安装）

### 安装扩展

```bash
# 安装cstore_fdw扩展
# 方法1：使用pgxn
pgxn install cstore_fdw

# 方法2：从源码编译
git clone https://github.com/citusdata/cstore_fdw.git
cd cstore_fdw
make
sudo make install
```

### 运行示例

```bash
# 连接到PostgreSQL
psql -U postgres -d your_database

# 运行示例SQL文件
\i 01-cstore-fdw列存储.sql
\i 02-列存储查询优化.sql
\i 03-混合存储架构.sql
```

---

## 📚 相关资源

- [01.06 存储管理与数据持久化 - 列存储架构分析](../../01-核心基础/01.06-存储管理与数据持久化.md#74-列存储架构分析-)
- [01.06 存储管理与数据持久化 - 列压缩技术详解](../../01-核心基础/01.06-存储管理与数据持久化.md#75-列压缩技术详解-)
- [02.02 索引结构与优化 - 列存储索引优化](../../02-查询处理/02.02-索引结构与优化.md#84-列存储索引优化-)
- [02.04 执行计划与性能调优 - 列存储查询优化](../../02-查询处理/02.04-执行计划与性能调优.md#64-列存储查询优化-)
- [03.01 扩展系统与插件开发 - 列存储扩展](../../03-高级特性/03.01-扩展系统与插件开发.md#65-列存储扩展-)
- [09.05 数据仓库实践案例 - 列存储实践](../../12-全面使用分析/09-实践案例/09.05-数据仓库实践案例.md#44-列存储实践-)
- [01.05 性能编程技巧 - 列存储查询优化](../../12-全面使用分析/01-程序员视角/01.05-性能编程技巧.md#35-列存储查询优化-)
- [09.06 列存储技术栈对比指南](../../09-应用设计/数据模型设计/09.06-列存储技术栈对比指南.md) 🆕 - 完整技术栈对比和选型指南
- [09.07 列存储最佳实践指南](../../09-应用设计/数据模型设计/09.07-列存储最佳实践指南.md) 🆕 - 设计、查询、性能优化、运维最佳实践

---

**维护者**：Data-Science Team
**最后更新**：2025-01-15
