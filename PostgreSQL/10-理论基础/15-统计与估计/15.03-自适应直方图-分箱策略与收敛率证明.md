# è‡ªé€‚åº”ç›´æ–¹å›¾-åˆ†ç®±ç­–ç•¥ä¸æ”¶æ•›ç‡è¯æ˜

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
> **æœ€åæ›´æ–°**: 2025-01-16
> **ç‰ˆæœ¬è¦†ç›–**: PostgreSQL 18.x (æ¨è) â­ | 17.x (æ¨è) | 16.x (å…¼å®¹)
> **æ–‡æ¡£çŠ¶æ€**: ğŸŸ¡ æ¡†æ¶å·²åˆ›å»ºï¼Œå†…å®¹å¾…å®Œå–„

---

## ğŸ“‹ ç›®å½•

- [è‡ªé€‚åº”ç›´æ–¹å›¾-åˆ†ç®±ç­–ç•¥ä¸æ”¶æ•›ç‡è¯æ˜](#è‡ªé€‚åº”ç›´æ–¹å›¾-åˆ†ç®±ç­–ç•¥ä¸æ”¶æ•›ç‡è¯æ˜)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
    - [1.1 æœ¬æ–‡æ¡£çš„èŒƒå›´](#11-æœ¬æ–‡æ¡£çš„èŒƒå›´)
  - [2. æ ¸å¿ƒå†…å®¹](#2-æ ¸å¿ƒå†…å®¹)
  - [3. å½¢å¼åŒ–å®šä¹‰](#3-å½¢å¼åŒ–å®šä¹‰)
  - [4. å®šç†ä¸è¯æ˜](#4-å®šç†ä¸è¯æ˜)
  - [5. å®é™…åº”ç”¨](#5-å®é™…åº”ç”¨)
  - [6. ç›¸å…³æ–‡æ¡£](#6-ç›¸å…³æ–‡æ¡£)
    - [6.1 ç†è®ºåŸºç¡€æ–‡æ¡£](#61-ç†è®ºåŸºç¡€æ–‡æ¡£)
  - [7. å‚è€ƒæ–‡çŒ®](#7-å‚è€ƒæ–‡çŒ®)

---

## 1. æ¦‚è¿°

### 1.0 è‡ªé€‚åº”ç›´æ–¹å›¾å·¥ä½œåŸç†æ¦‚è¿°

**è‡ªé€‚åº”ç›´æ–¹å›¾**ï¼š

è‡ªé€‚åº”ç›´æ–¹å›¾æ ¹æ®æ•°æ®åˆ†å¸ƒåŠ¨æ€è°ƒæ•´åˆ†ç®±ç­–ç•¥ï¼Œæé«˜ä¼°è®¡ç²¾åº¦ã€‚

**è‡ªé€‚åº”ç›´æ–¹å›¾æ€ç»´å¯¼å›¾**ï¼š

```mermaid
mindmap
  root((è‡ªé€‚åº”ç›´æ–¹å›¾))
    åˆ†ç®±ç­–ç•¥
      ç­‰å®½åˆ†ç®±
      ç­‰é¢‘åˆ†ç®±
      æœ€ä¼˜åˆ†ç®±
    è‡ªé€‚åº”æœºåˆ¶
      æ•°æ®é©±åŠ¨
      è¯¯å·®åé¦ˆ
      åŠ¨æ€è°ƒæ•´
    æ”¶æ•›æ€§
      æ”¶æ•›ç‡
      è¯¯å·®ç•Œ
      ä¸€è‡´æ€§
```

### 1.1 æœ¬æ–‡æ¡£çš„èŒƒå›´

æœ¬æ–‡æ¡£æ¶µç›–ï¼š

- **åˆ†ç®±ç­–ç•¥**ï¼šå„ç§åˆ†ç®±æ–¹æ³•
- **è‡ªé€‚åº”æœºåˆ¶**ï¼šåŠ¨æ€è°ƒæ•´ç®—æ³•
- **æ”¶æ•›æ€§è¯æ˜**ï¼šæ”¶æ•›ç‡å’Œè¯¯å·®ç•Œ
- **å®é™…åº”ç”¨**ï¼šPostgreSQLç»Ÿè®¡ä¿¡æ¯

---

## 2. æ ¸å¿ƒå†…å®¹

### 2.1 åˆ†ç®±ç­–ç•¥

**åˆ†ç®±ç­–ç•¥å¯¹æ¯”**ï¼š

| ç­–ç•¥ | æ–¹æ³• | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|------|------|------|------|
| **ç­‰å®½** | å›ºå®šå®½åº¦ | ç®€å• | å¯èƒ½ä¸å‡åŒ€ |
| **ç­‰é¢‘** | å›ºå®šé¢‘ç‡ | å‡åŒ€ | è¾¹ç•Œå¯èƒ½ä¸ç›´è§‚ |
| **æœ€ä¼˜** | æœ€å°è¯¯å·® | ç²¾åº¦é«˜ | è®¡ç®—å¤æ‚ |

### 2.2 è‡ªé€‚åº”æœºåˆ¶

**è‡ªé€‚åº”ç®—æ³•**ï¼š

```haskell
-- è‡ªé€‚åº”åˆ†ç®±
adaptiveBinning :: [Value] -> Histogram
adaptiveBinning values =
    let initialHistogram = equalWidthBinning(values)
        error = computeError(initialHistogram, values)
    in if error > threshold then
        refineBins(initialHistogram, values)
    else
        initialHistogram
```

---

## 3. å½¢å¼åŒ–å®šä¹‰

### 3.1 è‡ªé€‚åº”ç›´æ–¹å›¾å½¢å¼åŒ–

**è‡ªé€‚åº”ç›´æ–¹å›¾**ï¼š

```haskell
-- è‡ªé€‚åº”ç›´æ–¹å›¾å½¢å¼åŒ–
AdaptiveHistogram = (B, f, Îµ)
where
    B = {b1, b2, ..., bn}  -- bins
    f = frequency function
    Îµ = error threshold
```

---

## 4. å®šç†ä¸è¯æ˜

### 4.1 æ”¶æ•›æ€§å®šç†

**å®šç†**ï¼šè‡ªé€‚åº”ç›´æ–¹å›¾ä»¥O(1/âˆšn)çš„é€Ÿç‡æ”¶æ•›åˆ°çœŸå®åˆ†å¸ƒã€‚

**è¯æ˜**ï¼šç”±å¤§æ•°å®šå¾‹å’Œè‡ªé€‚åº”è°ƒæ•´æœºåˆ¶ä¿è¯ã€‚

---

## 5. å®é™…åº”ç”¨

### 5.1 PostgreSQLç»Ÿè®¡ä¿¡æ¯

**æŸ¥çœ‹ç›´æ–¹å›¾**ï¼š

```sql
-- æŸ¥çœ‹åˆ—ç»Ÿè®¡
SELECT
    attname,
    n_distinct,
    most_common_vals,
    most_common_freqs
FROM pg_stats
WHERE tablename = 'accounts' AND attname = 'balance';
```

---

## 6. ç›¸å…³æ–‡æ¡£

### 6.1 ç†è®ºåŸºç¡€æ–‡æ¡£

- [å½¢å¼è¯­è¨€ä¸è¯æ˜ï¼šæ€»è®º](./1.1.25-å½¢å¼è¯­è¨€ä¸è¯æ˜-æ€»è®º.md)
- [ç†è®ºåŸºç¡€å¯¼èˆª](./README.md)

---

## 7. å‚è€ƒæ–‡çŒ®

[å¾…è¡¥å……]

---

**æœ€åæ›´æ–°**: 2025-01-16
**ç»´æŠ¤è€…**: Documentation Team
**çŠ¶æ€**: ğŸŸ¡ æ¡†æ¶å·²åˆ›å»ºï¼Œå†…å®¹å¾…å®Œå–„
