# æ•°æ®åº“æ•°æ®é›†æˆæ¨¡åž‹-ETLæµç¨‹ä¸Žæ•°æ®è½¬æ¢çš„å½¢å¼åŒ–

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
> **æœ€åŽæ›´æ–°**: 2025-01-16
> **ç‰ˆæœ¬è¦†ç›–**: PostgreSQL 18.x (æŽ¨è) â­ | 17.x (æŽ¨è) | 16.x (å…¼å®¹)
> **æ–‡æ¡£çŠ¶æ€**: ðŸŸ¡ æ¡†æž¶å·²åˆ›å»ºï¼Œå†…å®¹å¾…å®Œå–„

---

## ðŸ“‹ ç›®å½•

- [æ•°æ®åº“æ•°æ®é›†æˆæ¨¡åž‹-ETLæµç¨‹ä¸Žæ•°æ®è½¬æ¢çš„å½¢å¼åŒ–](#æ•°æ®åº“æ•°æ®é›†æˆæ¨¡åž‹-etlæµç¨‹ä¸Žæ•°æ®è½¬æ¢çš„å½¢å¼åŒ–)
  - [ðŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
    - [1.0 æ•°æ®åº“æ•°æ®é›†æˆæ¨¡åž‹å·¥ä½œåŽŸç†æ¦‚è¿°](#10-æ•°æ®åº“æ•°æ®é›†æˆæ¨¡åž‹å·¥ä½œåŽŸç†æ¦‚è¿°)
    - [1.1 æœ¬æ–‡æ¡£çš„èŒƒå›´](#11-æœ¬æ–‡æ¡£çš„èŒƒå›´)
  - [2. æ ¸å¿ƒå†…å®¹](#2-æ ¸å¿ƒå†…å®¹)
    - [2.1 ETLæµç¨‹](#21-etlæµç¨‹)
    - [2.2 æ•°æ®è½¬æ¢](#22-æ•°æ®è½¬æ¢)
  - [3. å½¢å¼åŒ–å®šä¹‰](#3-å½¢å¼åŒ–å®šä¹‰)
    - [3.1 ETLå½¢å¼åŒ–](#31-etlå½¢å¼åŒ–)
  - [4. å®žé™…åº”ç”¨](#4-å®žé™…åº”ç”¨)
    - [4.1 ETLå®žçŽ°](#41-etlå®žçŽ°)
  - [5. ç›¸å…³æ–‡æ¡£](#5-ç›¸å…³æ–‡æ¡£)
    - [5.1 ç†è®ºåŸºç¡€æ–‡æ¡£](#51-ç†è®ºåŸºç¡€æ–‡æ¡£)
  - [6. å‚è€ƒæ–‡çŒ®](#6-å‚è€ƒæ–‡çŒ®)

---

## 1. æ¦‚è¿°

### 1.0 æ•°æ®åº“æ•°æ®é›†æˆæ¨¡åž‹å·¥ä½œåŽŸç†æ¦‚è¿°

**æ•°æ®é›†æˆ**ï¼š

æ•°æ®é›†æˆé€šè¿‡ETLæµç¨‹å°†æ•°æ®ä»Žæºç³»ç»Ÿæå–ã€è½¬æ¢å¹¶åŠ è½½åˆ°ç›®æ ‡ç³»ç»Ÿã€‚

**ETLæµç¨‹æ€ç»´å¯¼å›¾**ï¼š

```mermaid
mindmap
  root((ETLæµç¨‹))
    æå–Extract
      æ•°æ®æºè¿žæŽ¥
      å¢žé‡æå–
      å…¨é‡æå–
    è½¬æ¢Transform
      æ•°æ®æ¸…æ´—
      æ•°æ®è½¬æ¢
      æ•°æ®éªŒè¯
    åŠ è½½Load
      æ‰¹é‡åŠ è½½
      å¢žé‡åŠ è½½
      æ›´æ–°ç­–ç•¥
```

### 1.1 æœ¬æ–‡æ¡£çš„èŒƒå›´

æœ¬æ–‡æ¡£æ¶µç›–ï¼š

- **ETLæµç¨‹**ï¼šæå–ã€è½¬æ¢ã€åŠ è½½çš„å½¢å¼åŒ–
- **æ•°æ®è½¬æ¢**ï¼šè½¬æ¢è§„åˆ™å’Œæ˜ å°„
- **å®žé™…åº”ç”¨**ï¼šETLç³»ç»Ÿå®žçŽ°

---

## 2. æ ¸å¿ƒå†…å®¹

### 2.1 ETLæµç¨‹

**ETLé˜¶æ®µ**ï¼š

```haskell
-- ETLæµç¨‹
etl :: Source -> Transform -> Target -> IO ()
etl source transform target = do
    data <- extract(source)
    transformed <- transform(data)
    load(transformed, target)
```

### 2.2 æ•°æ®è½¬æ¢

**è½¬æ¢è§„åˆ™**ï¼š

| ç±»åž‹ | æ“ä½œ | ç¤ºä¾‹ |
|------|------|------|
| **æ¸…æ´—** | åŽ»é™¤å¼‚å¸¸å€¼ | è¿‡æ»¤NULL |
| **è½¬æ¢** | æ ¼å¼è½¬æ¢ | æ—¥æœŸæ ¼å¼åŒ– |
| **èšåˆ** | æ•°æ®æ±‡æ€» | GROUP BY |

---

## 3. å½¢å¼åŒ–å®šä¹‰

### 3.1 ETLå½¢å¼åŒ–

**ETL**ï¼š

```haskell
-- ETLå½¢å¼åŒ–
ETL = (E, T, L)
where
    E = extract function
    T = transform function
    L = load function
```

---

## 4. å®žé™…åº”ç”¨

### 4.1 ETLå®žçŽ°

**ETLæµç¨‹**ï¼š

```sql
-- æå–
CREATE TABLE staging_table AS
SELECT * FROM source_table;

-- è½¬æ¢
CREATE TABLE transformed_table AS
SELECT
    id,
    UPPER(name) AS name,
    DATE_TRUNC('month', created_at) AS month
FROM staging_table;

-- åŠ è½½
INSERT INTO target_table
SELECT * FROM transformed_table;
```

---

## 5. ç›¸å…³æ–‡æ¡£

### 5.1 ç†è®ºåŸºç¡€æ–‡æ¡£

- [å½¢å¼è¯­è¨€ä¸Žè¯æ˜Žï¼šæ€»è®º](./1.1.25-å½¢å¼è¯­è¨€ä¸Žè¯æ˜Ž-æ€»è®º.md)
- [ç†è®ºåŸºç¡€å¯¼èˆª](./README.md)

---

## 6. å‚è€ƒæ–‡çŒ®

[å¾…è¡¥å……]

---

**æœ€åŽæ›´æ–°**: 2025-01-16
**ç»´æŠ¤è€…**: Documentation Team
**çŠ¶æ€**: ðŸŸ¡ æ¡†æž¶å·²åˆ›å»ºï¼Œå†…å®¹å¾…å®Œå–„
