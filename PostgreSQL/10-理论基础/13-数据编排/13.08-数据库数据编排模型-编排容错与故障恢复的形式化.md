# æ•°æ®åº“æ•°æ®ç¼–æ’æ¨¡å‹-ç¼–æ’å®¹é”™ä¸æ•…éšœæ¢å¤çš„å½¢å¼åŒ–

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
> **æœ€åæ›´æ–°**: 2025-01-16
> **ç‰ˆæœ¬è¦†ç›–**: PostgreSQL 18.x (æ¨è) â­ | 17.x (æ¨è) | 16.x (å…¼å®¹)
> **æ–‡æ¡£çŠ¶æ€**: ğŸŸ¡ æ¡†æ¶å·²åˆ›å»ºï¼Œå†…å®¹å¾…å®Œå–„

---

## ğŸ“‹ ç›®å½•

- [æ•°æ®åº“æ•°æ®ç¼–æ’æ¨¡å‹-ç¼–æ’å®¹é”™ä¸æ•…éšœæ¢å¤çš„å½¢å¼åŒ–](#æ•°æ®åº“æ•°æ®ç¼–æ’æ¨¡å‹-ç¼–æ’å®¹é”™ä¸æ•…éšœæ¢å¤çš„å½¢å¼åŒ–)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
    - [1.1 æœ¬æ–‡æ¡£çš„èŒƒå›´](#11-æœ¬æ–‡æ¡£çš„èŒƒå›´)
  - [2. æ ¸å¿ƒå†…å®¹](#2-æ ¸å¿ƒå†…å®¹)
  - [3. å½¢å¼åŒ–å®šä¹‰](#3-å½¢å¼åŒ–å®šä¹‰)
  - [4. å®é™…åº”ç”¨](#4-å®é™…åº”ç”¨)
  - [5. ç›¸å…³æ–‡æ¡£](#5-ç›¸å…³æ–‡æ¡£)
    - [5.1 ç†è®ºåŸºç¡€æ–‡æ¡£](#51-ç†è®ºåŸºç¡€æ–‡æ¡£)
  - [6. å‚è€ƒæ–‡çŒ®](#6-å‚è€ƒæ–‡çŒ®)

---

## 1. æ¦‚è¿°

### 1.0 æ•°æ®åº“æ•°æ®ç¼–æ’æ¨¡å‹å·¥ä½œåŸç†æ¦‚è¿°

**ç¼–æ’å®¹é”™**ï¼š

ç¼–æ’å®¹é”™é€šè¿‡æ•…éšœæ¢å¤æœºåˆ¶æ¥ä¿è¯ç³»ç»Ÿå¯é æ€§ã€‚

**å®¹é”™æ¨¡å‹æ€ç»´å¯¼å›¾**ï¼š

```mermaid
mindmap
  root((ç¼–æ’å®¹é”™))
    æ•…éšœç±»å‹
      èŠ‚ç‚¹æ•…éšœ
      ç½‘ç»œæ•…éšœ
      æ•°æ®æ•…éšœ
    æ¢å¤ç­–ç•¥
      é‡è¯•
      å›æ»š
      è¡¥å¿
    å®¹é”™æœºåˆ¶
      æ£€æŸ¥ç‚¹
      çŠ¶æ€ä¿å­˜
      æ•…éšœè½¬ç§»
```

### 1.1 æœ¬æ–‡æ¡£çš„èŒƒå›´

æœ¬æ–‡æ¡£æ¶µç›–ï¼š

- **æ•…éšœç±»å‹**ï¼šå„ç§æ•…éšœç±»å‹
- **æ¢å¤ç­–ç•¥**ï¼šæ•…éšœæ¢å¤æ–¹æ³•
- **å®é™…åº”ç”¨**ï¼šå®¹é”™ç³»ç»Ÿ

---

## 2. æ ¸å¿ƒå†…å®¹

### 2.1 æ•…éšœæ¢å¤

**æ¢å¤ç­–ç•¥**ï¼š

```haskell
-- æ•…éšœæ¢å¤
recover :: Failure -> State -> State
recover failure state =
    case failure.type of
        Transient -> retry(state)
        Permanent -> rollback(state)
        Partial -> compensate(state)
```

### 2.2 å®¹é”™æœºåˆ¶

**å®¹é”™æ–¹æ³•**ï¼š

| æ–¹æ³• | å®šä¹‰ | é€‚ç”¨åœºæ™¯ |
|------|------|---------|
| **é‡è¯•** | é‡æ–°æ‰§è¡Œ | ä¸´æ—¶æ•…éšœ |
| **å›æ»š** | å›é€€çŠ¶æ€ | æ°¸ä¹…æ•…éšœ |
| **è¡¥å¿** | è¡¥å¿æ“ä½œ | éƒ¨åˆ†æ•…éšœ |

---

## 3. å½¢å¼åŒ–å®šä¹‰

### 3.1 å®¹é”™å½¢å¼åŒ–

**å®¹é”™**ï¼š

```haskell
-- å®¹é”™å½¢å¼åŒ–
FaultTolerant = (S, F, R)
where
    S = state set
    F = failure set
    R = recovery function
```

---

## 4. å®é™…åº”ç”¨

### 4.1 å®¹é”™å®ç°

**æ•…éšœæ¢å¤**ï¼š

```sql
-- æ£€æŸ¥ç‚¹
CREATE TABLE checkpoints (
    workflow_id UUID,
    checkpoint_id UUID,
    state_data JSONB,
    created_at TIMESTAMP
);

-- æ•…éšœæ¢å¤
SELECT recover_from_checkpoint('workflow_id', 'checkpoint_id');
```

---

## 5. ç›¸å…³æ–‡æ¡£

### 5.1 ç†è®ºåŸºç¡€æ–‡æ¡£

- [å½¢å¼è¯­è¨€ä¸è¯æ˜ï¼šæ€»è®º](./1.1.25-å½¢å¼è¯­è¨€ä¸è¯æ˜-æ€»è®º.md)
- [ç†è®ºåŸºç¡€å¯¼èˆª](./README.md)

---

## 6. å‚è€ƒæ–‡çŒ®

[å¾…è¡¥å……]

---

**æœ€åæ›´æ–°**: 2025-01-16
**ç»´æŠ¤è€…**: Documentation Team
**çŠ¶æ€**: ğŸŸ¡ æ¡†æ¶å·²åˆ›å»ºï¼Œå†…å®¹å¾…å®Œå–„
