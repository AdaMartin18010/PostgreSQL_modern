# æ•°æ®åº“ç›‘æ§ä¸è¯Šæ–­-æ€§èƒ½ç“¶é¢ˆæ£€æµ‹ä¸æ ¹å› åˆ†æ

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
> **æœ€åæ›´æ–°**: 2025-01-16
> **ç‰ˆæœ¬è¦†ç›–**: PostgreSQL 18.x (æ¨è) â­ | 17.x (æ¨è) | 16.x (å…¼å®¹)
> **æ–‡æ¡£çŠ¶æ€**: ğŸŸ¡ æ¡†æ¶å·²åˆ›å»ºï¼Œå†…å®¹å¾…å®Œå–„

---

## ğŸ“‹ ç›®å½•

- [æ•°æ®åº“ç›‘æ§ä¸è¯Šæ–­-æ€§èƒ½ç“¶é¢ˆæ£€æµ‹ä¸æ ¹å› åˆ†æ](#æ•°æ®åº“ç›‘æ§ä¸è¯Šæ–­-æ€§èƒ½ç“¶é¢ˆæ£€æµ‹ä¸æ ¹å› åˆ†æ)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
    - [1.0 æ•°æ®åº“ç›‘æ§ä¸è¯Šæ–­å·¥ä½œåŸç†æ¦‚è¿°](#10-æ•°æ®åº“ç›‘æ§ä¸è¯Šæ–­å·¥ä½œåŸç†æ¦‚è¿°)
    - [1.1 æœ¬æ–‡æ¡£çš„èŒƒå›´](#11-æœ¬æ–‡æ¡£çš„èŒƒå›´)
  - [2. æ ¸å¿ƒå†…å®¹](#2-æ ¸å¿ƒå†…å®¹)
    - [2.1 æ€§èƒ½ç›‘æ§](#21-æ€§èƒ½ç›‘æ§)
    - [2.2 ç“¶é¢ˆæ£€æµ‹](#22-ç“¶é¢ˆæ£€æµ‹)
  - [3. å½¢å¼åŒ–å®šä¹‰](#3-å½¢å¼åŒ–å®šä¹‰)
    - [3.1 ç›‘æ§å½¢å¼åŒ–](#31-ç›‘æ§å½¢å¼åŒ–)
  - [4. å®é™…åº”ç”¨](#4-å®é™…åº”ç”¨)
    - [4.1 ç›‘æ§å·¥å…·](#41-ç›‘æ§å·¥å…·)
  - [5. ç›¸å…³æ–‡æ¡£](#5-ç›¸å…³æ–‡æ¡£)
    - [5.1 ç†è®ºåŸºç¡€æ–‡æ¡£](#51-ç†è®ºåŸºç¡€æ–‡æ¡£)
  - [6. å‚è€ƒæ–‡çŒ®](#6-å‚è€ƒæ–‡çŒ®)
    - [6.1 æ ¸å¿ƒç†è®ºæ–‡çŒ®](#61-æ ¸å¿ƒç†è®ºæ–‡çŒ®)
    - [6.2 PostgreSQLå®ç°ç›¸å…³](#62-postgresqlå®ç°ç›¸å…³)
    - [6.3 ç›¸å…³æ–‡æ¡£](#63-ç›¸å…³æ–‡æ¡£)

---

## 1. æ¦‚è¿°

### 1.0 æ•°æ®åº“ç›‘æ§ä¸è¯Šæ–­å·¥ä½œåŸç†æ¦‚è¿°

**ç›‘æ§è¯Šæ–­**ï¼š

æ•°æ®åº“ç›‘æ§é€šè¿‡æ€§èƒ½ç“¶é¢ˆæ£€æµ‹å’Œæ ¹å› åˆ†ææ¥è¯Šæ–­ç³»ç»Ÿé—®é¢˜ã€‚

**ç›‘æ§è¯Šæ–­æ€ç»´å¯¼å›¾**ï¼š

```mermaid
mindmap
  root((ç›‘æ§è¯Šæ–­))
    æ€§èƒ½ç›‘æ§
      æŒ‡æ ‡æ”¶é›†
      é˜ˆå€¼å‘Šè­¦
      è¶‹åŠ¿åˆ†æ
    ç“¶é¢ˆæ£€æµ‹
      CPUç“¶é¢ˆ
      I/Oç“¶é¢ˆ
      å†…å­˜ç“¶é¢ˆ
    æ ¹å› åˆ†æ
      é—®é¢˜å®šä½
      å½±å“åˆ†æ
      è§£å†³æ–¹æ¡ˆ
```

### 1.1 æœ¬æ–‡æ¡£çš„èŒƒå›´

æœ¬æ–‡æ¡£æ¶µç›–ï¼š

- **æ€§èƒ½ç›‘æ§**ï¼šæŒ‡æ ‡æ”¶é›†å’Œåˆ†æ
- **ç“¶é¢ˆæ£€æµ‹**ï¼šæ€§èƒ½ç“¶é¢ˆè¯†åˆ«
- **æ ¹å› åˆ†æ**ï¼šé—®é¢˜è¯Šæ–­æ–¹æ³•

---

## 2. æ ¸å¿ƒå†…å®¹

### 2.1 æ€§èƒ½ç›‘æ§

**å…³é”®æŒ‡æ ‡**ï¼š

| æŒ‡æ ‡ | å®šä¹‰ | é˜ˆå€¼ |
|------|------|------|
| **CPUä½¿ç”¨ç‡** | CPUå ç”¨ç™¾åˆ†æ¯” | >80% |
| **I/Oç­‰å¾…** | I/Oç­‰å¾…æ—¶é—´ | >100ms |
| **å†…å­˜ä½¿ç”¨** | å†…å­˜å ç”¨ | >90% |

### 2.2 ç“¶é¢ˆæ£€æµ‹

**æ£€æµ‹ç®—æ³•**ï¼š

```haskell
-- ç“¶é¢ˆæ£€æµ‹
detectBottleneck :: Metrics -> Maybe Bottleneck
detectBottleneck metrics
    | cpuUsage metrics > 0.8 = Just CPUBottleneck
    | ioWait metrics > 100 = Just IOBottleneck
    | memoryUsage metrics > 0.9 = Just MemoryBottleneck
    | otherwise = Nothing
```

---

## 3. å½¢å¼åŒ–å®šä¹‰

### 3.1 ç›‘æ§å½¢å¼åŒ–

**ç›‘æ§**ï¼š

```haskell
-- ç›‘æ§å½¢å¼åŒ–
Monitor = (M, T, A)
where
    M = metrics set
    T = threshold set
    A = alert function
```

---

## 4. å®é™…åº”ç”¨

### 4.1 ç›‘æ§å·¥å…·

**PostgreSQLç›‘æ§**ï¼š

```sql
-- æŸ¥çœ‹æ…¢æŸ¥è¯¢
SELECT * FROM pg_stat_statements
ORDER BY total_exec_time DESC
LIMIT 10;

-- æŸ¥çœ‹ç­‰å¾…äº‹ä»¶
SELECT * FROM pg_stat_activity
WHERE wait_event_type IS NOT NULL;
```

---

## 5. ç›¸å…³æ–‡æ¡£

### 5.1 ç†è®ºåŸºç¡€æ–‡æ¡£

- [å½¢å¼è¯­è¨€ä¸è¯æ˜ï¼šæ€»è®º](./1.1.25-å½¢å¼è¯­è¨€ä¸è¯æ˜-æ€»è®º.md)
- [ç†è®ºåŸºç¡€å¯¼èˆª](./README.md)

---

## 6. å‚è€ƒæ–‡çŒ®

### 6.1 æ ¸å¿ƒç†è®ºæ–‡çŒ®

- **Charity, M., et al. (2021). "Observability Engineering: Achieving Production Excellence."**
  - å‡ºç‰ˆç¤¾: O'Reilly Media
  - **é‡è¦æ€§**: å¯è§‚æµ‹æ€§å·¥ç¨‹çš„ç»å…¸æ•™æ
  - **æ ¸å¿ƒè´¡çŒ®**: ç³»ç»Ÿé˜è¿°äº†ç›‘æ§å’Œè¯Šæ–­æ–¹æ³•

- **Dean, J., & Barroso, L. A. (2013). "The Tail at Scale."**
  - ä¼šè®®: Communications of the ACM 2013
  - **é‡è¦æ€§**: å¤§è§„æ¨¡ç³»ç»Ÿæ€§èƒ½åˆ†æ
  - **æ ¸å¿ƒè´¡çŒ®**: æå‡ºäº†ç“¶é¢ˆæ£€æµ‹æ–¹æ³•

### 6.2 PostgreSQLå®ç°ç›¸å…³

- **PostgreSQLå®˜æ–¹æ–‡æ¡£ - ç›‘æ§](<https://www.postgresql.org/docs/current/monitoring.html>)**
  - PostgreSQLç›‘æ§è¯´æ˜

### 6.3 ç›¸å…³æ–‡æ¡£

- [ç†è®ºåŸºç¡€å¯¼èˆª](../README.md)

---

**æœ€åæ›´æ–°**: 2025-01-16
**ç»´æŠ¤è€…**: Documentation Team
**çŠ¶æ€**: ğŸŸ¡ æ¡†æ¶å·²åˆ›å»ºï¼Œå†…å®¹å¾…å®Œå–„
