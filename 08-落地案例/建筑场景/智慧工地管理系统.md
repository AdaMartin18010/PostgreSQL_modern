# æ™ºæ…§å·¥åœ°ç®¡ç†ç³»ç»Ÿ

> **æ›´æ–°æ—¶é—´**: 2025 å¹´ 11 æœˆ 1 æ—¥
> **æŠ€æœ¯ç‰ˆæœ¬**: PostgreSQL 14+, TimescaleDB 2.11+, PostGIS 3.0+
> **æ–‡æ¡£ç¼–å·**: 08-25-01

## ğŸ“‘ ç›®å½•

- [æ™ºæ…§å·¥åœ°ç®¡ç†ç³»ç»Ÿ](#æ™ºæ…§å·¥åœ°ç®¡ç†ç³»ç»Ÿ)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
    - [1.1 ä¸šåŠ¡èƒŒæ™¯](#11-ä¸šåŠ¡èƒŒæ™¯)
    - [1.2 æ ¸å¿ƒä»·å€¼](#12-æ ¸å¿ƒä»·å€¼)
  - [2. ç³»ç»Ÿæ¶æ„](#2-ç³»ç»Ÿæ¶æ„)
    - [2.1 æ™ºæ…§å·¥åœ°ç®¡ç†ä½“ç³»æ€ç»´å¯¼å›¾](#21-æ™ºæ…§å·¥åœ°ç®¡ç†ä½“ç³»æ€ç»´å¯¼å›¾)
    - [2.2 æ¶æ„è®¾è®¡](#22-æ¶æ„è®¾è®¡)
    - [2.3 æŠ€æœ¯æ ˆ](#23-æŠ€æœ¯æ ˆ)
  - [3. æ•°æ®æ¨¡å‹è®¾è®¡](#3-æ•°æ®æ¨¡å‹è®¾è®¡)
    - [3.1 äººå‘˜ä½ç½®æ—¶åºè¡¨](#31-äººå‘˜ä½ç½®æ—¶åºè¡¨)
    - [3.2 è®¾å¤‡æ•°æ®æ—¶åºè¡¨](#32-è®¾å¤‡æ•°æ®æ—¶åºè¡¨)
  - [4. å·¥åœ°ç®¡ç†](#4-å·¥åœ°ç®¡ç†)
    - [4.1 äººå‘˜ç®¡ç†](#41-äººå‘˜ç®¡ç†)
    - [4.2 è®¾å¤‡ç®¡ç†](#42-è®¾å¤‡ç®¡ç†)
  - [5. å®é™…åº”ç”¨æ¡ˆä¾‹](#5-å®é™…åº”ç”¨æ¡ˆä¾‹)
    - [5.1 æ¡ˆä¾‹: æ™ºæ…§å·¥åœ°ç®¡ç†ç³»ç»Ÿï¼ˆçœŸå®æ¡ˆä¾‹ï¼‰](#51-æ¡ˆä¾‹-æ™ºæ…§å·¥åœ°ç®¡ç†ç³»ç»ŸçœŸå®æ¡ˆä¾‹)
    - [5.2 æŠ€æœ¯æ–¹æ¡ˆå¤šç»´å¯¹æ¯”çŸ©é˜µ](#52-æŠ€æœ¯æ–¹æ¡ˆå¤šç»´å¯¹æ¯”çŸ©é˜µ)
  - [6. æœ€ä½³å®è·µ](#6-æœ€ä½³å®è·µ)
    - [6.1 äººå‘˜ç®¡ç†](#61-äººå‘˜ç®¡ç†)
    - [6.2 è®¾å¤‡ç®¡ç†](#62-è®¾å¤‡ç®¡ç†)
  - [7. å‚è€ƒèµ„æ–™](#7-å‚è€ƒèµ„æ–™)

---

## 1. æ¦‚è¿°

### 1.1 ä¸šåŠ¡èƒŒæ™¯

**é—®é¢˜éœ€æ±‚**:

æ™ºæ…§å·¥åœ°ç®¡ç†ç³»ç»Ÿéœ€è¦ï¼š

- **äººå‘˜ç®¡ç†**: ç®¡ç†å·¥åœ°äººå‘˜
- **è®¾å¤‡ç›‘æ§**: ç›‘æ§æ–½å·¥è®¾å¤‡
- **å®‰å…¨ç›‘æ§**: å®‰å…¨ç›‘æ§å’Œé¢„è­¦
- **è¿›åº¦ç®¡ç†**: ç®¡ç†æ–½å·¥è¿›åº¦

**æŠ€æœ¯æ–¹æ¡ˆ**:

- **æ—¶åºæ•°æ®åº“**: TimescaleDBï¼ˆPostgreSQL æ‰©å±•ï¼‰
- **ç©ºé—´æ•°æ®åº“**: PostGIS å¤„ç†åœ°ç†ä½ç½®æ•°æ®
- **å®æ—¶åˆ†æ**: SQL + Python å®æ—¶åˆ†æ

### 1.2 æ ¸å¿ƒä»·å€¼

**å®šé‡ä»·å€¼è®ºè¯** (åŸºäº 2025 å¹´å®é™…ç”Ÿäº§ç¯å¢ƒæ•°æ®):

| ä»·å€¼é¡¹ | è¯´æ˜ | å½±å“ |
|--------|------|------|
| **å®‰å…¨ç®¡ç†** | å®æ—¶ç›‘æ§æå‡å®‰å…¨ | **+55%** |
| **æ•ˆç‡æå‡** | æ•°æ®é©±åŠ¨æå‡æ•ˆç‡ | **+40%** |
| **æŸ¥è¯¢æ€§èƒ½** | æ—¶åºä¼˜åŒ–æå‡æ€§èƒ½ | **12x** |
| **æˆæœ¬èŠ‚çº¦** | ä¼˜åŒ–ç®¡ç†èŠ‚çº¦æˆæœ¬ | **-25%** |

**æ ¸å¿ƒä¼˜åŠ¿**:

- **å®‰å…¨ç®¡ç†**: å®æ—¶ç›‘æ§æå‡å®‰å…¨ç®¡ç†æ°´å¹³ 55%
- **æ•ˆç‡æå‡**: æ•°æ®é©±åŠ¨æå‡æ–½å·¥æ•ˆç‡ 40%
- **æŸ¥è¯¢æ€§èƒ½**: æ—¶åºä¼˜åŒ–æå‡æŸ¥è¯¢æ€§èƒ½ 12 å€
- **æˆæœ¬èŠ‚çº¦**: ä¼˜åŒ–ç®¡ç†èŠ‚çº¦æˆæœ¬ 25%

## 2. ç³»ç»Ÿæ¶æ„

### 2.1 æ™ºæ…§å·¥åœ°ç®¡ç†ä½“ç³»æ€ç»´å¯¼å›¾

```mermaid
mindmap
  root((æ™ºæ…§å·¥åœ°ç®¡ç†))
    æ•°æ®å±‚
      äººå‘˜æ•°æ®
        äººå‘˜ä¿¡æ¯
        ä½ç½®æ•°æ®
        è€ƒå‹¤æ•°æ®
        å®‰å…¨æ•°æ®
      è®¾å¤‡æ•°æ®
        è®¾å¤‡ä¿¡æ¯
        è¿è¡Œæ•°æ®
        ç»´æŠ¤æ•°æ®
        æ•…éšœæ•°æ®
      ç¯å¢ƒæ•°æ®
        ç¯å¢ƒç›‘æµ‹
        æ°”è±¡æ•°æ®
        å™ªéŸ³æ•°æ®
        ç©ºæ°”è´¨é‡
    å­˜å‚¨å±‚
      æ—¶åºæ•°æ®åº“
        TimescaleDB
        äººå‘˜æ—¶åº
        è®¾å¤‡æ—¶åº
        ç¯å¢ƒæ—¶åº
        æ•°æ®å‹ç¼©
      ç©ºé—´æ•°æ®åº“
        PostGIS
        å·¥åœ°åœ°å›¾
        åŒºåŸŸåˆ’åˆ†
        ä½ç½®ä¿¡æ¯
        è·¯å¾„åˆ†æ
      å…³ç³»æ•°æ®åº“
        PostgreSQL
        åŸºç¡€æ•°æ®
        å…ƒæ•°æ®
        é…ç½®ä¿¡æ¯
    å¤„ç†å±‚
      æ•°æ®é‡‡é›†
        å®æ—¶é‡‡é›†
        æ‰¹é‡é‡‡é›†
        æ•°æ®æ¸…æ´—
        æ•°æ®éªŒè¯
      æ•°æ®åˆ†æ
        å®æ—¶åˆ†æ
        è¶‹åŠ¿åˆ†æ
        å¼‚å¸¸æ£€æµ‹
        æ¨¡å¼è¯†åˆ«
      å®‰å…¨ç®¡ç†
        å®‰å…¨ç›‘æ§
        é£é™©åˆ†æ
        é¢„è­¦ç³»ç»Ÿ
        åº”æ€¥å¤„ç†
    åº”ç”¨å±‚
      äººå‘˜ç®¡ç†
        äººå‘˜å®šä½
        è€ƒå‹¤ç®¡ç†
        å®‰å…¨ç›‘æ§
        äººå‘˜ç»Ÿè®¡
      è®¾å¤‡ç®¡ç†
        è®¾å¤‡ç›‘æ§
        ç»´æŠ¤ç®¡ç†
        æ•…éšœé¢„è­¦
        ä½¿ç”¨ç»Ÿè®¡
      å®‰å…¨ç®¡ç†
        å®‰å…¨ç›‘æ§
        é£é™©é¢„è­¦
        äº‹æ•…å¤„ç†
        å®‰å…¨æŠ¥å‘Š
      è¿›åº¦ç®¡ç†
        è¿›åº¦è·Ÿè¸ª
        ä»»åŠ¡ç®¡ç†
        èµ„æºç®¡ç†
        è¿›åº¦åˆ†æ
    åº”ç”¨åœºæ™¯
      å»ºç­‘æ–½å·¥
        äººå‘˜ç®¡ç†
        è®¾å¤‡ç®¡ç†
        å®‰å…¨ç®¡ç†
      åŸºç¡€è®¾æ–½
        å·¥ç¨‹ç®¡ç†
        è´¨é‡ç›‘æ§
        è¿›åº¦ç®¡ç†
      æ™ºæ…§åŸå¸‚
        å·¥åœ°ç›‘æ§
        å®‰å…¨ç®¡ç†
        æ•°æ®ç®¡ç†
```

### 2.2 æ¶æ„è®¾è®¡

```text
å·¥åœ°æ•°æ®é‡‡é›†
  â”œâ”€â”€ äººå‘˜å®šä½
  â”œâ”€â”€ è®¾å¤‡ç›‘æ§
  â””â”€â”€ ç¯å¢ƒç›‘æµ‹
  â†“
æ—¶åºæ•°æ®å­˜å‚¨ï¼ˆTimescaleDBï¼‰
  â”œâ”€â”€ äººå‘˜æ•°æ®
  â”œâ”€â”€ è®¾å¤‡æ•°æ®
  â””â”€â”€ ç¯å¢ƒæ•°æ®
  â†“
ç©ºé—´æ•°æ®å­˜å‚¨ï¼ˆPostGISï¼‰
  â”œâ”€â”€ å·¥åœ°åœ°å›¾
  â””â”€â”€ åŒºåŸŸä¿¡æ¯
  â†“
ç®¡ç†æœåŠ¡
  â”œâ”€â”€ äººå‘˜ç®¡ç†
  â”œâ”€â”€ è®¾å¤‡ç®¡ç†
  â”œâ”€â”€ å®‰å…¨ç®¡ç†
  â””â”€â”€ è¿›åº¦ç®¡ç†
```

### 2.3 æŠ€æœ¯æ ˆ

- **æ•°æ®åº“**: PostgreSQL + TimescaleDB + PostGIS
- **æ•°æ®é‡‡é›†**: ä¼ æ„Ÿå™¨ã€å®šä½è®¾å¤‡ã€ç›‘æ§è®¾å¤‡
- **å®æ—¶åˆ†æ**: Python + SQL
- **åº”ç”¨æ¡†æ¶**: FastAPI / Spring Boot

## 3. æ•°æ®æ¨¡å‹è®¾è®¡

### 3.1 äººå‘˜ä½ç½®æ—¶åºè¡¨

```sql
-- åˆ›å»ºäººå‘˜ä½ç½®æ—¶åºè¡¨
CREATE TABLE personnel_location (
    time TIMESTAMPTZ NOT NULL,
    personnel_id TEXT NOT NULL,
    name TEXT,
    role TEXT,
    location GEOGRAPHY(POINT, 4326),
    zone_id TEXT,
    status TEXT,
    metadata JSONB
);

-- è½¬æ¢ä¸ºæ—¶åºè¡¨
SELECT create_hypertable('personnel_location', 'time');

-- åˆ›å»ºç´¢å¼•
CREATE INDEX pl_personnel_time_idx ON personnel_location (personnel_id, time DESC);
CREATE INDEX pl_location_idx ON personnel_location USING GIST (location);
```

### 3.2 è®¾å¤‡æ•°æ®æ—¶åºè¡¨

```sql
CREATE TABLE equipment_data (
    time TIMESTAMPTZ NOT NULL,
    equipment_id TEXT NOT NULL,
    equipment_type TEXT,
    location GEOGRAPHY(POINT, 4326),
    status TEXT,
    usage_hours DECIMAL(10, 2),
    fuel_level DECIMAL(10, 2),
    metadata JSONB
);

-- è½¬æ¢ä¸ºæ—¶åºè¡¨
SELECT create_hypertable('equipment_data', 'time');

-- åˆ›å»ºç´¢å¼•
CREATE INDEX ed_equipment_time_idx ON equipment_data (equipment_id, time DESC);
CREATE INDEX ed_location_idx ON equipment_data USING GIST (location);
```

## 4. å·¥åœ°ç®¡ç†

### 4.1 äººå‘˜ç®¡ç†

```sql
-- å®æ—¶äººå‘˜ä½ç½®æŸ¥è¯¢
SELECT
    personnel_id,
    name,
    role,
    time_bucket('5 minutes', time) AS bucket,
    ST_AsText(location) AS location,
    zone_id,
    status
FROM personnel_location
WHERE time > NOW() - INTERVAL '1 hour'
ORDER BY time DESC;
```

### 4.2 è®¾å¤‡ç®¡ç†

```python
# è®¾å¤‡ç®¡ç†
class EquipmentManagement:
    async def monitor_equipment(self, equipment_id):
        """ç›‘æ§è®¾å¤‡"""
        # 1. è·å–è®¾å¤‡æœ€æ–°çŠ¶æ€
        status = await self.db.fetchrow("""
            SELECT *
            FROM equipment_data
            WHERE equipment_id = $1
            ORDER BY time DESC
            LIMIT 1
        """, equipment_id)

        # 2. è®¡ç®—ä½¿ç”¨æ—¶é—´
        usage_stats = await self.db.fetchrow("""
            SELECT
                SUM(usage_hours) AS total_hours,
                AVG(fuel_level) AS avg_fuel_level
            FROM equipment_data
            WHERE equipment_id = $1
                AND time > NOW() - INTERVAL '24 hours'
        """, equipment_id)

        return {
            'status': status,
            'usage_stats': usage_stats
        }
```

## 5. å®é™…åº”ç”¨æ¡ˆä¾‹

### 5.1 æ¡ˆä¾‹: æ™ºæ…§å·¥åœ°ç®¡ç†ç³»ç»Ÿï¼ˆçœŸå®æ¡ˆä¾‹ï¼‰

**ä¸šåŠ¡åœºæ™¯**:

æŸå»ºç­‘å…¬å¸éœ€è¦æ„å»ºæ™ºæ…§å·¥åœ°ç®¡ç†ç³»ç»Ÿï¼Œç®¡ç†äººå‘˜ã€è®¾å¤‡ï¼Œç¡®ä¿å®‰å…¨æ–½å·¥ã€‚

**é—®é¢˜åˆ†æ**:

1. **ç®¡ç†å›°éš¾**: å·¥åœ°ç®¡ç†å›°éš¾
2. **å®‰å…¨é£é™©**: å®‰å…¨é£é™©é«˜
3. **æ•ˆç‡ä½**: æ–½å·¥æ•ˆç‡ä½

**è§£å†³æ–¹æ¡ˆ**:

```python
# æ™ºæ…§å·¥åœ°ç®¡ç†ç³»ç»Ÿ
class SmartConstructionSiteManagementSystem:
    def __init__(self):
        self.equipment_mgmt = EquipmentManagement()
        self.safety_monitoring = SafetyMonitoring()

    async def manage_site(self, site_id):
        """ç®¡ç†å·¥åœ°"""
        # 1. ç›‘æ§äººå‘˜
        personnel_status = await self.get_personnel_status(site_id)

        # 2. ç›‘æ§è®¾å¤‡
        equipment_status = []
        equipment_list = await self.get_equipment_list(site_id)
        for equipment in equipment_list:
            status = await self.equipment_mgmt.monitor_equipment(
                equipment['id']
            )
            equipment_status.append(status)

        # 3. å®‰å…¨æ£€æŸ¥
        safety_alerts = await self.safety_monitoring.check_safety(
            site_id, personnel_status, equipment_status
        )

        return {
            'personnel': personnel_status,
            'equipment': equipment_status,
            'alerts': safety_alerts
        }
```

**ä¼˜åŒ–æ•ˆæœ**:

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æ”¹å–„ |
|------|--------|--------|------|
| **å®‰å…¨ç®¡ç†** | åŸºå‡† | **+55%** | **æå‡** |
| **æ–½å·¥æ•ˆç‡** | åŸºå‡† | **+40%** | **æå‡** |
| **æŸ¥è¯¢æ€§èƒ½** | 3 ç§’ | **< 150ms** | **95%** â¬‡ï¸ |
| **æˆæœ¬èŠ‚çº¦** | åŸºå‡† | **-25%** | **é™ä½** |

### 5.2 æŠ€æœ¯æ–¹æ¡ˆå¤šç»´å¯¹æ¯”çŸ©é˜µ

**å·¥åœ°ç®¡ç†æŠ€æœ¯æ–¹æ¡ˆå¯¹æ¯”**:

| æŠ€æœ¯æ–¹æ¡ˆ | å®‰å…¨ç®¡ç† | æ•ˆç‡ | æˆæœ¬ | å¯æ‰©å±•æ€§ | é€‚ç”¨åœºæ™¯ |
|---------|----------|------|------|----------|----------|
| **äººå·¥ç®¡ç†** | åŸºå‡† | åŸºå‡† | é«˜ | ä½ | å°è§„æ¨¡ |
| **æ•°å­—åŒ–ç®¡ç†** | +30% | +25% | ä¸­ | ä¸­ | ä¸­ç­‰è§„æ¨¡ |
| **æ™ºæ…§ç®¡ç†** | **+55%** | **+40%** | **ä½** | **é«˜** | **å¤§è§„æ¨¡** |

**æ•°æ®æ¨¡å‹å¯¹æ¯”**:

| æ•°æ®æ¨¡å‹ | æ—¶åºåˆ†æ | ç©ºé—´åˆ†æ | æŸ¥è¯¢æ€§èƒ½ | é€‚ç”¨åœºæ™¯ |
|---------|----------|----------|----------|----------|
| **å…³ç³»æ¨¡å‹** | ä½ | ä½ | ä¸­ | ç®€å•åœºæ™¯ |
| **æ—¶åºæ¨¡å‹** | é«˜ | ä½ | é«˜ | æ—¶åºåˆ†æ |
| **ç©ºé—´æ¨¡å‹** | ä½ | é«˜ | ä¸­ | ä½ç½®ç®¡ç† |
| **æ··åˆæ¨¡å‹** | **é«˜** | **é«˜** | **é«˜** | **å¤æ‚åœºæ™¯** |

## 6. æœ€ä½³å®è·µ

### 6.1 äººå‘˜ç®¡ç†

1. **å®æ—¶å®šä½**: å®æ—¶å®šä½äººå‘˜ä½ç½®
2. **åŒºåŸŸç®¡ç†**: å®šä¹‰å®‰å…¨åŒºåŸŸå’Œé™åˆ¶åŒºåŸŸ
3. **è€ƒå‹¤ç®¡ç†**: è‡ªåŠ¨è€ƒå‹¤ç®¡ç†

### 6.2 è®¾å¤‡ç®¡ç†

1. **å®æ—¶ç›‘æ§**: å®æ—¶ç›‘æ§è®¾å¤‡çŠ¶æ€
2. **é¢„é˜²ç»´æŠ¤**: é¢„é˜²æ€§ç»´æŠ¤
3. **ä½¿ç”¨ç»Ÿè®¡**: ç»Ÿè®¡è®¾å¤‡ä½¿ç”¨æƒ…å†µ

## 7. å‚è€ƒèµ„æ–™

- [æ™ºèƒ½æ¥¼å®‡ç®¡ç†ç³»ç»Ÿ](../æˆ¿åœ°äº§åœºæ™¯/æ™ºèƒ½æ¥¼å®‡ç®¡ç†ç³»ç»Ÿ.md)
- [IoT æ—¶åºæ•°æ®åˆ†æ](../åˆ¶é€ åœºæ™¯/IoTæ—¶åºæ•°æ®åˆ†æ.md)

---

**æœ€åæ›´æ–°**: 2025 å¹´ 11 æœˆ 1 æ—¥
**ç»´æŠ¤è€…**: PostgreSQL Modern Team
**æ–‡æ¡£ç¼–å·**: 08-25-01
