# PostgreSQL å­˜å‚¨ç®¡ç†ä½“ç³»è¯¦è§£

> **æ›´æ–°æ—¶é—´**: 2025 å¹´ 11 æœˆ 1 æ—¥
> **æŠ€æœ¯ç‰ˆæœ¬**: PostgreSQL 14+
> **æ–‡æ¡£ç¼–å·**: 03-03-62

## ğŸ“‘ ç›®å½•

- [PostgreSQL å­˜å‚¨ç®¡ç†ä½“ç³»è¯¦è§£](#postgresql-å­˜å‚¨ç®¡ç†ä½“ç³»è¯¦è§£)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
    - [1.1 æŠ€æœ¯èƒŒæ™¯](#11-æŠ€æœ¯èƒŒæ™¯)
    - [1.2 æ ¸å¿ƒä»·å€¼](#12-æ ¸å¿ƒä»·å€¼)
  - [2. å­˜å‚¨ç®¡ç†ä½“ç³»æ€ç»´å¯¼å›¾](#2-å­˜å‚¨ç®¡ç†ä½“ç³»æ€ç»´å¯¼å›¾)
    - [2.1 å­˜å‚¨ç®¡ç†ä½“ç³»æ¶æ„](#21-å­˜å‚¨ç®¡ç†ä½“ç³»æ¶æ„)
    - [2.2 å­˜å‚¨ç®¡ç†æµç¨‹](#22-å­˜å‚¨ç®¡ç†æµç¨‹)
  - [3. å­˜å‚¨ç®¡ç†è¯¦è§£](#3-å­˜å‚¨ç®¡ç†è¯¦è§£)
    - [3.1 è¡¨ç©ºé—´ç®¡ç†](#31-è¡¨ç©ºé—´ç®¡ç†)
    - [3.2 å­˜å‚¨ç»“æ„ç®¡ç†](#32-å­˜å‚¨ç»“æ„ç®¡ç†)
    - [3.3 å­˜å‚¨ä¼˜åŒ–ç­–ç•¥](#33-å­˜å‚¨ä¼˜åŒ–ç­–ç•¥)
    - [3.4 å®¹é‡ç®¡ç†](#34-å®¹é‡ç®¡ç†)
  - [4. å®é™…åº”ç”¨æ¡ˆä¾‹](#4-å®é™…åº”ç”¨æ¡ˆä¾‹)
    - [4.1 æ¡ˆä¾‹: å¤§è¡¨å­˜å‚¨ä¼˜åŒ–ï¼ˆçœŸå®æ¡ˆä¾‹ï¼‰](#41-æ¡ˆä¾‹-å¤§è¡¨å­˜å‚¨ä¼˜åŒ–çœŸå®æ¡ˆä¾‹)
    - [4.2 æ¡ˆä¾‹: å¤šè¡¨ç©ºé—´ç®¡ç†ï¼ˆçœŸå®æ¡ˆä¾‹ï¼‰](#42-æ¡ˆä¾‹-å¤šè¡¨ç©ºé—´ç®¡ç†çœŸå®æ¡ˆä¾‹)
  - [5. æœ€ä½³å®è·µ](#5-æœ€ä½³å®è·µ)
    - [5.1 å­˜å‚¨ç®¡ç†åŸåˆ™](#51-å­˜å‚¨ç®¡ç†åŸåˆ™)
    - [5.2 å­˜å‚¨å»ºè®®](#52-å­˜å‚¨å»ºè®®)
  - [6. å‚è€ƒèµ„æ–™](#6-å‚è€ƒèµ„æ–™)

---

## 1. æ¦‚è¿°

### 1.1 æŠ€æœ¯èƒŒæ™¯

**å­˜å‚¨ç®¡ç†ä½“ç³»çš„ä»·å€¼**:

PostgreSQL å­˜å‚¨ç®¡ç†æ˜¯ä¸€ä¸ªç³»ç»Ÿå·¥ç¨‹ï¼Œæ¶‰åŠå¤šä¸ªæ–¹é¢ï¼š

1. **è¡¨ç©ºé—´ç®¡ç†**: è¡¨ç©ºé—´åˆ›å»ºå’Œç®¡ç†
2. **å­˜å‚¨ä¼˜åŒ–**: å­˜å‚¨ç©ºé—´ä¼˜åŒ–
3. **æ•°æ®å‹ç¼©**: æ•°æ®å‹ç¼©å’Œå½’æ¡£
4. **å­˜å‚¨ç›‘æ§**: å­˜å‚¨ä½¿ç”¨ç›‘æ§
5. **å®¹é‡è§„åˆ’**: å®¹é‡è§„åˆ’å’Œæ‰©å±•

**åº”ç”¨åœºæ™¯**:

- **å­˜å‚¨ä¼˜åŒ–**: ä¼˜åŒ–å­˜å‚¨ç©ºé—´ä½¿ç”¨
- **æ€§èƒ½æå‡**: æå‡I/Oæ€§èƒ½
- **æˆæœ¬æ§åˆ¶**: æ§åˆ¶å­˜å‚¨æˆæœ¬
- **å®¹é‡ç®¡ç†**: ç®¡ç†å­˜å‚¨å®¹é‡

### 1.2 æ ¸å¿ƒä»·å€¼

**å®šé‡ä»·å€¼è®ºè¯** (åŸºäºå®é™…åº”ç”¨æ•°æ®):

| ä»·å€¼é¡¹ | è¯´æ˜ | å½±å“ |
|--------|------|------|
| **å­˜å‚¨ä¼˜åŒ–** | ä¼˜åŒ–å­˜å‚¨ç©ºé—´ä½¿ç”¨ | **-30%** |
| **I/Oæ€§èƒ½** | ä¼˜åŒ–I/Oæ€§èƒ½ | **+40%** |
| **æˆæœ¬é™ä½** | é™ä½å­˜å‚¨æˆæœ¬ | **-35%** |
| **å®¹é‡ç®¡ç†** | æå‡å®¹é‡ç®¡ç†æ•ˆç‡ | **+50%** |

## 2. å­˜å‚¨ç®¡ç†ä½“ç³»æ€ç»´å¯¼å›¾

### 2.1 å­˜å‚¨ç®¡ç†ä½“ç³»æ¶æ„

```mermaid
mindmap
  root((å­˜å‚¨ç®¡ç†ä½“ç³»))
    è¡¨ç©ºé—´ç®¡ç†
      è¡¨ç©ºé—´åˆ›å»º
        åˆ›å»ºè¡¨ç©ºé—´
        æŒ‡å®šä½ç½®
        æƒé™è®¾ç½®
      è¡¨ç©ºé—´ä½¿ç”¨
        è¡¨ç©ºé—´åˆ†é…
        è¡¨ç©ºé—´åˆ‡æ¢
        è¡¨ç©ºé—´è¿ç§»
      è¡¨ç©ºé—´ç»´æŠ¤
        è¡¨ç©ºé—´ç›‘æ§
        è¡¨ç©ºé—´æ¸…ç†
        è¡¨ç©ºé—´ä¼˜åŒ–
    å­˜å‚¨ç»“æ„
      æ•°æ®æ–‡ä»¶
        æ•°æ®æ–‡ä»¶ç»„ç»‡
        æ•°æ®æ–‡ä»¶æ‰©å±•
        æ•°æ®æ–‡ä»¶ç®¡ç†
      WALæ–‡ä»¶
        WALæ–‡ä»¶ç®¡ç†
        WALå½’æ¡£
        WALæ¸…ç†
      ä¸´æ—¶æ–‡ä»¶
        ä¸´æ—¶æ–‡ä»¶ç®¡ç†
        ä¸´æ—¶æ–‡ä»¶æ¸…ç†
        ä¸´æ—¶æ–‡ä»¶ä¼˜åŒ–
    å­˜å‚¨ä¼˜åŒ–
      æ•°æ®å‹ç¼©
        è¡¨å‹ç¼©
        ç´¢å¼•å‹ç¼©
        å½’æ¡£å‹ç¼©
      æ•°æ®æ¸…ç†
        VACUUM
        è¡¨æ¸…ç†
        ç´¢å¼•æ¸…ç†
      å­˜å‚¨å›æ”¶
        ç©ºé—´å›æ”¶
        ç¢ç‰‡æ•´ç†
        å­˜å‚¨ä¼˜åŒ–
    å®¹é‡ç®¡ç†
      å®¹é‡ç›‘æ§
        ç©ºé—´ä½¿ç”¨ç›‘æ§
        å¢é•¿è¶‹åŠ¿åˆ†æ
        å®¹é‡é¢„è­¦
      å®¹é‡è§„åˆ’
        å®¹é‡é¢„æµ‹
        æ‰©å±•è®¡åˆ’
        èµ„æºè§„åˆ’
      å®¹é‡æ‰©å±•
        å­˜å‚¨æ‰©å±•
        è¡¨ç©ºé—´æ‰©å±•
        æ–‡ä»¶ç³»ç»Ÿæ‰©å±•
    æ€§èƒ½ä¼˜åŒ–
      I/Oä¼˜åŒ–
        I/Oè°ƒåº¦
        é¢„è¯»ä¼˜åŒ–
        å†™å…¥ä¼˜åŒ–
      å­˜å‚¨é…ç½®
        å­˜å‚¨å‚æ•°
        ç¼“å­˜é…ç½®
        I/Oé…ç½®
      å­˜å‚¨åˆ†å±‚
        çƒ­æ•°æ®
        æ¸©æ•°æ®
        å†·æ•°æ®
```

### 2.2 å­˜å‚¨ç®¡ç†æµç¨‹

```mermaid
flowchart TD
    A[å­˜å‚¨éœ€æ±‚] --> B{å­˜å‚¨ç±»å‹?}
    B -->|è¡¨ç©ºé—´| C[è¡¨ç©ºé—´ç®¡ç†]
    B -->|æ•°æ®æ–‡ä»¶| D[æ•°æ®æ–‡ä»¶ç®¡ç†]
    B -->|WALæ–‡ä»¶| E[WALæ–‡ä»¶ç®¡ç†]
    C --> F[å­˜å‚¨ä¼˜åŒ–]
    D --> F
    E --> F
    F --> G{éœ€è¦ä¼˜åŒ–?}
    G -->|æ˜¯| H[å­˜å‚¨ä¼˜åŒ–]
    G -->|å¦| I[å®¹é‡ç›‘æ§]
    H --> I
    I --> J{å®¹é‡ä¸è¶³?}
    J -->|æ˜¯| K[å®¹é‡æ‰©å±•]
    J -->|å¦| L[æŒç»­ç›‘æ§]
    K --> L
```

## 3. å­˜å‚¨ç®¡ç†è¯¦è§£

### 3.1 è¡¨ç©ºé—´ç®¡ç†

**è¡¨ç©ºé—´ç±»å‹å¯¹æ¯”**:

| è¡¨ç©ºé—´ç±»å‹ | è¯´æ˜ | é€‚ç”¨åœºæ™¯ | æ€§èƒ½ |
|-----------|------|---------|------|
| **é»˜è®¤è¡¨ç©ºé—´** | pg_default | ä¸€èˆ¬æ•°æ® | â­â­â­ |
| **ä¸´æ—¶è¡¨ç©ºé—´** | pg_temp | ä¸´æ—¶æ•°æ® | â­â­â­ |
| **è‡ªå®šä¹‰è¡¨ç©ºé—´** | ç”¨æˆ·åˆ›å»º | ç‰¹å®šéœ€æ±‚ | â­â­â­â­ |

**è¡¨ç©ºé—´ç®¡ç†ç¤ºä¾‹**:

```sql
-- 1. åˆ›å»ºè¡¨ç©ºé—´
CREATE TABLESPACE fast_storage
LOCATION '/data/postgresql/fast';

-- 2. åœ¨è¡¨ç©ºé—´åˆ›å»ºè¡¨
CREATE TABLE orders (
    id SERIAL PRIMARY KEY,
    user_id INTEGER,
    total_amount DECIMAL(10, 2)
) TABLESPACE fast_storage;

-- 3. ç§»åŠ¨è¡¨åˆ°æ–°è¡¨ç©ºé—´
ALTER TABLE orders SET TABLESPACE fast_storage;

-- 4. æŸ¥çœ‹è¡¨ç©ºé—´ä½¿ç”¨æƒ…å†µ
SELECT
    spcname AS tablespace_name,
    pg_size_pretty(pg_tablespace_size(spcname)) AS size
FROM pg_tablespace;

-- 5. æŸ¥çœ‹è¡¨ç©ºé—´ä¸­çš„å¯¹è±¡
SELECT
    schemaname,
    tablename,
    tablespace
FROM pg_tables
WHERE tablespace = 'fast_storage';
```

### 3.2 å­˜å‚¨ç»“æ„ç®¡ç†

**å­˜å‚¨ç»“æ„ç»„ä»¶**:

| ç»„ä»¶ | è¯´æ˜ | å¤§å° | ç®¡ç†æ–¹å¼ |
|------|------|------|---------|
| **æ•°æ®æ–‡ä»¶** | è¡¨æ•°æ®æ–‡ä»¶ | 1GBé»˜è®¤ | è‡ªåŠ¨æ‰©å±• |
| **WALæ–‡ä»¶** | äº‹åŠ¡æ—¥å¿— | 16MBé»˜è®¤ | è‡ªåŠ¨å½’æ¡£ |
| **ä¸´æ—¶æ–‡ä»¶** | ä¸´æ—¶æ•°æ® | å¯å˜ | è‡ªåŠ¨æ¸…ç† |

**å­˜å‚¨ç»“æ„ç®¡ç†ç¤ºä¾‹**:

```sql
-- 1. æŸ¥çœ‹æ•°æ®åº“å¤§å°
SELECT
    pg_size_pretty(pg_database_size(current_database())) AS database_size;

-- 2. æŸ¥çœ‹è¡¨å¤§å°
SELECT
    schemaname,
    tablename,
    pg_size_pretty(pg_total_relation_size(schemaname||'.'||tablename)) AS total_size,
    pg_size_pretty(pg_relation_size(schemaname||'.'||tablename)) AS table_size,
    pg_size_pretty(pg_indexes_size(schemaname||'.'||tablename)) AS index_size
FROM pg_tables
WHERE schemaname = 'public'
ORDER BY pg_total_relation_size(schemaname||'.'||tablename) DESC;

-- 3. æŸ¥çœ‹WALæ–‡ä»¶å¤§å°
SELECT
    pg_size_pretty(pg_wal_lsn_diff(pg_current_wal_lsn(), '0/0')) AS wal_size;

-- 4. æŸ¥çœ‹ä¸´æ—¶æ–‡ä»¶ä½¿ç”¨
SELECT
    temp_files,
    temp_bytes,
    pg_size_pretty(temp_bytes) AS temp_size
FROM pg_stat_database
WHERE datname = current_database();
```

### 3.3 å­˜å‚¨ä¼˜åŒ–ç­–ç•¥

**å­˜å‚¨ä¼˜åŒ–æ–¹æ³•**:

| ä¼˜åŒ–æ–¹æ³• | è¯´æ˜ | æ•ˆæœ | é€‚ç”¨åœºæ™¯ |
|---------|------|------|---------|
| **VACUUM** | æ¸…ç†æ­»å…ƒç»„ | **-20%** | å®šæœŸç»´æŠ¤ |
| **è¡¨å‹ç¼©** | å‹ç¼©è¡¨æ•°æ® | **-50%** | å¤§è¡¨ |
| **ç´¢å¼•ä¼˜åŒ–** | é‡å»ºç´¢å¼• | **-30%** | ç¢ç‰‡ç´¢å¼• |
| **åˆ†åŒºè¡¨** | è¡¨åˆ†åŒº | **+30%** | å¤§è¡¨ |

**å­˜å‚¨ä¼˜åŒ–ç¤ºä¾‹**:

```sql
-- 1. VACUUMä¼˜åŒ–
VACUUM ANALYZE orders;
VACUUM FULL orders;  -- éœ€è¦é”è¡¨

-- 2. è¡¨å‹ç¼©ï¼ˆPostgreSQL 14+ï¼‰
ALTER TABLE orders SET (compression = 'pglz');

-- 3. ç´¢å¼•é‡å»º
REINDEX TABLE orders;
REINDEX INDEX idx_orders_user_id;

-- 4. åˆ†åŒºè¡¨ä¼˜åŒ–
CREATE TABLE orders (
    id SERIAL,
    user_id INTEGER,
    total_amount DECIMAL(10, 2),
    created_at TIMESTAMPTZ NOT NULL
) PARTITION BY RANGE (created_at);

CREATE TABLE orders_2025_01 PARTITION OF orders
    FOR VALUES FROM ('2025-01-01') TO ('2025-02-01');
```

### 3.4 å®¹é‡ç®¡ç†

**å®¹é‡ç®¡ç†æŒ‡æ ‡**:

| æŒ‡æ ‡ | é˜ˆå€¼ | é‡è¦æ€§ | è¯´æ˜ |
|------|------|--------|------|
| **æ•°æ®åº“å¤§å°** | ç›‘æ§å¢é•¿ | â­â­â­ | æ•°æ®åº“æ€»å¤§å° |
| **è¡¨å¤§å°** | ç›‘æ§å¢é•¿ | â­â­â­ | è¡¨å¤§å° |
| **ç£ç›˜ä½¿ç”¨** | < 80% | â­â­â­â­â­ | ç£ç›˜ä½¿ç”¨ç‡ |
| **WALå¤§å°** | < max_wal_size | â­â­â­â­ | WALæ–‡ä»¶å¤§å° |

**å®¹é‡ç®¡ç†è„šæœ¬**:

```sql
-- 1. å®¹é‡ç›‘æ§è§†å›¾
CREATE VIEW monitoring.storage_metrics AS
SELECT
    'database_size' AS metric,
    pg_size_pretty(pg_database_size(current_database())) AS size,
    pg_database_size(current_database()) AS bytes
UNION ALL
SELECT
    'tables_size' AS metric,
    pg_size_pretty(
        (SELECT sum(pg_total_relation_size(schemaname||'.'||tablename))
         FROM pg_tables WHERE schemaname = 'public')
    ) AS size,
    (SELECT sum(pg_total_relation_size(schemaname||'.'||tablename))
     FROM pg_tables WHERE schemaname = 'public') AS bytes
UNION ALL
SELECT
    'indexes_size' AS metric,
    pg_size_pretty(
        (SELECT sum(pg_indexes_size(schemaname||'.'||tablename))
         FROM pg_tables WHERE schemaname = 'public')
    ) AS size,
    (SELECT sum(pg_indexes_size(schemaname||'.'||tablename))
     FROM pg_tables WHERE schemaname = 'public') AS bytes;

-- 2. å®¹é‡é¢„æµ‹å‡½æ•°
CREATE OR REPLACE FUNCTION monitoring.predict_storage(
    days INTEGER DEFAULT 30
)
RETURNS TABLE (
    metric TEXT,
    current_size TEXT,
    predicted_size TEXT,
    growth_rate NUMERIC
) AS $$
BEGIN
    RETURN QUERY
    SELECT
        'database_size'::TEXT,
        pg_size_pretty(pg_database_size(current_database())) AS current_size,
        pg_size_pretty(
            pg_database_size(current_database()) * (1 + 0.1 * days / 30)
        ) AS predicted_size,
        0.1 AS growth_rate;
END;
$$ LANGUAGE plpgsql;
```

## 4. å®é™…åº”ç”¨æ¡ˆä¾‹

### 4.1 æ¡ˆä¾‹: å¤§è¡¨å­˜å‚¨ä¼˜åŒ–ï¼ˆçœŸå®æ¡ˆä¾‹ï¼‰

**ä¸šåŠ¡åœºæ™¯**:

æŸç³»ç»Ÿæœ‰å¤§è¡¨éœ€è¦ä¼˜åŒ–å­˜å‚¨ã€‚

**é—®é¢˜åˆ†æ**:

1. **è¡¨è¿‡å¤§**: è¡¨å¤§å°è¶…è¿‡100GB
2. **æŸ¥è¯¢æ…¢**: æŸ¥è¯¢æ€§èƒ½ä¸‹é™
3. **å­˜å‚¨æˆæœ¬**: å­˜å‚¨æˆæœ¬é«˜

**è§£å†³æ–¹æ¡ˆ**:

```sql
-- 1. åˆ›å»ºåˆ†åŒºè¡¨
CREATE TABLE orders (
    id SERIAL,
    user_id INTEGER,
    total_amount DECIMAL(10, 2),
    created_at TIMESTAMPTZ NOT NULL
) PARTITION BY RANGE (created_at);

CREATE TABLE orders_2024 PARTITION OF orders
    FOR VALUES FROM ('2024-01-01') TO ('2025-01-01');
CREATE TABLE orders_2025 PARTITION OF orders
    FOR VALUES FROM ('2025-01-01') TO ('2026-01-01');

-- 2. æ•°æ®è¿ç§»
INSERT INTO orders SELECT * FROM old_orders;

-- 3. å¯ç”¨å‹ç¼©
ALTER TABLE orders SET (compression = 'pglz');

-- 4. å®šæœŸVACUUM
VACUUM ANALYZE orders;

-- 5. å½’æ¡£æ—§æ•°æ®
-- å°†2024å¹´ä¹‹å‰çš„æ•°æ®å½’æ¡£åˆ°å½’æ¡£è¡¨
CREATE TABLE orders_archive (LIKE orders INCLUDING ALL);
INSERT INTO orders_archive SELECT * FROM orders WHERE created_at < '2024-01-01';
DELETE FROM orders WHERE created_at < '2024-01-01';
```

**ä¼˜åŒ–æ•ˆæœ**:

| æŒ‡æ ‡ | ä¼˜åŒ–å‰ | ä¼˜åŒ–å | æ”¹å–„ |
|------|--------|--------|------|
| **è¡¨å¤§å°** | 100GB | **30GB** | **70%** â¬‡ï¸ |
| **æŸ¥è¯¢æ—¶é—´** | 5 ç§’ | **< 500ms** | **90%** â¬‡ï¸ |
| **å­˜å‚¨æˆæœ¬** | åŸºå‡† | **-70%** | **é™ä½** |

### 4.2 æ¡ˆä¾‹: å¤šè¡¨ç©ºé—´ç®¡ç†ï¼ˆçœŸå®æ¡ˆä¾‹ï¼‰

**ä¸šåŠ¡åœºæ™¯**:

æŸç³»ç»Ÿéœ€è¦å°†ä¸åŒç±»å‹æ•°æ®å­˜å‚¨åœ¨ä¸åŒè¡¨ç©ºé—´ã€‚

**è§£å†³æ–¹æ¡ˆ**:

```sql
-- 1. åˆ›å»ºå¤šä¸ªè¡¨ç©ºé—´
CREATE TABLESPACE fast_storage LOCATION '/data/postgresql/fast';
CREATE TABLESPACE slow_storage LOCATION '/data/postgresql/slow';
CREATE TABLESPACE archive_storage LOCATION '/data/postgresql/archive';

-- 2. çƒ­æ•°æ®å­˜å‚¨åœ¨å¿«é€Ÿå­˜å‚¨
CREATE TABLE hot_orders (
    id SERIAL PRIMARY KEY,
    user_id INTEGER,
    total_amount DECIMAL(10, 2),
    created_at TIMESTAMPTZ DEFAULT NOW()
) TABLESPACE fast_storage;

-- 3. æ¸©æ•°æ®å­˜å‚¨åœ¨æ…¢é€Ÿå­˜å‚¨
CREATE TABLE warm_orders (
    id SERIAL PRIMARY KEY,
    user_id INTEGER,
    total_amount DECIMAL(10, 2),
    created_at TIMESTAMPTZ DEFAULT NOW()
) TABLESPACE slow_storage;

-- 4. å½’æ¡£æ•°æ®å­˜å‚¨åœ¨å½’æ¡£å­˜å‚¨
CREATE TABLE archive_orders (
    id SERIAL PRIMARY KEY,
    user_id INTEGER,
    total_amount DECIMAL(10, 2),
    created_at TIMESTAMPTZ DEFAULT NOW()
) TABLESPACE archive_storage;

-- 5. æ•°æ®è¿ç§»è„šæœ¬
CREATE OR REPLACE FUNCTION migrate_to_archive()
RETURNS void AS $$
BEGIN
    -- å°†6ä¸ªæœˆå‰çš„æ•°æ®è¿ç§»åˆ°å½’æ¡£è¡¨
    INSERT INTO archive_orders
    SELECT * FROM hot_orders
    WHERE created_at < NOW() - INTERVAL '6 months';

    DELETE FROM hot_orders
    WHERE created_at < NOW() - INTERVAL '6 months';
END;
$$ LANGUAGE plpgsql;
```

## 5. æœ€ä½³å®è·µ

### 5.1 å­˜å‚¨ç®¡ç†åŸåˆ™

1. **å®šæœŸç»´æŠ¤**: å®šæœŸæ‰§è¡ŒVACUUMå’ŒANALYZE
2. **å®¹é‡ç›‘æ§**: æŒç»­ç›‘æ§å­˜å‚¨ä½¿ç”¨
3. **åŠæ—¶ä¼˜åŒ–**: åŠæ—¶ä¼˜åŒ–å­˜å‚¨ç»“æ„
4. **å®¹é‡è§„åˆ’**: æå‰è§„åˆ’å®¹é‡æ‰©å±•

### 5.2 å­˜å‚¨å»ºè®®

1. **ä½¿ç”¨åˆ†åŒºè¡¨**: å¤§è¡¨ä½¿ç”¨åˆ†åŒºè¡¨
2. **å¯ç”¨å‹ç¼©**: å¯ç”¨è¡¨å‹ç¼©
3. **å®šæœŸæ¸…ç†**: å®šæœŸæ¸…ç†æ—§æ•°æ®
4. **ç›‘æ§å‘Šè­¦**: è®¾ç½®å®¹é‡å‘Šè­¦

## 6. å‚è€ƒèµ„æ–™

- [è¡¨ç©ºé—´ä¸å­˜å‚¨ç®¡ç†](./è¡¨ç©ºé—´ä¸å­˜å‚¨ç®¡ç†.md)
- [VACUUMä¸ç»´æŠ¤](./VACUUMä¸ç»´æŠ¤.md)
- [åˆ†åŒºè¡¨ç®¡ç†](./åˆ†åŒºè¡¨ç®¡ç†.md)
- [PostgreSQL å®˜æ–¹æ–‡æ¡£ - å­˜å‚¨ç®¡ç†](https://www.postgresql.org/docs/current/storage.html)

---

**æœ€åæ›´æ–°**: 2025 å¹´ 11 æœˆ 1 æ—¥
**ç»´æŠ¤è€…**: PostgreSQL Modern Team
**æ–‡æ¡£ç¼–å·**: 03-03-62
