# ä»£ç ç”Ÿæˆå·¥å…·æŒ‡å—

> **åˆ›å»ºæ—¥æœŸ**: 2025å¹´1æœˆ
> **æŠ€æœ¯ç‰ˆæœ¬**: PostgreSQL 17+/18+
> **éš¾åº¦ç­‰çº§**: â­â­â­ ä¸­çº§

---

## ğŸ“‹ ç›®å½•

- [ä»£ç ç”Ÿæˆå·¥å…·æŒ‡å—](#ä»£ç ç”Ÿæˆå·¥å…·æŒ‡å—)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
  - [2. æ¨¡å‹ç”Ÿæˆ](#2-æ¨¡å‹ç”Ÿæˆ)
    - [2.1 ä»æ•°æ®åº“ç”Ÿæˆæ¨¡å‹](#21-ä»æ•°æ®åº“ç”Ÿæˆæ¨¡å‹)
    - [2.2 ä½¿ç”¨å·¥å…·ç”Ÿæˆ](#22-ä½¿ç”¨å·¥å…·ç”Ÿæˆ)
  - [3. ä»£ç ç”Ÿæˆ](#3-ä»£ç ç”Ÿæˆ)
    - [3.1 ç”ŸæˆCRUDä»£ç ](#31-ç”Ÿæˆcrudä»£ç )
    - [3.2 ç”ŸæˆAPIä»£ç ](#32-ç”Ÿæˆapiä»£ç )
  - [4. æ–‡æ¡£ç”Ÿæˆ](#4-æ–‡æ¡£ç”Ÿæˆ)
    - [4.1 ç”Ÿæˆæ•°æ®åº“æ–‡æ¡£](#41-ç”Ÿæˆæ•°æ®åº“æ–‡æ¡£)
    - [4.2 ç”ŸæˆAPIæ–‡æ¡£](#42-ç”Ÿæˆapiæ–‡æ¡£)
  - [5. å·¥å…·æ¨è](#5-å·¥å…·æ¨è)
    - [5.1 æ•°æ®åº“å·¥å…·](#51-æ•°æ®åº“å·¥å…·)
    - [5.2 ä»£ç ç”Ÿæˆå·¥å…·](#52-ä»£ç ç”Ÿæˆå·¥å…·)
  - [6. å®é™…åº”ç”¨æ¡ˆä¾‹](#6-å®é™…åº”ç”¨æ¡ˆä¾‹)
    - [6.1 ä»æ•°æ®åº“ç”ŸæˆPythonæ¨¡å‹](#61-ä»æ•°æ®åº“ç”Ÿæˆpythonæ¨¡å‹)
    - [6.2 ä»æ•°æ®åº“ç”ŸæˆTypeScriptæ¨¡å‹](#62-ä»æ•°æ®åº“ç”Ÿæˆtypescriptæ¨¡å‹)
    - [6.3 ä»æ•°æ®åº“ç”ŸæˆJavaå®ä½“ç±»](#63-ä»æ•°æ®åº“ç”Ÿæˆjavaå®ä½“ç±»)
  - [7. è‡ªå®šä¹‰ä»£ç ç”Ÿæˆ](#7-è‡ªå®šä¹‰ä»£ç ç”Ÿæˆ)
    - [7.1 ä½¿ç”¨æ¨¡æ¿å¼•æ“](#71-ä½¿ç”¨æ¨¡æ¿å¼•æ“)
    - [7.2 ä½¿ç”¨ä»£ç ç”Ÿæˆæ¡†æ¶](#72-ä½¿ç”¨ä»£ç ç”Ÿæˆæ¡†æ¶)
  - [8. æœ€ä½³å®è·µ](#8-æœ€ä½³å®è·µ)
    - [8.1 ä»£ç ç”Ÿæˆç­–ç•¥](#81-ä»£ç ç”Ÿæˆç­–ç•¥)
    - [8.2 å·¥å…·é€‰æ‹©å»ºè®®](#82-å·¥å…·é€‰æ‹©å»ºè®®)
  - [ğŸ“š ç›¸å…³æ–‡æ¡£](#-ç›¸å…³æ–‡æ¡£)

---

## 1. æ¦‚è¿°

ä»£ç ç”Ÿæˆå·¥å…·å¯ä»¥è‡ªåŠ¨ç”Ÿæˆæ•°æ®åº“ç›¸å…³çš„ä»£ç ï¼Œæé«˜å¼€å‘æ•ˆç‡ã€‚

**ç”Ÿæˆå†…å®¹**:

- æ•°æ®æ¨¡å‹
- CRUDä»£ç 
- APIä»£ç 
- æ–‡æ¡£

---

## 2. æ¨¡å‹ç”Ÿæˆ

### 2.1 ä»æ•°æ®åº“ç”Ÿæˆæ¨¡å‹

```bash
# ä½¿ç”¨pg_dumpç”Ÿæˆæ¨¡å‹
pg_dump -s -t users mydb > models/users.sql
```

### 2.2 ä½¿ç”¨å·¥å…·ç”Ÿæˆ

```bash
# ä½¿ç”¨pgModeler
pgmodeler --export-to-file schema.dbm
```

---

## 3. ä»£ç ç”Ÿæˆ

### 3.1 ç”ŸæˆCRUDä»£ç 

```python
# ä½¿ç”¨æ¨¡æ¿ç”Ÿæˆ
from jinja2 import Template

template = Template("""
class {{ table_name }}:
    def create(self, data):
        # INSERT INTO {{ table_name }} ...
        pass
""")
```

### 3.2 ç”ŸæˆAPIä»£ç 

```bash
# ä½¿ç”¨OpenAPIç”Ÿæˆå™¨
openapi-generator generate \
  -i schema.yaml \
  -g python-flask \
  -o api/
```

---

## 4. æ–‡æ¡£ç”Ÿæˆ

### 4.1 ç”Ÿæˆæ•°æ®åº“æ–‡æ¡£

```bash
# ä½¿ç”¨SchemaSpy
schemaspy -t pgsql \
  -host localhost \
  -db mydb \
  -u postgres \
  -o docs/
```

### 4.2 ç”ŸæˆAPIæ–‡æ¡£

```bash
# ä½¿ç”¨Swagger
swagger-codegen generate \
  -i api.yaml \
  -l html \
  -o docs/
```

---

## 5. å·¥å…·æ¨è

### 5.1 æ•°æ®åº“å·¥å…·

| å·¥å…· | åŠŸèƒ½ | é€‚ç”¨åœºæ™¯ |
|------|------|---------|
| **pgModeler** | æ¨¡å‹è®¾è®¡ | æ•°æ®åº“è®¾è®¡ |
| **SchemaSpy** | æ–‡æ¡£ç”Ÿæˆ | æ–‡æ¡£ç”Ÿæˆ |
| **pgAdmin** | ç®¡ç†å·¥å…· | æ—¥å¸¸ç®¡ç† |
| **DBeaver** | æ•°æ®åº“ç®¡ç† | è·¨å¹³å°ç®¡ç† |
| **pg_dump** | å¤‡ä»½å·¥å…· | æ•°æ®å¤‡ä»½ |

### 5.2 ä»£ç ç”Ÿæˆå·¥å…·

| å·¥å…· | åŠŸèƒ½ | é€‚ç”¨åœºæ™¯ |
|------|------|---------|
| **MyBatis Generator** | CRUDç”Ÿæˆ | Javaé¡¹ç›® |
| **Django ORM** | æ¨¡å‹ç”Ÿæˆ | Pythoné¡¹ç›® |
| **Prisma** | æ¨¡å‹ç”Ÿæˆ | Node.jsé¡¹ç›® |
| **SQLAlchemy** | ORMç”Ÿæˆ | Pythoné¡¹ç›® |
| **TypeORM** | ORMç”Ÿæˆ | TypeScripté¡¹ç›® |

## 6. å®é™…åº”ç”¨æ¡ˆä¾‹

### 6.1 ä»æ•°æ®åº“ç”ŸæˆPythonæ¨¡å‹

**ä½¿ç”¨SQLAlchemy**ï¼š

```python
# å®‰è£…å·¥å…·
pip install sqlacodegen

# ç”Ÿæˆæ¨¡å‹
sqlacodegen postgresql://user:pass@localhost/dbname > models.py

# ç”Ÿæˆçš„æ¨¡å‹ç¤ºä¾‹
from sqlalchemy import Column, Integer, String
from sqlalchemy.ext.declarative import declarative_base

Base = declarative_base()

class User(Base):
    __tablename__ = 'users'

    id = Column(Integer, primary_key=True)
    name = Column(String(100))
    email = Column(String(255))
```

### 6.2 ä»æ•°æ®åº“ç”ŸæˆTypeScriptæ¨¡å‹

**ä½¿ç”¨Prisma**ï¼š

```bash
# åˆå§‹åŒ–Prisma
npx prisma init

# é…ç½®æ•°æ®åº“è¿æ¥
# prisma/schema.prisma
datasource db {
  provider = "postgresql"
  url      = "postgresql://user:pass@localhost:5432/dbname"
}

# ç”Ÿæˆæ¨¡å‹
npx prisma db pull

# ç”Ÿæˆçš„æ¨¡å‹ç¤ºä¾‹
model User {
  id    Int     @id @default(autoincrement())
  name  String
  email String  @unique
}
```

### 6.3 ä»æ•°æ®åº“ç”ŸæˆJavaå®ä½“ç±»

**ä½¿ç”¨MyBatis Generator**ï¼š

```xml
<!-- generatorConfig.xml -->
<generatorConfiguration>
  <context id="PostgreSQL">
    <jdbcConnection
      driverClass="org.postgresql.Driver"
      connectionURL="jdbc:postgresql://localhost:5432/dbname"
      userId="user"
      password="pass"/>
    <javaModelGenerator
      targetPackage="com.example.model"
      targetProject="src/main/java"/>
    <sqlMapGenerator
      targetPackage="mapper"
      targetProject="src/main/resources"/>
    <table tableName="users"/>
  </context>
</generatorConfiguration>
```

```bash
# ç”Ÿæˆä»£ç 
mybatis-generator -configfile generatorConfig.xml
```

## 7. è‡ªå®šä¹‰ä»£ç ç”Ÿæˆ

### 7.1 ä½¿ç”¨æ¨¡æ¿å¼•æ“

**Jinja2æ¨¡æ¿ç¤ºä¾‹**ï¼š

```python
from jinja2 import Template
import psycopg2

# è¿æ¥æ•°æ®åº“
conn = psycopg2.connect("dbname=mydb user=postgres")
cur = conn.cursor()

# æŸ¥è¯¢è¡¨ç»“æ„
cur.execute("""
    SELECT column_name, data_type, is_nullable
    FROM information_schema.columns
    WHERE table_name = 'users'
""")
columns = cur.fetchall()

# ç”Ÿæˆä»£ç æ¨¡æ¿
template = Template("""
class {{ table_name }}:
    def __init__(self):
        self.columns = [
{% for col in columns %}
            '{{ col[0] }}',  # {{ col[1] }}
{% endfor %}
        ]
""")

# ç”Ÿæˆä»£ç 
code = template.render(table_name='User', columns=columns)
print(code)
```

### 7.2 ä½¿ç”¨ä»£ç ç”Ÿæˆæ¡†æ¶

**ä½¿ç”¨CodeSmith**ï¼š

```csharp
// æ¨¡æ¿æ–‡ä»¶
<%@ CodeTemplate Language="C#" TargetLanguage="C#" %>
<%@ Property Name="TableName" Type="String" %>
<%@ Property Name="Columns" Type="System.Collections.Generic.List<Column>" %>

public class <%= TableName %>
{
<% foreach (var column in Columns) { %>
    public <%= column.DataType %> <%= column.Name %> { get; set; }
<% } %>
}
```

## 8. æœ€ä½³å®è·µ

### 8.1 ä»£ç ç”Ÿæˆç­–ç•¥

**1. å¢é‡ç”Ÿæˆ**ï¼š

- åªç”Ÿæˆæ–°å¢çš„è¡¨å’Œå­—æ®µ
- ä¿ç•™æ‰‹åŠ¨ä¿®æ”¹çš„ä»£ç 
- ä½¿ç”¨ç‰ˆæœ¬æ§åˆ¶è·Ÿè¸ªå˜åŒ–

**2. æ¨¡æ¿ç®¡ç†**ï¼š

- ç»Ÿä¸€æ¨¡æ¿é£æ ¼
- ç‰ˆæœ¬åŒ–æ¨¡æ¿
- å®šæœŸæ›´æ–°æ¨¡æ¿

**3. ä»£ç å®¡æŸ¥**ï¼š

- ç”Ÿæˆåå®¡æŸ¥ä»£ç 
- ç¡®ä¿ç¬¦åˆè§„èŒƒ
- æ·»åŠ å¿…è¦çš„æ³¨é‡Š

### 8.2 å·¥å…·é€‰æ‹©å»ºè®®

**é€‰æ‹©æ ‡å‡†**ï¼š

1. **é¡¹ç›®ç±»å‹**
   - Javaé¡¹ç›®ï¼šMyBatis Generator
   - Pythoné¡¹ç›®ï¼šSQLAlchemy / Django ORM
   - TypeScripté¡¹ç›®ï¼šPrisma / TypeORM

2. **åŠŸèƒ½éœ€æ±‚**
   - ç®€å•CRUDï¼šORMå·¥å…·
   - å¤æ‚æŸ¥è¯¢ï¼šä»£ç ç”Ÿæˆå·¥å…·
   - æ–‡æ¡£ç”Ÿæˆï¼šSchemaSpy

3. **å›¢é˜ŸæŠ€èƒ½**
   - ç†Ÿæ‚‰ORMï¼šä½¿ç”¨ORMå·¥å…·
   - ç†Ÿæ‚‰SQLï¼šä½¿ç”¨ä»£ç ç”Ÿæˆå·¥å…·

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [IDEé…ç½®æŒ‡å—.md](./IDEé…ç½®æŒ‡å—.md) - IDEé…ç½®å®Œæ•´æŒ‡å—
- [å¼€å‘å·¥å…·é“¾.md](./å¼€å‘å·¥å…·é“¾.md) - å¼€å‘å·¥å…·é“¾
- [è°ƒè¯•å·¥å…·.md](./è°ƒè¯•å·¥å…·.md) - è°ƒè¯•å·¥å…·
- [22-å·¥å…·ä¸èµ„æº/README.md](../README.md) - å·¥å…·ä¸èµ„æºä¸»é¢˜

---

**æœ€åæ›´æ–°**: 2025å¹´1æœˆ
