# å¼€å‘å·¥å…·é“¾æ•´åˆ

> **åˆ›å»ºæ—¥æœŸ**: 2025å¹´1æœˆ
> **æŠ€æœ¯ç‰ˆæœ¬**: PostgreSQL 17+/18+
> **éš¾åº¦ç­‰çº§**: â­â­â­ ä¸­çº§

---

## ğŸ“‹ ç›®å½•

- [å¼€å‘å·¥å…·é“¾æ•´åˆ](#å¼€å‘å·¥å…·é“¾æ•´åˆ)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
  - [2. ç‰ˆæœ¬æ§åˆ¶](#2-ç‰ˆæœ¬æ§åˆ¶)
    - [2.1 Gité…ç½®](#21-gité…ç½®)
    - [2.2 ç‰ˆæœ¬ç®¡ç†](#22-ç‰ˆæœ¬ç®¡ç†)
  - [3. ä»£ç æ ¼å¼åŒ–](#3-ä»£ç æ ¼å¼åŒ–)
    - [3.1 SQLæ ¼å¼åŒ–å·¥å…·](#31-sqlæ ¼å¼åŒ–å·¥å…·)
    - [3.2 æ ¼å¼åŒ–é…ç½®](#32-æ ¼å¼åŒ–é…ç½®)
  - [4. SQLæ£€æŸ¥](#4-sqlæ£€æŸ¥)
    - [4.1 SQLæ£€æŸ¥å·¥å…·](#41-sqlæ£€æŸ¥å·¥å…·)
    - [4.2 æ£€æŸ¥è§„åˆ™](#42-æ£€æŸ¥è§„åˆ™)
  - [5. æ•°æ®åº“è¿ç§»](#5-æ•°æ®åº“è¿ç§»)
    - [5.1 è¿ç§»å·¥å…·](#51-è¿ç§»å·¥å…·)
    - [5.2 è¿ç§»è„šæœ¬](#52-è¿ç§»è„šæœ¬)
  - [ğŸ“š ç›¸å…³æ–‡æ¡£](#-ç›¸å…³æ–‡æ¡£)

---

## 1. æ¦‚è¿°

å¼€å‘å·¥å…·é“¾æ•´åˆå¤šä¸ªå·¥å…·ï¼Œæä¾›å®Œæ•´çš„PostgreSQLå¼€å‘ç¯å¢ƒã€‚

**å·¥å…·é“¾ç»„ä»¶**:

- ç‰ˆæœ¬æ§åˆ¶ï¼ˆGitï¼‰
- ä»£ç æ ¼å¼åŒ–
- SQLæ£€æŸ¥
- æ•°æ®åº“è¿ç§»

---

## 2. ç‰ˆæœ¬æ§åˆ¶

### 2.1 Gité…ç½®

```bash
# åˆå§‹åŒ–Gitä»“åº“
git init

# æ·»åŠ .gitignore
echo "*.dump" >> .gitignore
echo "*.sql.bak" >> .gitignore
```

### 2.2 ç‰ˆæœ¬ç®¡ç†

```bash
# æäº¤SQLå˜æ›´
git add migrations/*.sql
git commit -m "Add user table migration"

# æŸ¥çœ‹å˜æ›´å†å²
git log --oneline
```

---

## 3. ä»£ç æ ¼å¼åŒ–

### 3.1 SQLæ ¼å¼åŒ–å·¥å…·

```bash
# å®‰è£…pg_format
npm install -g pg-formatter

# æ ¼å¼åŒ–SQLæ–‡ä»¶
pg_format input.sql > output.sql
```

### 3.2 æ ¼å¼åŒ–é…ç½®

```json
{
  "formatter": "pg_format",
  "options": {
    "keyword-case": "upper",
    "function-case": "lower",
    "indent": 2
  }
}
```

---

## 4. SQLæ£€æŸ¥

### 4.1 SQLæ£€æŸ¥å·¥å…·

```bash
# å®‰è£…sqlfluff
pip install sqlfluff

# æ£€æŸ¥SQLæ–‡ä»¶
sqlfluff lint queries.sql
```

### 4.2 æ£€æŸ¥è§„åˆ™

```toml
[sqlfluff]
dialect = postgres

[sqlfluff:rules]
max_line_length = 100
indent_unit = space
```

---

## 5. æ•°æ®åº“è¿ç§»

### 5.1 è¿ç§»å·¥å…·

```bash
# ä½¿ç”¨Flyway
flyway migrate

# ä½¿ç”¨Liquibase
liquibase update
```

### 5.2 è¿ç§»è„šæœ¬

```sql
-- migrations/001_create_users.sql
CREATE TABLE users (
    id SERIAL PRIMARY KEY,
    name TEXT NOT NULL,
    email TEXT UNIQUE NOT NULL
);
```

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- [IDEé…ç½®æŒ‡å—.md](./IDEé…ç½®æŒ‡å—.md) - IDEé…ç½®å®Œæ•´æŒ‡å—
- [è°ƒè¯•å·¥å…·.md](./è°ƒè¯•å·¥å…·.md) - è°ƒè¯•å·¥å…·ä½¿ç”¨
- [ä»£ç ç”Ÿæˆå·¥å…·.md](./ä»£ç ç”Ÿæˆå·¥å…·.md) - ä»£ç ç”Ÿæˆå·¥å…·
- [22-å·¥å…·ä¸èµ„æº/README.md](../README.md) - å·¥å…·ä¸èµ„æºä¸»é¢˜

---

**æœ€åæ›´æ–°**: 2025å¹´1æœˆ
