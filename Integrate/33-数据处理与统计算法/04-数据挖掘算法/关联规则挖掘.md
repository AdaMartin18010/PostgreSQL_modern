# PostgreSQL å…³è”è§„åˆ™æŒ–æ˜å®Œæ•´æŒ‡å—

> **åˆ›å»ºæ—¥æœŸ**: 2025å¹´1æœˆ
> **æŠ€æœ¯æ ˆ**: PostgreSQL 17+/18+ | å…³è”è§„åˆ™ | å¸‚åœºåˆ†æ
> **éš¾åº¦çº§åˆ«**: â­â­â­â­ (é«˜çº§)

---

## ğŸ“‹ ç›®å½•

- [PostgreSQL å…³è”è§„åˆ™æŒ–æ˜å®Œæ•´æŒ‡å—](#postgresql-å…³è”è§„åˆ™æŒ–æ˜å®Œæ•´æŒ‡å—)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [å…³è”è§„åˆ™æŒ–æ˜æ¦‚è¿°](#å…³è”è§„åˆ™æŒ–æ˜æ¦‚è¿°)
    - [ç†è®ºåŸºç¡€](#ç†è®ºåŸºç¡€)
      - [å…³è”è§„åˆ™å®šä¹‰](#å…³è”è§„åˆ™å®šä¹‰)
      - [æ”¯æŒåº¦ï¼ˆSupportï¼‰](#æ”¯æŒåº¦support)
      - [ç½®ä¿¡åº¦ï¼ˆConfidenceï¼‰](#ç½®ä¿¡åº¦confidence)
      - [æå‡åº¦ï¼ˆLiftï¼‰](#æå‡åº¦lift)
      - [é¢‘ç¹é¡¹é›†ï¼ˆFrequent Itemsetï¼‰](#é¢‘ç¹é¡¹é›†frequent-itemset)
      - [AprioriåŸç†](#aprioriåŸç†)
    - [æ ¸å¿ƒæ¦‚å¿µ](#æ ¸å¿ƒæ¦‚å¿µ)
  - [1. Aprioriç®—æ³•](#1-aprioriç®—æ³•)
    - [1.1 Aprioriç®—æ³•åŸç†](#11-aprioriç®—æ³•åŸç†)
      - [ç®—æ³•æ­¥éª¤](#ç®—æ³•æ­¥éª¤)
      - [å€™é€‰ç”Ÿæˆï¼ˆè¿æ¥æ­¥ï¼‰](#å€™é€‰ç”Ÿæˆè¿æ¥æ­¥)
      - [å‰ªæï¼ˆå‰ªææ­¥ï¼‰](#å‰ªæå‰ªææ­¥)
      - [æ—¶é—´å¤æ‚åº¦](#æ—¶é—´å¤æ‚åº¦)
    - [1.2 å•ä¸€é¡¹é›†ç»Ÿè®¡å®ç°](#12-å•ä¸€é¡¹é›†ç»Ÿè®¡å®ç°)
    - [1.3 äºŒé¡¹é›†ç»Ÿè®¡å®ç°](#13-äºŒé¡¹é›†ç»Ÿè®¡å®ç°)
  - [2. FP-Growthç®—æ³•](#2-fp-growthç®—æ³•)
    - [2.1 FP-Growthç®—æ³•åŸç†](#21-fp-growthç®—æ³•åŸç†)
      - [ç®—æ³•æ­¥éª¤](#ç®—æ³•æ­¥éª¤-1)
      - [FPæ ‘ç»“æ„](#fpæ ‘ç»“æ„)
      - [ä¼˜åŠ¿](#ä¼˜åŠ¿)
      - [æ—¶é—´å¤æ‚åº¦](#æ—¶é—´å¤æ‚åº¦-1)
    - [2.2 FP-Growthç®—æ³•å®ç°](#22-fp-growthç®—æ³•å®ç°)
  - [3. å…³è”è§„åˆ™ç”Ÿæˆ](#3-å…³è”è§„åˆ™ç”Ÿæˆ)
    - [3.1 è§„åˆ™ç”Ÿæˆå®ç°](#31-è§„åˆ™ç”Ÿæˆå®ç°)
  - [4. è§„åˆ™è¯„ä¼°ä¸ç­›é€‰](#4-è§„åˆ™è¯„ä¼°ä¸ç­›é€‰)
    - [4.1 è§„åˆ™è¯„ä¼°å®ç°](#41-è§„åˆ™è¯„ä¼°å®ç°)
  - [5. å®é™…åº”ç”¨æ¡ˆä¾‹](#5-å®é™…åº”ç”¨æ¡ˆä¾‹)
    - [5.1 è´­ç‰©ç¯®åˆ†æ](#51-è´­ç‰©ç¯®åˆ†æ)
    - [5.2 æ¨èç³»ç»Ÿåº”ç”¨](#52-æ¨èç³»ç»Ÿåº”ç”¨)
    - [5.3 äº¤å‰é”€å”®åˆ†æ](#53-äº¤å‰é”€å”®åˆ†æ)
    - [5.4 å•†å“ç»„åˆä¼˜åŒ–](#54-å•†å“ç»„åˆä¼˜åŒ–)
    - [5.5 å…³è”è§„åˆ™å¯è§†åŒ–åˆ†æ](#55-å…³è”è§„åˆ™å¯è§†åŒ–åˆ†æ)
  - [6. PostgreSQL 18å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜](#6-postgresql-18å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜)
    - [6.1 å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜æ¦‚è¿°](#61-å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜æ¦‚è¿°)
      - [å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜é…ç½®](#å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜é…ç½®)
      - [å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜å®ç°](#å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜å®ç°)
  - [7. ç®—æ³•æ€§èƒ½å¯¹æ¯”ä¸ä¼˜åŒ–](#7-ç®—æ³•æ€§èƒ½å¯¹æ¯”ä¸ä¼˜åŒ–)
    - [7.1 Apriori vs FP-Growthå¯¹æ¯”](#71-apriori-vs-fp-growthå¯¹æ¯”)
    - [7.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®](#72-æ€§èƒ½ä¼˜åŒ–å»ºè®®)
    - [7.3 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ](#73-å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ)
  - [8. æœ€ä½³å®è·µ](#8-æœ€ä½³å®è·µ)
    - [8.1 å‚æ•°é€‰æ‹©](#81-å‚æ•°é€‰æ‹©)
    - [8.2 è§„åˆ™è¯„ä¼°](#82-è§„åˆ™è¯„ä¼°)
    - [8.3 åº”ç”¨åœºæ™¯](#83-åº”ç”¨åœºæ™¯)
    - [8.4 SQLå®ç°æ³¨æ„äº‹é¡¹](#84-sqlå®ç°æ³¨æ„äº‹é¡¹)
    - [8.5 PostgreSQL 18 æ–°ç‰¹æ€§åº”ç”¨ï¼ˆå¢å¼ºï¼‰](#85-postgresql-18-æ–°ç‰¹æ€§åº”ç”¨å¢å¼º)
    - [8.6 é«˜çº§ä¼˜åŒ–æŠ€å·§ï¼ˆå¢å¼ºï¼‰](#86-é«˜çº§ä¼˜åŒ–æŠ€å·§å¢å¼º)
  - [ğŸ“š å‚è€ƒèµ„æº](#-å‚è€ƒèµ„æº)
    - [å­¦æœ¯æ–‡çŒ®](#å­¦æœ¯æ–‡çŒ®)
    - [PostgreSQLå®˜æ–¹æ–‡æ¡£](#postgresqlå®˜æ–¹æ–‡æ¡£)
    - [åœ¨çº¿èµ„æº](#åœ¨çº¿èµ„æº)
    - [ç›¸å…³ç®—æ³•](#ç›¸å…³ç®—æ³•)

---

## å…³è”è§„åˆ™æŒ–æ˜æ¦‚è¿°

**å…³è”è§„åˆ™æŒ–æ˜ï¼ˆAssociation Rule Miningï¼‰**æ˜¯æ•°æ®æŒ–æ˜ä¸­çš„é‡è¦æŠ€æœ¯ï¼Œç”¨äºå‘ç°æ•°æ®é¡¹ä¹‹é—´çš„å…³è”å…³ç³»ã€‚æœ€ç»å…¸çš„åº”ç”¨æ˜¯è´­ç‰©ç¯®åˆ†æï¼ˆMarket Basket Analysisï¼‰ï¼Œé€šè¿‡åˆ†æé¡¾å®¢çš„è´­ä¹°è¡Œä¸ºï¼Œå‘ç°å•†å“ä¹‹é—´çš„å…³è”è§„åˆ™ã€‚

### ç†è®ºåŸºç¡€

#### å…³è”è§„åˆ™å®šä¹‰

**å…³è”è§„åˆ™**çš„å½¢å¼ä¸ºï¼š$X \Rightarrow Y$ï¼Œå…¶ä¸­ï¼š

- $X$ï¼šå‰ä»¶ï¼ˆAntecedentï¼‰ï¼Œæ¡ä»¶é¡¹é›†
- $Y$ï¼šåä»¶ï¼ˆConsequentï¼‰ï¼Œç»“æœé¡¹é›†
- $X \cap Y = \emptyset$ï¼šå‰ä»¶å’Œåä»¶ä¸ç›¸äº¤

**ç¤ºä¾‹**ï¼š$\{ç‰›å¥¶, é¢åŒ…\} \Rightarrow \{é»„æ²¹\}$ è¡¨ç¤º"è´­ä¹°ç‰›å¥¶å’Œé¢åŒ…çš„é¡¾å®¢ï¼Œä¹Ÿå€¾å‘äºè´­ä¹°é»„æ²¹"

#### æ”¯æŒåº¦ï¼ˆSupportï¼‰

**æ”¯æŒåº¦**è¡¡é‡é¡¹é›†åœ¨äº‹åŠ¡ä¸­å‡ºç°çš„é¢‘ç‡ï¼š

$$\text{Support}(X) = \frac{|\{t \in T : X \subseteq t\}|}{|T|}$$

å…¶ä¸­ï¼š

- $T$ï¼šæ‰€æœ‰äº‹åŠ¡çš„é›†åˆ
- $t$ï¼šå•ä¸ªäº‹åŠ¡
- $|T|$ï¼šäº‹åŠ¡æ€»æ•°

**è§„åˆ™æ”¯æŒåº¦**ï¼š
$$\text{Support}(X \Rightarrow Y) = \text{Support}(X \cup Y) = \frac{|\{t \in T : (X \cup Y) \subseteq t\}|}{|T|}$$

#### ç½®ä¿¡åº¦ï¼ˆConfidenceï¼‰

**ç½®ä¿¡åº¦**è¡¡é‡è§„åˆ™çš„å¯ä¿¡åº¦ï¼Œå³æ¡ä»¶æ¦‚ç‡ï¼š

$$\text{Confidence}(X \Rightarrow Y) = P(Y|X) = \frac{\text{Support}(X \cup Y)}{\text{Support}(X)}$$

**ç½®ä¿¡åº¦è§£é‡Š**ï¼šåœ¨åŒ…å«$X$çš„äº‹åŠ¡ä¸­ï¼Œæœ‰å¤šå°‘æ¯”ä¾‹ä¹ŸåŒ…å«$Y$ã€‚

#### æå‡åº¦ï¼ˆLiftï¼‰

**æå‡åº¦**è¡¡é‡è§„åˆ™çš„æœ‰æ•ˆæ€§ï¼Œè¡¨ç¤º$Y$åœ¨$X$å‡ºç°æ—¶çš„é¢‘ç‡ç›¸å¯¹äº$Y$çš„æ€»ä½“é¢‘ç‡çš„æå‡ï¼š

$$\text{Lift}(X \Rightarrow Y) = \frac{\text{Confidence}(X \Rightarrow Y)}{\text{Support}(Y)} = \frac{\text{Support}(X \cup Y)}{\text{Support}(X) \times \text{Support}(Y)}$$

**æå‡åº¦è§£é‡Š**ï¼š

- $\text{Lift} > 1$ï¼šæ­£ç›¸å…³ï¼Œè§„åˆ™æœ‰æ•ˆ
- $\text{Lift} = 1$ï¼šç‹¬ç«‹ï¼Œæ— å…³è”
- $\text{Lift} < 1$ï¼šè´Ÿç›¸å…³ï¼Œè§„åˆ™æ— æ•ˆ

#### é¢‘ç¹é¡¹é›†ï¼ˆFrequent Itemsetï¼‰

**é¢‘ç¹é¡¹é›†**æ˜¯æ”¯æŒåº¦ä¸ä½äºæœ€å°æ”¯æŒåº¦é˜ˆå€¼ï¼ˆmin_supportï¼‰çš„é¡¹é›†ï¼š

$$F = \{X : \text{Support}(X) \geq \text{min\_support}\}$$

#### AprioriåŸç†

**AprioriåŸç†**ï¼ˆå…ˆéªŒåŸç†ï¼‰ï¼š

- å¦‚æœä¸€ä¸ªé¡¹é›†æ˜¯é¢‘ç¹çš„ï¼Œé‚£ä¹ˆå®ƒçš„æ‰€æœ‰å­é›†ä¹Ÿæ˜¯é¢‘ç¹çš„
- å¦‚æœä¸€ä¸ªé¡¹é›†ä¸æ˜¯é¢‘ç¹çš„ï¼Œé‚£ä¹ˆå®ƒçš„æ‰€æœ‰è¶…é›†ä¹Ÿä¸æ˜¯é¢‘ç¹çš„

**æ•°å­¦è¡¨è¾¾**ï¼š
$$\text{If } X \subseteq Y \text{ and } Y \text{ is frequent, then } X \text{ is frequent}$$
$$\text{If } X \text{ is not frequent, then } \forall Y \supseteq X, Y \text{ is not frequent}$$

### æ ¸å¿ƒæ¦‚å¿µ

| æ¦‚å¿µ | æ•°å­¦å®šä¹‰ | ç”¨é€” |
|------|---------|------|
| **æ”¯æŒåº¦** | $\text{Support}(X) = \frac{|\{t : X \subseteq t\}|}{|T|}$ | è¡¡é‡è§„åˆ™é‡è¦æ€§ |
| **ç½®ä¿¡åº¦** | $\text{Confidence}(X \Rightarrow Y) = \frac{\text{Support}(X \cup Y)}{\text{Support}(X)}$ | è¡¡é‡è§„åˆ™å¯é æ€§ |
| **æå‡åº¦** | $\text{Lift}(X \Rightarrow Y) = \frac{\text{Confidence}(X \Rightarrow Y)}{\text{Support}(Y)}$ | è¡¡é‡è§„åˆ™æœ‰æ•ˆæ€§ |
| **é¢‘ç¹é¡¹é›†** | $\{X : \text{Support}(X) \geq \text{min\_support}\}$ | å€™é€‰è§„åˆ™åŸºç¡€ |

---

## 1. Aprioriç®—æ³•

### 1.1 Aprioriç®—æ³•åŸç†

**Aprioriç®—æ³•**æ˜¯å…³è”è§„åˆ™æŒ–æ˜çš„ç»å…¸ç®—æ³•ï¼ŒåŸºäºAprioriåŸç†ï¼Œé€šè¿‡é€å±‚æœç´¢é¢‘ç¹é¡¹é›†ã€‚

#### ç®—æ³•æ­¥éª¤

**é˜¶æ®µ1ï¼šé¢‘ç¹é¡¹é›†ç”Ÿæˆ**

1. **æ‰«ææ•°æ®åº“**ï¼Œç»Ÿè®¡æ‰€æœ‰å•é¡¹çš„æ”¯æŒåº¦
2. **ç”Ÿæˆé¢‘ç¹1-é¡¹é›†** $L_1$ï¼ˆæ”¯æŒåº¦ $\geq$ min_supportï¼‰
3. **è¿­ä»£ç”Ÿæˆé¢‘ç¹k-é¡¹é›†** $L_k$ï¼š
   - ä»$L_{k-1}$ç”Ÿæˆå€™é€‰k-é¡¹é›†$C_k$ï¼ˆè¿æ¥å’Œå‰ªæï¼‰
   - æ‰«ææ•°æ®åº“ï¼Œè®¡ç®—$C_k$ä¸­æ¯ä¸ªé¡¹é›†çš„æ”¯æŒåº¦
   - ç”Ÿæˆé¢‘ç¹k-é¡¹é›†$L_k$ï¼ˆæ”¯æŒåº¦ $\geq$ min_supportï¼‰
4. **é‡å¤æ­¥éª¤3**ï¼Œç›´åˆ°$L_k$ä¸ºç©º

**é˜¶æ®µ2ï¼šå…³è”è§„åˆ™ç”Ÿæˆ**

1. å¯¹æ¯ä¸ªé¢‘ç¹é¡¹é›†$L$ï¼Œç”Ÿæˆæ‰€æœ‰éç©ºå­é›†
2. å¯¹æ¯ä¸ªå­é›†$S \subset L$ï¼Œç”Ÿæˆè§„åˆ™$S \Rightarrow (L - S)$
3. è®¡ç®—è§„åˆ™çš„ç½®ä¿¡åº¦
4. ä¿ç•™ç½®ä¿¡åº¦ $\geq$ min_confidenceçš„è§„åˆ™

#### å€™é€‰ç”Ÿæˆï¼ˆè¿æ¥æ­¥ï¼‰

**è¿æ¥æ“ä½œ**ï¼šå°†ä¸¤ä¸ªé¢‘ç¹(k-1)-é¡¹é›†è¿æ¥ç”Ÿæˆå€™é€‰k-é¡¹é›†

**æ¡ä»¶**ï¼šä¸¤ä¸ªé¡¹é›†çš„å‰(k-2)ä¸ªé¡¹ç›¸åŒï¼Œæœ€åä¸€ä¸ªé¡¹ä¸åŒ

**ç¤ºä¾‹**ï¼š

- $L_2 = \{\{A,B\}, \{A,C\}, \{B,C\}\}$
- è¿æ¥$\{A,B\}$å’Œ$\{A,C\}$ï¼š$\{A,B,C\}$ï¼ˆå‰1é¡¹ç›¸åŒï¼šAï¼‰
- è¿æ¥$\{A,B\}$å’Œ$\{B,C\}$ï¼šä¸è¿æ¥ï¼ˆå‰1é¡¹ä¸åŒï¼šA vs Bï¼‰

#### å‰ªæï¼ˆå‰ªææ­¥ï¼‰

**å‰ªææ“ä½œ**ï¼šåˆ é™¤å€™é€‰k-é¡¹é›†ä¸­åŒ…å«éé¢‘ç¹(k-1)-é¡¹é›†çš„é¡¹é›†

**åŸç†**ï¼šæ ¹æ®AprioriåŸç†ï¼Œå¦‚æœé¡¹é›†çš„å­é›†ä¸æ˜¯é¢‘ç¹çš„ï¼Œé‚£ä¹ˆè¯¥é¡¹é›†ä¹Ÿä¸æ˜¯é¢‘ç¹çš„

#### æ—¶é—´å¤æ‚åº¦

**æ—¶é—´å¤æ‚åº¦**ï¼š$O(2^n)$ï¼ˆæœ€åæƒ…å†µï¼Œ$n$æ˜¯é¡¹çš„æ•°é‡ï¼‰

**ä¼˜åŒ–**ï¼š

- ä½¿ç”¨å“ˆå¸Œæ ‘å­˜å‚¨å€™é€‰é¡¹é›†
- å‡å°‘æ•°æ®åº“æ‰«ææ¬¡æ•°
- ä½¿ç”¨äº‹åŠ¡å‹ç¼©

### 1.2 å•ä¸€é¡¹é›†ç»Ÿè®¡å®ç°

```sql
-- å•ä¸€é¡¹é›†ç»Ÿè®¡ï¼ˆå¸¦é”™è¯¯å¤„ç†å’Œæ€§èƒ½æµ‹è¯•ï¼‰
DO $$
BEGIN
    BEGIN
        IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transaction_items') THEN
            RAISE WARNING 'è¡¨ transaction_items ä¸å­˜åœ¨ï¼Œæ— æ³•æ‰§è¡Œå•ä¸€é¡¹é›†ç»Ÿè®¡';
            RETURN;
        END IF;
        RAISE NOTICE 'å¼€å§‹æ‰§è¡Œå•ä¸€é¡¹é›†ç»Ÿè®¡';
    EXCEPTION
        WHEN OTHERS THEN
            RAISE WARNING 'å•ä¸€é¡¹é›†ç»Ÿè®¡å‡†å¤‡å¤±è´¥: %', SQLERRM;
            RAISE;
    END;
END $$;

EXPLAIN (ANALYZE, BUFFERS, TIMING, VERBOSE)
SELECT
    item,
    COUNT(DISTINCT transaction_id) AS support_count,
    COUNT(DISTINCT transaction_id) * 100.0 / (SELECT COUNT(DISTINCT transaction_id) FROM transaction_items) AS support_pct
FROM transaction_items
GROUP BY item
HAVING COUNT(DISTINCT transaction_id) >= 10  -- æœ€å°æ”¯æŒåº¦é˜ˆå€¼
ORDER BY support_count DESC;
```

### 1.3 äºŒé¡¹é›†ç»Ÿè®¡å®ç°

**äºŒé¡¹é›†ç»Ÿè®¡**ç»Ÿè®¡ä¸¤ä¸ªé¡¹åŒæ—¶å‡ºç°çš„é¢‘ç‡ï¼Œç”Ÿæˆé¢‘ç¹2-é¡¹é›†ã€‚

```sql
-- äºŒé¡¹é›†ç»Ÿè®¡ï¼ˆå¸¦é”™è¯¯å¤„ç†å’Œæ€§èƒ½æµ‹è¯•ï¼‰
DO $$
BEGIN
    BEGIN
        IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transaction_items') THEN
            RAISE WARNING 'è¡¨ transaction_items ä¸å­˜åœ¨ï¼Œæ— æ³•æ‰§è¡ŒäºŒé¡¹é›†ç»Ÿè®¡';
            RETURN;
        END IF;
        RAISE NOTICE 'å¼€å§‹æ‰§è¡ŒäºŒé¡¹é›†ç»Ÿè®¡';
    EXCEPTION
        WHEN OTHERS THEN
            RAISE WARNING 'äºŒé¡¹é›†ç»Ÿè®¡å‡†å¤‡å¤±è´¥: %', SQLERRM;
            RAISE;
    END;
END $$;

EXPLAIN (ANALYZE, BUFFERS, TIMING, VERBOSE)
SELECT
    t1.item AS item1,
    t2.item AS item2,
    COUNT(DISTINCT t1.transaction_id) AS support_count,
    COUNT(DISTINCT t1.transaction_id) * 100.0 / (SELECT COUNT(DISTINCT transaction_id) FROM transaction_items) AS support_pct
FROM transaction_items t1
INNER JOIN transaction_items t2 ON t1.transaction_id = t2.transaction_id
WHERE t1.item < t2.item  -- é¿å…é‡å¤ç»„åˆ
GROUP BY t1.item, t2.item
HAVING COUNT(DISTINCT t1.transaction_id) >= 10  -- æœ€å°æ”¯æŒåº¦é˜ˆå€¼
ORDER BY support_count DESC;
```

---

## 2. FP-Growthç®—æ³•

### 2.1 FP-Growthç®—æ³•åŸç†

**FP-Growthï¼ˆFrequent Pattern Growthï¼‰ç®—æ³•**æ˜¯Aprioriç®—æ³•çš„æ”¹è¿›ï¼Œé€šè¿‡æ„å»ºFPæ ‘ï¼ˆFrequent Pattern Treeï¼‰é¿å…ç”Ÿæˆå€™é€‰é¡¹é›†ï¼Œæé«˜æ•ˆç‡ã€‚

#### ç®—æ³•æ­¥éª¤

**é˜¶æ®µ1ï¼šæ„å»ºFPæ ‘**

1. **ç¬¬ä¸€æ¬¡æ‰«ææ•°æ®åº“**ï¼Œç»Ÿè®¡æ‰€æœ‰é¡¹çš„æ”¯æŒåº¦
2. **æŒ‰æ”¯æŒåº¦é™åºæ’åº**ï¼Œç”Ÿæˆé¢‘ç¹é¡¹åˆ—è¡¨
3. **ç¬¬äºŒæ¬¡æ‰«ææ•°æ®åº“**ï¼Œæ„å»ºFPæ ‘ï¼š
   - å¯¹æ¯ä¸ªäº‹åŠ¡ï¼ŒæŒ‰é¢‘ç¹é¡¹åˆ—è¡¨é¡ºåºæ’åº
   - å°†æ’åºåçš„äº‹åŠ¡æ’å…¥FPæ ‘
   - æ›´æ–°èŠ‚ç‚¹è®¡æ•°å’Œé“¾æ¥

**é˜¶æ®µ2ï¼šä»FPæ ‘æŒ–æ˜é¢‘ç¹é¡¹é›†**

1. ä»FPæ ‘çš„åº•éƒ¨ï¼ˆæ”¯æŒåº¦æœ€ä½çš„é¡¹ï¼‰å¼€å§‹
2. å¯¹æ¯ä¸ªé¡¹ï¼Œæ„å»ºæ¡ä»¶æ¨¡å¼åŸºï¼ˆConditional Pattern Baseï¼‰
3. æ„å»ºæ¡ä»¶FPæ ‘ï¼ˆConditional FP-Treeï¼‰
4. é€’å½’æŒ–æ˜æ¡ä»¶FPæ ‘ï¼Œç”Ÿæˆé¢‘ç¹é¡¹é›†

#### FPæ ‘ç»“æ„

**FPæ ‘èŠ‚ç‚¹**ï¼š

- **é¡¹å**ï¼šé¡¹çš„åç§°
- **è®¡æ•°**ï¼šè¯¥é¡¹åœ¨è·¯å¾„ä¸­çš„å‡ºç°æ¬¡æ•°
- **çˆ¶èŠ‚ç‚¹æŒ‡é’ˆ**ï¼šæŒ‡å‘çˆ¶èŠ‚ç‚¹
- **å­èŠ‚ç‚¹æŒ‡é’ˆ**ï¼šæŒ‡å‘å­èŠ‚ç‚¹
- **å…„å¼ŸèŠ‚ç‚¹æŒ‡é’ˆ**ï¼šæŒ‡å‘ç›¸åŒé¡¹çš„èŠ‚ç‚¹ï¼ˆç”¨äºå¿«é€Ÿéå†ï¼‰

**å¤´è¡¨ï¼ˆHeader Tableï¼‰**ï¼š

- å­˜å‚¨æ¯ä¸ªé¡¹çš„é“¾è¡¨å¤´æŒ‡é’ˆ
- ç”¨äºå¿«é€Ÿè®¿é—®FPæ ‘ä¸­æ‰€æœ‰ç›¸åŒé¡¹çš„èŠ‚ç‚¹

#### ä¼˜åŠ¿

1. **æ— éœ€ç”Ÿæˆå€™é€‰**ï¼šç›´æ¥ç”Ÿæˆé¢‘ç¹é¡¹é›†
2. **å‡å°‘æ‰«ææ¬¡æ•°**ï¼šåªéœ€è¦æ‰«ææ•°æ®åº“2æ¬¡
3. **å‹ç¼©å­˜å‚¨**ï¼šFPæ ‘å‹ç¼©å­˜å‚¨äº‹åŠ¡æ•°æ®
4. **æ•ˆç‡é«˜**ï¼šæ—¶é—´å¤æ‚åº¦é€šå¸¸ä¼˜äºApriori

#### æ—¶é—´å¤æ‚åº¦

**æ—¶é—´å¤æ‚åº¦**ï¼š$O(n \times m)$ï¼ˆ$n$æ˜¯äº‹åŠ¡æ•°ï¼Œ$m$æ˜¯å¹³å‡äº‹åŠ¡é•¿åº¦ï¼‰

**ç©ºé—´å¤æ‚åº¦**ï¼š$O(n \times m)$ï¼ˆFPæ ‘å¤§å°ï¼‰

### 2.2 FP-Growthç®—æ³•å®ç°

```sql
-- FP-Growthç®—æ³•ï¼šæ„å»ºé¢‘ç¹é¡¹åˆ—è¡¨ï¼ˆç®€åŒ–å®ç°ï¼‰
WITH item_supports AS (
    SELECT
        item,
        COUNT(DISTINCT transaction_id) AS support_count,
        COUNT(DISTINCT transaction_id) * 100.0 /
            (SELECT COUNT(DISTINCT transaction_id) FROM transaction_items) AS support_pct
    FROM transaction_items
    GROUP BY item
    HAVING COUNT(DISTINCT transaction_id) >= 10  -- min_support
),
sorted_items AS (
    SELECT
        item,
        support_count,
        ROW_NUMBER() OVER (ORDER BY support_count DESC) AS item_rank
    FROM item_supports
)
SELECT
    item,
    support_count,
    item_rank
FROM sorted_items
ORDER BY item_rank;
```

## 3. å…³è”è§„åˆ™ç”Ÿæˆ

### 3.1 è§„åˆ™ç”Ÿæˆå®ç°

**å…³è”è§„åˆ™ç”Ÿæˆ**ä»é¢‘ç¹é¡¹é›†ç”Ÿæˆå…³è”è§„åˆ™ï¼Œè®¡ç®—ç½®ä¿¡åº¦å’Œæå‡åº¦ã€‚

```sql
-- å…³è”è§„åˆ™ç”Ÿæˆï¼ˆå¸¦é”™è¯¯å¤„ç†å’Œæ€§èƒ½æµ‹è¯•ï¼‰
DO $$
BEGIN
    BEGIN
        IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transaction_items') THEN
            RAISE WARNING 'è¡¨ transaction_items ä¸å­˜åœ¨ï¼Œæ— æ³•ç”Ÿæˆå…³è”è§„åˆ™';
            RETURN;
        END IF;
        RAISE NOTICE 'å¼€å§‹ç”Ÿæˆå…³è”è§„åˆ™';
    EXCEPTION
        WHEN OTHERS THEN
            RAISE WARNING 'å…³è”è§„åˆ™ç”Ÿæˆå‡†å¤‡å¤±è´¥: %', SQLERRM;
            RAISE;
    END;
END $$;

WITH frequent_itemsets AS (
    SELECT
        t1.item AS item1,
        t2.item AS item2,
        COUNT(DISTINCT t1.transaction_id) AS support_count
    FROM transaction_items t1
    INNER JOIN transaction_items t2 ON t1.transaction_id = t2.transaction_id
    WHERE t1.item < t2.item
    GROUP BY t1.item, t2.item
    HAVING COUNT(DISTINCT t1.transaction_id) >= 10
),
item_supports AS (
    SELECT
        item,
        COUNT(DISTINCT transaction_id) AS item_support
    FROM transaction_items
    GROUP BY item
)
SELECT
    fi.item1,
    fi.item2,
    fi.support_count AS support_count,
    fi.support_count * 100.0 / (SELECT COUNT(DISTINCT transaction_id) FROM transaction_items) AS support_pct,
    fi.support_count * 100.0 / NULLIF(is1.item_support, 0) AS confidence_pct,
    fi.support_count * 100.0 / NULLIF(is2.item_support, 0) AS reverse_confidence_pct
FROM frequent_itemsets fi
JOIN item_supports is1 ON fi.item1 = is1.item
JOIN item_supports is2 ON fi.item2 = is2.item
ORDER BY confidence_pct DESC;
```

---

## 4. è§„åˆ™è¯„ä¼°ä¸ç­›é€‰

### 4.1 è§„åˆ™è¯„ä¼°å®ç°

**è§„åˆ™è¯„ä¼°**è®¡ç®—è§„åˆ™çš„æ”¯æŒåº¦ã€ç½®ä¿¡åº¦å’Œæå‡åº¦ï¼Œç­›é€‰æœ‰ä»·å€¼çš„è§„åˆ™ã€‚

```sql
-- è§„åˆ™è¯„ä¼°ï¼ˆå¸¦é”™è¯¯å¤„ç†å’Œæ€§èƒ½æµ‹è¯•ï¼‰
DO $$
DECLARE
    total_transactions BIGINT;
    rule_support_count BIGINT;
    item1_support_count BIGINT;
    support_pct NUMERIC;
    confidence_pct NUMERIC;
BEGIN
    BEGIN
        IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transaction_items') THEN
            RAISE WARNING 'è¡¨ transaction_items ä¸å­˜åœ¨ï¼Œæ— æ³•è¯„ä¼°è§„åˆ™';
            RETURN;
        END IF;

        SELECT COUNT(DISTINCT transaction_id) INTO total_transactions FROM transaction_items;

        -- è®¡ç®—è§„åˆ™ A -> B çš„æ”¯æŒåº¦å’Œç½®ä¿¡åº¦
        SELECT COUNT(DISTINCT transaction_id) INTO rule_support_count
        FROM transaction_items
        WHERE transaction_id IN (
            SELECT transaction_id FROM transaction_items WHERE item = 'A'
        )
        AND transaction_id IN (
            SELECT transaction_id FROM transaction_items WHERE item = 'B'
        );

        SELECT COUNT(DISTINCT transaction_id) INTO item1_support_count
        FROM transaction_items
        WHERE item = 'A';

        support_pct := rule_support_count * 100.0 / NULLIF(total_transactions, 0);
        confidence_pct := rule_support_count * 100.0 / NULLIF(item1_support_count, 0);

        RAISE NOTICE 'è§„åˆ™ A -> B è¯„ä¼°ç»“æœ:';
        RAISE NOTICE '  æ”¯æŒåº¦: %%%', support_pct;
        RAISE NOTICE '  ç½®ä¿¡åº¦: %%%', confidence_pct;
    EXCEPTION
        WHEN OTHERS THEN
            RAISE WARNING 'è§„åˆ™è¯„ä¼°å¤±è´¥: %', SQLERRM;
            RAISE;
    END;
END $$;
```

---

## 5. å®é™…åº”ç”¨æ¡ˆä¾‹

### 5.1 è´­ç‰©ç¯®åˆ†æ

**è´­ç‰©ç¯®åˆ†æ**åˆ†æé¡¾å®¢è´­ä¹°å•†å“çš„å…³è”å…³ç³»ï¼Œå‘ç°å•†å“ä¹‹é—´çš„å…³è”è§„åˆ™ã€‚

```sql
-- è´­ç‰©ç¯®åˆ†æï¼ˆå¸¦é”™è¯¯å¤„ç†å’Œæ€§èƒ½æµ‹è¯•ï¼‰
DO $$
BEGIN
    BEGIN
        IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'order_items') THEN
            RAISE WARNING 'è¡¨ order_items ä¸å­˜åœ¨ï¼Œæ— æ³•æ‰§è¡Œè´­ç‰©ç¯®åˆ†æ';
            RETURN;
        END IF;
        RAISE NOTICE 'å¼€å§‹æ‰§è¡Œè´­ç‰©ç¯®åˆ†æ';
    EXCEPTION
        WHEN OTHERS THEN
            RAISE WARNING 'è´­ç‰©ç¯®åˆ†æå‡†å¤‡å¤±è´¥: %', SQLERRM;
            RAISE;
    END;
END $$;

WITH product_pairs AS (
    SELECT DISTINCT
        o1.order_id,
        o1.product_id AS product1,
        o2.product_id AS product2
    FROM order_items o1
    INNER JOIN order_items o2 ON o1.order_id = o2.order_id
    WHERE o1.product_id < o2.product_id
),
pair_stats AS (
    SELECT
        product1,
        product2,
        COUNT(DISTINCT order_id) AS pair_count
    FROM product_pairs
    GROUP BY product1, product2
    HAVING COUNT(DISTINCT order_id) >= 5  -- æœ€å°æ”¯æŒåº¦
),
product_stats AS (
    SELECT
        product_id,
        COUNT(DISTINCT order_id) AS product_count
    FROM order_items
    GROUP BY product_id
)
SELECT
    ps.product1,
    ps.product2,
    ps.pair_count AS support_count,
    ps.pair_count * 100.0 / (SELECT COUNT(DISTINCT order_id) FROM order_items) AS support_pct,
    ps.pair_count * 100.0 / NULLIF(p1.product_count, 0) AS confidence_pct
FROM pair_stats ps
JOIN product_stats p1 ON ps.product1 = p1.product_id
JOIN product_stats p2 ON ps.product2 = p2.product_id
ORDER BY confidence_pct DESC
LIMIT 20;
```

### 5.2 æ¨èç³»ç»Ÿåº”ç”¨

**åœºæ™¯**ï¼šåŸºäºå…³è”è§„åˆ™çš„å•†å“æ¨èã€‚

```sql
-- æ¨èç³»ç»Ÿï¼šåŸºäºå…³è”è§„åˆ™æ¨èå•†å“
WITH user_purchases AS (
    SELECT
        user_id,
        product_id,
        COUNT(*) AS purchase_count
    FROM order_items oi
    JOIN orders o ON oi.order_id = o.order_id
    GROUP BY user_id, product_id
),
association_rules AS (
    SELECT
        product1,
        product2,
        support_pct,
        confidence_pct,
        lift
    FROM product_association_rules
    WHERE confidence_pct >= 50  -- min_confidence
        AND lift > 1.2  -- æå‡åº¦é˜ˆå€¼
),
user_recommendations AS (
    SELECT DISTINCT
        up.user_id,
        ar.product2 AS recommended_product,
        ar.confidence_pct,
        ar.lift,
        ROW_NUMBER() OVER (PARTITION BY up.user_id ORDER BY ar.lift DESC) AS rank
    FROM user_purchases up
    JOIN association_rules ar ON up.product_id = ar.product1
    WHERE NOT EXISTS (
        SELECT 1
        FROM user_purchases up2
        WHERE up2.user_id = up.user_id
            AND up2.product_id = ar.product2
    )
)
SELECT
    user_id,
    recommended_product,
    ROUND(confidence_pct::numeric, 2) AS confidence,
    ROUND(lift::numeric, 2) AS lift
FROM user_recommendations
WHERE rank <= 5  -- Top 5æ¨è
ORDER BY user_id, lift DESC;
```

### 5.3 äº¤å‰é”€å”®åˆ†æ

**åœºæ™¯**ï¼šåˆ†æäº§å“ç»„åˆï¼Œä¼˜åŒ–äº¤å‰é”€å”®ç­–ç•¥ã€‚

```sql
-- äº¤å‰é”€å”®åˆ†æï¼šåˆ†æäº§å“ç»„åˆçš„é”€å”®æ•ˆæœ
WITH product_combinations AS (
    SELECT
        o1.product_id AS product1,
        o2.product_id AS product2,
        COUNT(DISTINCT o1.order_id) AS combination_count,
        COUNT(DISTINCT o1.order_id) * 100.0 /
            (SELECT COUNT(DISTINCT order_id) FROM order_items) AS support_pct
    FROM order_items o1
    INNER JOIN order_items o2 ON o1.order_id = o2.order_id
    WHERE o1.product_id < o2.product_id
    GROUP BY o1.product_id, o2.product_id
    HAVING COUNT(DISTINCT o1.order_id) >= 10
),
product_stats AS (
    SELECT
        product_id,
        COUNT(DISTINCT order_id) AS product_count,
        SUM(quantity * price) AS total_revenue
    FROM order_items
    GROUP BY product_id
),
combination_analysis AS (
    SELECT
        pc.product1,
        pc.product2,
        pc.combination_count,
        pc.support_pct,
        ps1.product_count AS product1_count,
        ps2.product_count AS product2_count,
        ps1.total_revenue AS product1_revenue,
        ps2.total_revenue AS product2_revenue,
        pc.combination_count * 100.0 / NULLIF(ps1.product_count, 0) AS confidence_pct,
        pc.combination_count * 100.0 / NULLIF(ps2.product_count, 0) AS reverse_confidence_pct
    FROM product_combinations pc
    JOIN product_stats ps1 ON pc.product1 = ps1.product_id
    JOIN product_stats ps2 ON pc.product2 = ps2.product_id
)
SELECT
    product1,
    product2,
    combination_count,
    ROUND(support_pct::numeric, 2) AS support_pct,
    ROUND(confidence_pct::numeric, 2) AS confidence_pct,
    ROUND(reverse_confidence_pct::numeric, 2) AS reverse_confidence_pct,
    CASE
        WHEN confidence_pct >= 60 THEN 'Strong cross-sell opportunity'
        WHEN confidence_pct >= 40 THEN 'Moderate cross-sell opportunity'
        ELSE 'Weak cross-sell opportunity'
    END AS cross_sell_potential
FROM combination_analysis
WHERE confidence_pct >= 30 OR reverse_confidence_pct >= 30
ORDER BY confidence_pct DESC, reverse_confidence_pct DESC;
```

### 5.4 å•†å“ç»„åˆä¼˜åŒ–

**åœºæ™¯**ï¼šä¼˜åŒ–å•†å“ç»„åˆï¼Œæå‡é”€å”®é¢ã€‚

```sql
-- å•†å“ç»„åˆä¼˜åŒ–ï¼šåˆ†æå•†å“ç»„åˆçš„é”€å”®æ½œåŠ›
WITH product_pairs AS (
    SELECT
        o1.product_id AS product1,
        o2.product_id AS product2,
        COUNT(DISTINCT o1.order_id) AS pair_count,
        AVG(o1.quantity + o2.quantity) AS avg_quantity,
        AVG(o1.price + o2.price) AS avg_revenue
    FROM order_items o1
    INNER JOIN order_items o2 ON o1.order_id = o2.order_id
    WHERE o1.product_id < o2.product_id
    GROUP BY o1.product_id, o2.product_id
),
pair_metrics AS (
    SELECT
        product1,
        product2,
        pair_count,
        avg_quantity,
        avg_revenue,
        pair_count * avg_revenue AS total_potential_revenue,
        pair_count * 100.0 /
            (SELECT COUNT(DISTINCT order_id) FROM order_items) AS support_pct
    FROM product_pairs
    WHERE pair_count >= 5
),
optimization_recommendations AS (
    SELECT
        product1,
        product2,
        pair_count,
        ROUND(avg_revenue::numeric, 2) AS avg_revenue,
        ROUND(total_potential_revenue::numeric, 2) AS total_potential_revenue,
        ROUND(support_pct::numeric, 2) AS support_pct,
        CASE
            WHEN support_pct >= 10 AND avg_revenue > 100 THEN 'High priority bundle'
            WHEN support_pct >= 5 AND avg_revenue > 50 THEN 'Medium priority bundle'
            ELSE 'Low priority bundle'
        END AS bundle_priority
    FROM pair_metrics
)
SELECT
    product1,
    product2,
    pair_count,
    avg_revenue,
    total_potential_revenue,
    support_pct,
    bundle_priority
FROM optimization_recommendations
WHERE bundle_priority IN ('High priority bundle', 'Medium priority bundle')
ORDER BY total_potential_revenue DESC;
```

### 5.5 å…³è”è§„åˆ™å¯è§†åŒ–åˆ†æ

**åœºæ™¯**ï¼šåˆ†æå…³è”è§„åˆ™çš„å¼ºåº¦å’Œæ–¹å‘ã€‚

```sql
-- å…³è”è§„åˆ™å¯è§†åŒ–åˆ†æï¼šç”Ÿæˆè§„åˆ™åˆ†ææŠ¥å‘Š
WITH rule_analysis AS (
    SELECT
        item1,
        item2,
        support_count,
        support_pct,
        confidence_pct,
        reverse_confidence_pct,
        CASE
            WHEN confidence_pct > reverse_confidence_pct THEN item1 || ' -> ' || item2
            ELSE item2 || ' -> ' || item1
        END AS rule_direction,
        GREATEST(confidence_pct, reverse_confidence_pct) AS max_confidence,
        ABS(confidence_pct - reverse_confidence_pct) AS confidence_diff
    FROM association_rules
    WHERE confidence_pct >= 30 OR reverse_confidence_pct >= 30
),
rule_categories AS (
    SELECT
        item1,
        item2,
        rule_direction,
        support_count,
        ROUND(support_pct::numeric, 2) AS support_pct,
        ROUND(max_confidence::numeric, 2) AS max_confidence,
        ROUND(confidence_diff::numeric, 2) AS confidence_diff,
        CASE
            WHEN max_confidence >= 70 THEN 'Strong rule'
            WHEN max_confidence >= 50 THEN 'Moderate rule'
            ELSE 'Weak rule'
        END AS rule_strength,
        CASE
            WHEN confidence_diff < 10 THEN 'Bidirectional'
            WHEN confidence_diff < 30 THEN 'Unidirectional'
            ELSE 'Highly directional'
        END AS rule_direction_type
    FROM rule_analysis
)
SELECT
    rule_direction,
    support_count,
    support_pct,
    max_confidence,
    confidence_diff,
    rule_strength,
    rule_direction_type
FROM rule_categories
ORDER BY max_confidence DESC, support_count DESC;
```

---

## 6. PostgreSQL 18å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜

### 6.1 å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜æ¦‚è¿°

**PostgreSQL 18å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜**ï¼šåˆ©ç”¨PostgreSQL 18çš„å¹¶è¡ŒæŸ¥è¯¢èƒ½åŠ›ï¼Œæ˜¾è‘—æå‡å¤§è§„æ¨¡å…³è”è§„åˆ™æŒ–æ˜çš„æ€§èƒ½ã€‚

#### å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜é…ç½®

```sql
-- é…ç½®å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜å‚æ•°ï¼ˆPostgreSQL 18+ï¼‰
DO $$
BEGIN
    BEGIN
        -- è®¾ç½®å¹¶è¡Œå·¥ä½œè¿›ç¨‹æ•°
        SET max_parallel_workers_per_gather = 4;

        -- è®¾ç½®å¹¶è¡Œè¡¨æ‰«æé˜ˆå€¼
        SET min_parallel_table_scan_size = '8MB';

        -- è®¾ç½®å¹¶è¡Œèšåˆæˆæœ¬é˜ˆå€¼
        SET parallel_setup_cost = 0;
        SET parallel_tuple_cost = 0.0001;

        RAISE NOTICE 'å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜å‚æ•°å·²é…ç½®';
    EXCEPTION
        WHEN OTHERS THEN
            RAISE WARNING 'å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜é…ç½®å¤±è´¥: %', SQLERRM;
            RAISE;
    END;
END $$;
```

#### å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜å®ç°

```sql
-- å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜ï¼šå¤§è§„æ¨¡é¢‘ç¹é¡¹é›†ç»Ÿè®¡ï¼ˆPostgreSQL 18+ï¼‰
DO $$
BEGIN
    BEGIN
        -- å¯ç”¨å¹¶è¡ŒæŸ¥è¯¢
        SET max_parallel_workers_per_gather = 4;
        SET parallel_setup_cost = 0;
        SET parallel_tuple_cost = 0.0001;

        RAISE NOTICE 'å¼€å§‹æ‰§è¡Œå¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜';
    EXCEPTION
        WHEN OTHERS THEN
            RAISE WARNING 'å¹¶è¡Œå…³è”è§„åˆ™æŒ–æ˜å‡†å¤‡å¤±è´¥: %', SQLERRM;
            RAISE;
    END;
END $$;

-- å¹¶è¡Œé¢‘ç¹é¡¹é›†ç»Ÿè®¡
EXPLAIN (ANALYZE, BUFFERS, TIMING)
WITH parallel_item_sets AS (
    SELECT
        transaction_id,
        item_id
    FROM transaction_items
    WHERE transaction_date >= CURRENT_DATE - INTERVAL '1 year'
),
parallel_item_counts AS (
    SELECT
        item_id,
        COUNT(DISTINCT transaction_id) AS support_count,
        COUNT(*) AS total_occurrences
    FROM parallel_item_sets
    GROUP BY item_id
),
parallel_frequent_items AS (
    SELECT
        item_id,
        support_count,
        total_occurrences,
        ROUND((support_count::numeric / (SELECT COUNT(DISTINCT transaction_id) FROM parallel_item_sets) * 100)::numeric, 2) AS support_percentage
    FROM parallel_item_counts
    WHERE support_count >= 100  -- æœ€å°æ”¯æŒåº¦é˜ˆå€¼
)
SELECT
    item_id,
    support_count,
    total_occurrences,
    support_percentage,
    CASE
        WHEN support_percentage >= 50 THEN 'High Frequency'
        WHEN support_percentage >= 20 THEN 'Medium Frequency'
        ELSE 'Low Frequency'
    END AS frequency_category
FROM parallel_frequent_items
ORDER BY support_count DESC;
```

---

## 7. ç®—æ³•æ€§èƒ½å¯¹æ¯”ä¸ä¼˜åŒ–

### 7.1 Apriori vs FP-Growthå¯¹æ¯”

| ç®—æ³• | æ—¶é—´å¤æ‚åº¦ | ç©ºé—´å¤æ‚åº¦ | æ•°æ®åº“æ‰«ææ¬¡æ•° | ä¼˜åŠ¿ | åŠ£åŠ¿ |
|------|-----------|-----------|--------------|------|------|
| **Apriori** | $O(2^n)$ | $O(n)$ | å¤šæ¬¡ | å®ç°ç®€å•ã€æ˜“äºç†è§£ | ç”Ÿæˆå¤§é‡å€™é€‰ã€æ‰«ææ¬¡æ•°å¤š |
| **FP-Growth** | $O(n \times m)$ | $O(n \times m)$ | 2æ¬¡ | æ•ˆç‡é«˜ã€æ— éœ€å€™é€‰ | å®ç°å¤æ‚ã€å†…å­˜éœ€æ±‚å¤§ |

### 7.2 æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. **æ”¯æŒåº¦é˜ˆå€¼**ï¼š
   - è®¾ç½®åˆç†çš„æœ€å°æ”¯æŒåº¦é˜ˆå€¼
   - è¿‡ä½ï¼šç”Ÿæˆè¿‡å¤šè§„åˆ™ï¼Œè®¡ç®—é‡å¤§
   - è¿‡é«˜ï¼šå¯èƒ½é—æ¼æœ‰ä»·å€¼çš„è§„åˆ™

2. **ç½®ä¿¡åº¦é˜ˆå€¼**ï¼š
   - è®¾ç½®åˆç†çš„æœ€å°ç½®ä¿¡åº¦é˜ˆå€¼
   - æ ¹æ®ä¸šåŠ¡éœ€æ±‚è°ƒæ•´
   - è€ƒè™‘æå‡åº¦æŒ‡æ ‡

3. **æ•°æ®é¢„å¤„ç†**ï¼š
   - å»é™¤ä½é¢‘é¡¹
   - æ•°æ®æ¸…æ´—å’Œæ ‡å‡†åŒ–
   - äº‹åŠ¡å‹ç¼©

4. **ç®—æ³•é€‰æ‹©**ï¼š
   - å°æ•°æ®é›†ï¼šä½¿ç”¨Apriori
   - å¤§æ•°æ®é›†ï¼šä½¿ç”¨FP-Growth
   - ç¨€ç–æ•°æ®ï¼šè€ƒè™‘å…¶ä»–ç®—æ³•

### 7.3 å¸¸è§é—®é¢˜ä¸è§£å†³æ–¹æ¡ˆ

**é—®é¢˜1**ï¼šè§„åˆ™æ•°é‡è¿‡å¤š

- **è§£å†³æ–¹æ¡ˆ**ï¼šæé«˜æ”¯æŒåº¦å’Œç½®ä¿¡åº¦é˜ˆå€¼ã€ä½¿ç”¨æå‡åº¦ç­›é€‰ã€é™åˆ¶è§„åˆ™é•¿åº¦

**é—®é¢˜2**ï¼šè®¡ç®—æ—¶é—´è¿‡é•¿

- **è§£å†³æ–¹æ¡ˆ**ï¼šä½¿ç”¨FP-Growthç®—æ³•ã€ä¼˜åŒ–æ•°æ®åº“æŸ¥è¯¢ã€å¹¶è¡Œå¤„ç†

**é—®é¢˜3**ï¼šè§„åˆ™è´¨é‡ä¸é«˜

- **è§£å†³æ–¹æ¡ˆ**ï¼šè°ƒæ•´é˜ˆå€¼ã€ä½¿ç”¨æå‡åº¦ã€è€ƒè™‘è§„åˆ™çš„å¯è§£é‡Šæ€§

**é—®é¢˜4**ï¼šå†…å­˜ä¸è¶³

- **è§£å†³æ–¹æ¡ˆ**ï¼šåˆ†æ‰¹å¤„ç†ã€ä½¿ç”¨äº‹åŠ¡å‹ç¼©ã€ä¼˜åŒ–æ•°æ®ç»“æ„

---

## 8. æœ€ä½³å®è·µ

### 8.1 å‚æ•°é€‰æ‹©

1. **æœ€å°æ”¯æŒåº¦**ï¼š
   - æ ¹æ®æ•°æ®è§„æ¨¡å’Œä¸šåŠ¡éœ€æ±‚è®¾ç½®
   - é€šå¸¸è®¾ç½®ä¸º1%-10%
   - è€ƒè™‘é¡¹çš„æ•°é‡å’Œäº‹åŠ¡æ•°é‡

2. **æœ€å°ç½®ä¿¡åº¦**ï¼š
   - æ ¹æ®ä¸šåŠ¡éœ€æ±‚è®¾ç½®
   - é€šå¸¸è®¾ç½®ä¸º50%-80%
   - è€ƒè™‘è§„åˆ™çš„å¯é æ€§è¦æ±‚

3. **æå‡åº¦é˜ˆå€¼**ï¼š
   - é€šå¸¸è®¾ç½®ä¸º>1.0ï¼ˆæ­£ç›¸å…³ï¼‰
   - æ ¹æ®ä¸šåŠ¡éœ€æ±‚è°ƒæ•´
   - è€ƒè™‘è§„åˆ™çš„å®ç”¨æ€§

### 8.2 è§„åˆ™è¯„ä¼°

1. **æ”¯æŒåº¦**ï¼šè§„åˆ™çš„é‡è¦æ€§ï¼Œæ˜¯å¦å¸¸è§
2. **ç½®ä¿¡åº¦**ï¼šè§„åˆ™çš„å¯ä¿¡åº¦ï¼Œæ˜¯å¦å¯é 
3. **æå‡åº¦**ï¼šè§„åˆ™çš„æœ‰æ•ˆæ€§ï¼Œæ˜¯å¦æœ‰ä»·å€¼
4. **å¯è§£é‡Šæ€§**ï¼šè§„åˆ™æ˜¯å¦æ˜“äºç†è§£å’Œåº”ç”¨

### 8.3 åº”ç”¨åœºæ™¯

1. **è´­ç‰©ç¯®åˆ†æ**ï¼šå‘ç°å•†å“å…³è”å…³ç³»
2. **æ¨èç³»ç»Ÿ**ï¼šåŸºäºå…³è”è§„åˆ™æ¨è
3. **äº¤å‰é”€å”®**ï¼šä¼˜åŒ–äº§å“ç»„åˆ
4. **åº“å­˜ç®¡ç†**ï¼šé¢„æµ‹å•†å“éœ€æ±‚
5. **è¥é”€ç­–ç•¥**ï¼šåˆ¶å®šä¿ƒé”€æ–¹æ¡ˆ

### 8.4 SQLå®ç°æ³¨æ„äº‹é¡¹

1. **æ€§èƒ½ä¼˜åŒ–**ï¼š
   - åˆ›å»ºé€‚å½“çš„ç´¢å¼•
   - ä½¿ç”¨ç‰©åŒ–è§†å›¾ç¼“å­˜ç»“æœ
   - åˆ†æ‰¹å¤„ç†å¤§æ•°æ®é›†

2. **æ•°æ®è´¨é‡**ï¼š
   - ç¡®ä¿æ•°æ®å®Œæ•´æ€§
   - å¤„ç†ç¼ºå¤±å€¼
   - æ•°æ®æ¸…æ´—å’Œæ ‡å‡†åŒ–

3. **ç»“æœéªŒè¯**ï¼š
   - éªŒè¯è§„åˆ™çš„æ­£ç¡®æ€§
   - æ£€æŸ¥è§„åˆ™çš„ä¸šåŠ¡æ„ä¹‰
   - è¯„ä¼°è§„åˆ™çš„å®é™…æ•ˆæœ

### 8.5 PostgreSQL 18 æ–°ç‰¹æ€§åº”ç”¨ï¼ˆå¢å¼ºï¼‰

**PostgreSQL 18**å¼•å…¥äº†å¤šé¡¹å¢å¼ºåŠŸèƒ½ï¼Œå¯ä»¥æ˜¾è‘—æå‡å…³è”è§„åˆ™æŒ–æ˜çš„æ€§èƒ½ï¼š

1. **Skip Scanä¼˜åŒ–**ï¼š
   - å¯¹äºåŒ…å«é¢‘ç¹é¡¹é›†çš„ç´¢å¼•ï¼ŒSkip Scanå¯ä»¥è·³è¿‡ä¸å¿…è¦çš„ç´¢å¼•æ‰«æ
   - ç‰¹åˆ«é€‚ç”¨äºTop-Né¢‘ç¹é¡¹é›†æŸ¥è¯¢å’Œè§„åˆ™è¯„ä¼°æŸ¥è¯¢

2. **å¼‚æ­¥I/Oå¢å¼º**ï¼š
   - å¯¹äºå¤§è§„æ¨¡å…³è”è§„åˆ™æŒ–æ˜è®¡ç®—ï¼Œå¼‚æ­¥I/Oå¯ä»¥æ˜¾è‘—æå‡æ€§èƒ½
   - é€‚ç”¨äºæ‰¹é‡é¢‘ç¹é¡¹é›†ç»Ÿè®¡å’Œè§„åˆ™ç”Ÿæˆ

3. **å¹¶è¡ŒæŸ¥è¯¢å¢å¼º**ï¼š
   - å…³è”è§„åˆ™æŒ–æ˜æ”¯æŒæ›´å¥½çš„å¹¶è¡Œæ‰§è¡Œï¼ˆå·²åœ¨6èŠ‚è¯¦ç»†è¯´æ˜ï¼‰
   - é€‚ç”¨äºå¤§è§„æ¨¡é¢‘ç¹é¡¹é›†ç»Ÿè®¡å’ŒAprioriç®—æ³•

**ç¤ºä¾‹ï¼šä½¿ç”¨Skip Scanä¼˜åŒ–é¢‘ç¹é¡¹é›†æŸ¥è¯¢**

```sql
-- ä¸ºé¢‘ç¹é¡¹é›†åˆ›å»ºSkip Scanä¼˜åŒ–ç´¢å¼•
CREATE INDEX IF NOT EXISTS idx_frequent_itemsets_skip_scan
ON item_sets(itemset_size, support_count DESC);

-- Skip Scanä¼˜åŒ–æŸ¥è¯¢ï¼šæŸ¥æ‰¾æ”¯æŒåº¦æœ€é«˜çš„å‰10ä¸ªé¢‘ç¹é¡¹é›†
EXPLAIN (ANALYZE, BUFFERS, TIMING, VERBOSE)
SELECT
    itemset_id,
    itemset,
    itemset_size,
    support_count,
    support_percentage
FROM item_sets
WHERE itemset_size = 2  -- äºŒé¡¹é›†
ORDER BY support_count DESC
LIMIT 10;
```

### 8.6 é«˜çº§ä¼˜åŒ–æŠ€å·§ï¼ˆå¢å¼ºï¼‰

**1. ä½¿ç”¨ç‰©åŒ–è§†å›¾ç¼“å­˜å…³è”è§„åˆ™ç»“æœ**

å¯¹äºé¢‘ç¹ä½¿ç”¨çš„å…³è”è§„åˆ™ç»“æœï¼Œä½¿ç”¨ç‰©åŒ–è§†å›¾ç¼“å­˜ï¼š

```sql
-- åˆ›å»ºç‰©åŒ–è§†å›¾ç¼“å­˜å…³è”è§„åˆ™ç»“æœ
CREATE MATERIALIZED VIEW IF NOT EXISTS association_rules_cache AS
WITH frequent_itemsets AS (
    SELECT
        itemset_id,
        itemset,
        itemset_size,
        support_count,
        ROUND((support_count::numeric / (SELECT COUNT(DISTINCT transaction_id) FROM transaction_items) * 100)::numeric, 2) AS support_percentage
    FROM item_sets
    WHERE support_count >= 100  -- æœ€å°æ”¯æŒåº¦é˜ˆå€¼
),
association_rules AS (
    SELECT
        f1.itemset AS antecedent,
        f2.itemset AS consequent,
        f1.itemset || f2.itemset AS combined_itemset,
        f1.support_count AS antecedent_support,
        f2.support_count AS consequent_support,
        -- ä½¿ç”¨çª—å£å‡½æ•°è®¡ç®—æ”¯æŒåº¦å’Œç½®ä¿¡åº¦ï¼ˆé¿å…é‡å¤è®¡ç®—ï¼‰
        f1.support_count::numeric / NULLIF((SELECT COUNT(DISTINCT transaction_id) FROM transaction_items), 0) AS antecedent_support_pct,
        f2.support_count::numeric / NULLIF((SELECT COUNT(DISTINCT transaction_id) FROM transaction_items), 0) AS consequent_support_pct,
        -- å‡è®¾ç»„åˆé¡¹é›†æ”¯æŒåº¦ï¼ˆç®€åŒ–è®¡ç®—ï¼‰
        GREATEST(f1.support_count, f2.support_count)::numeric / NULLIF((SELECT COUNT(DISTINCT transaction_id) FROM transaction_items), 0) AS combined_support_pct,
        -- ç½®ä¿¡åº¦è®¡ç®—
        GREATEST(f1.support_count, f2.support_count)::numeric / NULLIF(f1.support_count, 0) AS confidence,
        -- æå‡åº¦è®¡ç®—
        (GREATEST(f1.support_count, f2.support_count)::numeric / NULLIF(f1.support_count, 0)) /
        NULLIF(f2.support_count::numeric / NULLIF((SELECT COUNT(DISTINCT transaction_id) FROM transaction_items), 0), 0) AS lift
    FROM frequent_itemsets f1
    CROSS JOIN frequent_itemsets f2
    WHERE f1.itemset < f2.itemset  -- é¿å…é‡å¤å’Œè‡ªç»„åˆ
      AND f1.support_count >= 100
      AND f2.support_count >= 100
)
SELECT
    antecedent,
    consequent,
    ROUND(antecedent_support_pct::numeric, 4) AS antecedent_support,
    ROUND(consequent_support_pct::numeric, 4) AS consequent_support,
    ROUND(combined_support_pct::numeric, 4) AS combined_support,
    ROUND(confidence::numeric, 4) AS confidence,
    ROUND(lift::numeric, 4) AS lift,
    CASE
        WHEN lift > 1.5 THEN 'Strong Positive Association'
        WHEN lift > 1.0 THEN 'Positive Association'
        WHEN lift = 1.0 THEN 'Independent'
        ELSE 'Negative Association'
    END AS association_type
FROM association_rules
WHERE confidence >= 0.5  -- æœ€å°ç½®ä¿¡åº¦é˜ˆå€¼
  AND lift > 1.0  -- åªä¿ç•™æ­£ç›¸å…³è§„åˆ™
ORDER BY lift DESC, confidence DESC;

-- åˆ›å»ºç´¢å¼•åŠ é€Ÿç‰©åŒ–è§†å›¾æŸ¥è¯¢
CREATE INDEX idx_association_rules_cache_lift ON association_rules_cache(lift DESC);
CREATE INDEX idx_association_rules_cache_confidence ON association_rules_cache(confidence DESC);

-- å®šæœŸåˆ·æ–°ç‰©åŒ–è§†å›¾
REFRESH MATERIALIZED VIEW CONCURRENTLY association_rules_cache;
```

**2. å®æ—¶å…³è”è§„åˆ™æŒ–æ˜ï¼šå¢é‡é¢‘ç¹é¡¹é›†æ›´æ–°**

**å®æ—¶å…³è”è§„åˆ™æŒ–æ˜**ï¼šå¯¹äºå®æ—¶æ•°æ®ï¼Œä½¿ç”¨å¢é‡æ–¹æ³•æ›´æ–°é¢‘ç¹é¡¹é›†ã€‚

```sql
-- å®æ—¶å…³è”è§„åˆ™æŒ–æ˜ï¼šå¢é‡é¢‘ç¹é¡¹é›†æ›´æ–°ï¼ˆå¸¦é”™è¯¯å¤„ç†å’Œæ€§èƒ½æµ‹è¯•ï¼‰
DO $$
BEGIN
    BEGIN
        IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'frequent_itemsets_state') THEN
            CREATE TABLE frequent_itemsets_state (
                itemset_hash VARCHAR(100) PRIMARY KEY,
                itemset INTEGER[] NOT NULL,
                itemset_size INTEGER NOT NULL,
                support_count BIGINT DEFAULT 0,
                last_updated TIMESTAMPTZ DEFAULT NOW()
            );

            CREATE INDEX idx_frequent_itemsets_state_size_support ON frequent_itemsets_state(itemset_size, support_count DESC);
            CREATE INDEX idx_frequent_itemsets_state_updated ON frequent_itemsets_state(last_updated DESC);

            RAISE NOTICE 'é¢‘ç¹é¡¹é›†çŠ¶æ€è¡¨åˆ›å»ºæˆåŠŸ';
        END IF;

        RAISE NOTICE 'å¼€å§‹æ‰§è¡Œå¢é‡é¢‘ç¹é¡¹é›†æ›´æ–°';
    EXCEPTION
        WHEN OTHERS THEN
            RAISE WARNING 'å¢é‡é¢‘ç¹é¡¹é›†æ›´æ–°å‡†å¤‡å¤±è´¥: %', SQLERRM;
            RAISE;
    END;
END $$;

-- å¢é‡æ›´æ–°é¢‘ç¹é¡¹é›†ï¼šå®æ—¶å…³è”è§„åˆ™æŒ–æ˜
WITH new_transactions AS (
    SELECT
        transaction_id,
        array_agg(item_id ORDER BY item_id) AS itemset
    FROM transaction_items
    WHERE transaction_date > (SELECT COALESCE(MAX(last_updated), '1970-01-01') FROM frequent_itemsets_state)
      AND transaction_date <= CURRENT_DATE
    GROUP BY transaction_id
),
single_itemsets AS (
    SELECT DISTINCT
        unnest(itemset) AS item_id,
        COUNT(DISTINCT transaction_id) AS support_count
    FROM new_transactions
    GROUP BY unnest(itemset)
)
-- æ›´æ–°æˆ–æ’å…¥å•é¡¹é›†ï¼ˆç®€åŒ–ç‰ˆï¼Œå®é™…éœ€è¦é€’å½’ç”Ÿæˆå¤šé¢‘é¡¹é›†ï¼‰
INSERT INTO frequent_itemsets_state (itemset_hash, itemset, itemset_size, support_count, last_updated)
SELECT
    item_id::text AS itemset_hash,
    ARRAY[item_id] AS itemset,
    1 AS itemset_size,
    COALESCE((SELECT support_count FROM frequent_itemsets_state WHERE itemset_hash = item_id::text), 0) + si.support_count AS new_support_count,
    NOW()
FROM single_itemsets si
WHERE si.support_count >= 10  -- æœ€å°æ”¯æŒåº¦é˜ˆå€¼
ON CONFLICT (itemset_hash)
DO UPDATE SET
    support_count = EXCLUDED.support_count,
    last_updated = NOW();
```

**3. æ™ºèƒ½å…³è”è§„åˆ™æŒ–æ˜ï¼šè‡ªé€‚åº”å‚æ•°é€‰æ‹©**

**æ™ºèƒ½å…³è”è§„åˆ™æŒ–æ˜**ï¼šæ ¹æ®æ•°æ®ç‰¹å¾è‡ªåŠ¨è°ƒæ•´æŒ–æ˜å‚æ•°ã€‚

```sql
-- æ™ºèƒ½å…³è”è§„åˆ™æŒ–æ˜ï¼šè‡ªé€‚åº”å‚æ•°é€‰æ‹©ï¼ˆå¸¦é”™è¯¯å¤„ç†å’Œæ€§èƒ½æµ‹è¯•ï¼‰
DO $$
DECLARE
    total_transactions BIGINT;
    avg_items_per_transaction NUMERIC;
    min_support_pct NUMERIC;
    min_confidence_pct NUMERIC;
BEGIN
    BEGIN
        IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'transaction_items') THEN
            RAISE WARNING 'è¡¨ transaction_items ä¸å­˜åœ¨ï¼Œæ— æ³•æ‰§è¡Œæ™ºèƒ½å…³è”è§„åˆ™æŒ–æ˜';
            RETURN;
        END IF;

        -- è®¡ç®—æ•°æ®ç‰¹å¾
        SELECT COUNT(DISTINCT transaction_id) INTO total_transactions FROM transaction_items;
        SELECT AVG(item_count) INTO avg_items_per_transaction
        FROM (
            SELECT transaction_id, COUNT(*) AS item_count
            FROM transaction_items
            GROUP BY transaction_id
        ) AS transaction_stats;

        -- æ ¹æ®æ•°æ®ç‰¹å¾è‡ªé€‚åº”è°ƒæ•´å‚æ•°
        IF total_transactions < 10000 THEN
            min_support_pct := 5.0;  -- å°æ•°æ®é›†ä½¿ç”¨è¾ƒä½æ”¯æŒåº¦
            min_confidence_pct := 60.0;  -- å°æ•°æ®é›†ä½¿ç”¨ä¸­ç­‰ç½®ä¿¡åº¦
        ELSIF total_transactions < 100000 THEN
            min_support_pct := 2.0;  -- ä¸­ç­‰æ•°æ®é›†ä½¿ç”¨ä¸­ç­‰æ”¯æŒåº¦
            min_confidence_pct := 70.0;  -- ä¸­ç­‰æ•°æ®é›†ä½¿ç”¨è¾ƒé«˜ç½®ä¿¡åº¦
        ELSE
            min_support_pct := 1.0;  -- å¤§æ•°æ®é›†ä½¿ç”¨è¾ƒä½æ”¯æŒåº¦
            min_confidence_pct := 75.0;  -- å¤§æ•°æ®é›†ä½¿ç”¨é«˜ç½®ä¿¡åº¦
        END IF;

        RAISE NOTICE 'æ€»äº‹åŠ¡æ•°: %, å¹³å‡æ¯äº‹åŠ¡é¡¹æ•°: %, æœ€å°æ”¯æŒåº¦: %%%, æœ€å°ç½®ä¿¡åº¦: %%',
            total_transactions, avg_items_per_transaction, min_support_pct, min_confidence_pct;
    EXCEPTION
        WHEN OTHERS THEN
            RAISE WARNING 'æ™ºèƒ½å…³è”è§„åˆ™æŒ–æ˜å‡†å¤‡å¤±è´¥: %', SQLERRM;
            RAISE;
    END;
END $$;

-- æ™ºèƒ½å…³è”è§„åˆ™æŒ–æ˜ï¼šä½¿ç”¨è‡ªé€‚åº”å‚æ•°
WITH adaptive_frequent_itemsets AS (
    SELECT
        item_id,
        COUNT(DISTINCT transaction_id) AS support_count,
        ROUND((COUNT(DISTINCT transaction_id)::numeric / NULLIF((SELECT COUNT(DISTINCT transaction_id) FROM transaction_items), 0) * 100)::numeric, 2) AS support_percentage
    FROM transaction_items
    GROUP BY item_id
    HAVING COUNT(DISTINCT transaction_id) >=
        (SELECT COUNT(DISTINCT transaction_id) FROM transaction_items) *
        CASE
            WHEN (SELECT COUNT(DISTINCT transaction_id) FROM transaction_items) < 10000 THEN 0.05
            WHEN (SELECT COUNT(DISTINCT transaction_id) FROM transaction_items) < 100000 THEN 0.02
            ELSE 0.01
        END  -- è‡ªé€‚åº”æœ€å°æ”¯æŒåº¦
)
SELECT
    item_id,
    support_count,
    support_percentage,
    CASE
        WHEN support_percentage >= 50 THEN 'Very Frequent'
        WHEN support_percentage >= 20 THEN 'Frequent'
        WHEN support_percentage >= 10 THEN 'Moderate'
        ELSE 'Low Frequency'
    END AS frequency_category
FROM adaptive_frequent_itemsets
ORDER BY support_count DESC
LIMIT 50;
```

---

## ğŸ“š å‚è€ƒèµ„æº

### å­¦æœ¯æ–‡çŒ®

1. **Agrawal, R., et al. (1993)**: "Mining Association Rules between Sets of Items in Large Databases", *ACM SIGMOD* - Aprioriç®—æ³•

2. **Han, J., et al. (2000)**: "Mining Frequent Patterns without Candidate Generation", *ACM SIGMOD* - FP-Growthç®—æ³•

3. **ã€Šæ•°æ®æŒ–æ˜ï¼šæ¦‚å¿µä¸æŠ€æœ¯ã€‹**ï¼ˆHan et al., 2011ï¼‰- ç¬¬6ç«  æŒ–æ˜é¢‘ç¹æ¨¡å¼ã€å…³è”å’Œç›¸å…³æ€§

4. **ã€Šæœºå™¨å­¦ä¹ ã€‹**ï¼ˆå‘¨å¿—å, 2016ï¼‰- ç¬¬13ç«  åŠç›‘ç£å­¦ä¹ 

### PostgreSQLå®˜æ–¹æ–‡æ¡£

- **çª—å£å‡½æ•°**: <https://www.postgresql.org/docs/current/tutorial-window.html>
- **èšåˆå‡½æ•°**: <https://www.postgresql.org/docs/current/functions-aggregate.html>
- **æ•°ç»„æ“ä½œ**: <https://www.postgresql.org/docs/current/functions-array.html>

### åœ¨çº¿èµ„æº

- **å…³è”è§„åˆ™æŒ–æ˜**: <https://en.wikipedia.org/wiki/Association_rule_learning>
- **Aprioriç®—æ³•**: <https://en.wikipedia.org/wiki/Apriori_algorithm>
- **FP-Growthç®—æ³•**: <https://en.wikipedia.org/wiki/FP-growth_algorithm>

### ç›¸å…³ç®—æ³•

- **èšç±»åˆ†æ**ï¼šå‘ç°æ•°æ®åˆ†ç»„
- **åˆ†ç±»ç®—æ³•**ï¼šé¢„æµ‹ç±»åˆ«
- **æ¨èç®—æ³•**ï¼šä¸ªæ€§åŒ–æ¨è
- **å¼‚å¸¸æ£€æµ‹**ï¼šå‘ç°å¼‚å¸¸æ¨¡å¼

---

**æœ€åæ›´æ–°**: 2025å¹´1æœˆ
**ç»´æŠ¤è€…**: PostgreSQL Modern Team
**æ–‡æ¡£çŠ¶æ€**: âœ… å·²å®Œæˆ
