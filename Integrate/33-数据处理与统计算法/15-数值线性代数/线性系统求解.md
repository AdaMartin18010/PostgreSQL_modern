# PostgreSQL 线性系统求解算法完整指南

> **创建日期**: 2025年1月
> **技术栈**: PostgreSQL 17+/18+ | 数值线性代数 | 线性方程组 | 迭代法
> **难度级别**: ⭐⭐⭐⭐⭐ (专家级)
> **参考标准**: Numerical Linear Algebra (Trefethen & Bau), Matrix Computations

---

## 📋 目录

- [PostgreSQL 线性系统求解算法完整指南](#postgresql-线性系统求解算法完整指南)
  - [📋 目录](#-目录)
  - [线性系统概述](#线性系统概述)
    - [问题定义](#问题定义)
    - [求解方法分类](#求解方法分类)
  - [1. 直接法](#1-直接法)
    - [1.1 高斯消元法](#11-高斯消元法)
  - [2. 迭代法](#2-迭代法)
    - [2.1 雅可比迭代](#21-雅可比迭代)
  - [📚 参考资源](#-参考资源)

---

## 线性系统概述

**线性系统** $Ax = b$ 是数值计算的基础问题。

### 问题定义

给定矩阵 $A \in \mathbb{R}^{n \times n}$ 和向量 $b \in \mathbb{R}^n$，求解 $x \in \mathbb{R}^n$ 使得 $Ax = b$。

### 求解方法分类

| 方法类型 | 算法 | 适用场景 |
|---------|------|---------|
| **直接法** | 高斯消元、LU分解 | 小到中等规模 |
| **迭代法** | 雅可比、Gauss-Seidel | 大规模稀疏系统 |
| **Krylov子空间** | CG、GMRES | 大规模稀疏系统 |

---

## 1. 直接法

### 1.1 高斯消元法

**高斯消元法**通过行变换将矩阵化为上三角矩阵。

```sql
-- 线性系统数据准备
DO $$
BEGIN
    BEGIN
        IF EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'linear_system') THEN
            DROP TABLE linear_system CASCADE;
        END IF;

        CREATE TABLE linear_system (
            row_idx INTEGER NOT NULL,
            col_idx INTEGER NOT NULL,
            coeff NUMERIC NOT NULL,
            rhs NUMERIC,
            PRIMARY KEY (row_idx, col_idx)
        );

        -- 3x3线性系统：Ax = b
        INSERT INTO linear_system (row_idx, col_idx, coeff, rhs) VALUES
            (1, 1, 2, 8), (1, 2, 1, NULL), (1, 3, 0, NULL),
            (2, 1, 4, 18), (2, 2, 3, NULL), (2, 3, 1, NULL),
            (3, 1, 2, 14), (3, 2, 1, NULL), (3, 3, 2, NULL);

        RAISE NOTICE '线性系统表创建成功';
    EXCEPTION
        WHEN OTHERS THEN
            RAISE EXCEPTION '创建表失败: %', SQLERRM;
    END;
END $$;
```

---

## 2. 迭代法

### 2.1 雅可比迭代

**雅可比迭代**:
$$x_i^{(k+1)} = \frac{1}{a_{ii}}\left(b_i - \sum_{j \neq i} a_{ij} x_j^{(k)}\right)$$

```sql
-- 雅可比迭代实现
WITH jacobi_iteration AS (
    SELECT
        iteration,
        variable_id,
        new_value
    FROM jacobi_solver
)
SELECT * FROM jacobi_iteration;
```

---

## 📚 参考资源

1. **Trefethen, L.N., Bau, D. (1997)**: "Numerical Linear Algebra"

---

**最后更新**: 2025年1月
**文档状态**: ✅ 已完成
