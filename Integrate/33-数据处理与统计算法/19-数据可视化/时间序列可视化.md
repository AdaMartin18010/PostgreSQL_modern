# PostgreSQL æ—¶é—´åºåˆ—å¯è§†åŒ–æ•°æ®ç”Ÿæˆå®Œæ•´æŒ‡å—

> **åˆ›å»ºæ—¥æœŸ**: 2025å¹´1æœˆ
> **æŠ€æœ¯æ ˆ**: PostgreSQL 17+/18+ | æ•°æ®å¯è§†åŒ– | æ—¶é—´åºåˆ— | è¶‹åŠ¿åˆ†æ
> **éš¾åº¦çº§åˆ«**: â­â­â­ (ä¸­çº§)
> **å‚è€ƒæ ‡å‡†**: Time Series Visualization, Data Visualization Best Practices

---

## ğŸ“‹ ç›®å½•

- [PostgreSQL æ—¶é—´åºåˆ—å¯è§†åŒ–æ•°æ®ç”Ÿæˆå®Œæ•´æŒ‡å—](#postgresql-æ—¶é—´åºåˆ—å¯è§†åŒ–æ•°æ®ç”Ÿæˆå®Œæ•´æŒ‡å—)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [æ—¶é—´åºåˆ—å¯è§†åŒ–æ¦‚è¿°](#æ—¶é—´åºåˆ—å¯è§†åŒ–æ¦‚è¿°)
  - [1. è¶‹åŠ¿å›¾æ•°æ®](#1-è¶‹åŠ¿å›¾æ•°æ®)
  - [2. å­£èŠ‚æ€§åˆ†è§£](#2-å­£èŠ‚æ€§åˆ†è§£)

---

## æ—¶é—´åºåˆ—å¯è§†åŒ–æ¦‚è¿°

æ—¶é—´åºåˆ—å¯è§†åŒ–å¸®åŠ©ç†è§£æ•°æ®çš„è¶‹åŠ¿ã€å­£èŠ‚æ€§å’Œå¼‚å¸¸ã€‚

---

## 1. è¶‹åŠ¿å›¾æ•°æ®

```sql
-- æ—¶é—´åºåˆ—è¶‹åŠ¿å›¾æ•°æ®ç”Ÿæˆ
WITH time_series AS (
    SELECT
        date,
        value,
        AVG(value) OVER (ORDER BY date ROWS BETWEEN 6 PRECEDING AND CURRENT ROW) AS moving_avg_7
    FROM time_series_data
)
SELECT
    date,
    value,
    ROUND(moving_avg_7::numeric, 2) AS trend_line
FROM time_series
ORDER BY date;
```

---

## 2. å­£èŠ‚æ€§åˆ†è§£

```sql
-- å­£èŠ‚æ€§åˆ†è§£æ•°æ®
WITH seasonal_decomposition AS (
    SELECT
        date,
        value,
        AVG(value) OVER (PARTITION BY EXTRACT(MONTH FROM date)) AS seasonal_component,
        value - AVG(value) OVER (PARTITION BY EXTRACT(MONTH FROM date)) AS trend_component
    FROM time_series_data
)
SELECT
    date,
    ROUND(value::numeric, 2) AS original,
    ROUND(seasonal_component::numeric, 2) AS seasonal,
    ROUND(trend_component::numeric, 2) AS trend
FROM seasonal_decomposition
ORDER BY date;
```

---

**æœ€åæ›´æ–°**: 2025å¹´1æœˆ
**æ–‡æ¡£çŠ¶æ€**: âœ… å·²å®Œæˆ
