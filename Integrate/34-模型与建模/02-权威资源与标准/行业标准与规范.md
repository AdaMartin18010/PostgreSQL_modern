# 行业标准与规范完整指南

> **创建日期**: 2025年1月
> **来源**: 国际标准组织、行业标准
> **状态**: 基于权威资源整理
> **文档编号**: 02-03

---

## 📑 目录

- [行业标准与规范完整指南](#行业标准与规范完整指南)
  - [📑 目录](#-目录)
  - [1. 概述](#1-概述)
  - [1.1 理论基础](#11-理论基础)
    - [1.1.1 标准与规范基本概念](#111-标准与规范基本概念)
    - [1.1.2 ISO/IEC标准理论](#112-isoiec标准理论)
    - [1.1.3 OMG标准理论](#113-omg标准理论)
    - [1.1.4 行业标准理论](#114-行业标准理论)
    - [1.1.5 标准遵循理论](#115-标准遵循理论)
    - [1.1.6 复杂度分析](#116-复杂度分析)
  - [2. 国际标准](#2-国际标准)
    - [2.1 ISO/IEC标准](#21-isoiec标准)
      - [2.1.1 ISO/IEC 11179 - 元数据注册标准](#211-isoiec-11179---元数据注册标准)
      - [2.1.2 ISO/IEC 61360 - 元器件数据字典标准](#212-isoiec-61360---元器件数据字典标准)
      - [2.1.3 ISO/IEC 9075 - SQL标准](#213-isoiec-9075---sql标准)
    - [2.2 OMG标准](#22-omg标准)
      - [2.2.1 UML (Unified Modeling Language)](#221-uml-unified-modeling-language)
      - [2.2.2 BPMN (Business Process Model and Notation)](#222-bpmn-business-process-model-and-notation)
      - [2.2.3 CWM (Common Warehouse Metamodel)](#223-cwm-common-warehouse-metamodel)
  - [3. 金融业标准](#3-金融业标准)
    - [3.1 ISO 20022 - 金融报文标准](#31-iso-20022---金融报文标准)
    - [3.2 BCBS 239 - 风险数据管理](#32-bcbs-239---风险数据管理)
  - [4. 医疗保健标准](#4-医疗保健标准)
    - [4.1 HL7 FHIR](#41-hl7-fhir)
    - [4.2 OMOP CDM - 观察性医疗数据模型](#42-omop-cdm---观察性医疗数据模型)
  - [5. 电信业标准](#5-电信业标准)
    - [5.1 TM Forum SID - 共享信息数据模型](#51-tm-forum-sid---共享信息数据模型)
  - [6. 制造业标准](#6-制造业标准)
    - [6.1 ISO 10303 (STEP) - 产品数据交换标准](#61-iso-10303-step---产品数据交换标准)
    - [6.2 B2MML - 制造标记语言](#62-b2mml---制造标记语言)
  - [7. 零售业标准](#7-零售业标准)
    - [7.1 GS1标准](#71-gs1标准)
  - [8. 数据治理标准](#8-数据治理标准)
    - [8.1 DAMA-DMBOK](#81-dama-dmbok)
  - [9. PostgreSQL标准兼容性](#9-postgresql标准兼容性)
    - [SQL标准兼容](#sql标准兼容)
  - [10. 相关资源](#10-相关资源)
  - [11. 参考文档](#11-参考文档)

---

## 1. 概述

行业标准与规范为数据建模提供了统一的框架和最佳实践，确保数据模型的一致性、互操作性和可维护性。

---

## 1.1 理论基础

### 1.1.1 标准与规范基本概念

**标准与规范**:

- **定义**: 统一的数据建模框架和最佳实践
- **目的**: 确保数据模型的一致性、互操作性和可维护性
- **范围**: 国际标准、行业标准、企业标准

**标准分类**:

- **国际标准**: ISO/IEC、OMG等国际组织标准
- **行业标准**: 特定行业的标准和规范
- **企业标准**: 企业内部的标准和规范

### 1.1.2 ISO/IEC标准理论

**ISO/IEC标准**:

- **ISO/IEC 11179**: 元数据注册标准
- **ISO/IEC 61360**: 元器件数据字典标准
- **ISO/IEC 9075**: SQL标准

**标准应用**:

- **元数据管理**: 使用ISO/IEC 11179管理元数据
- **数据字典**: 使用ISO/IEC 61360建立数据字典
- **SQL兼容**: 遵循ISO/IEC 9075 SQL标准

### 1.1.3 OMG标准理论

**OMG标准**:

- **UML**: 统一建模语言
- **BPMN**: 业务流程建模和标注
- **CWM**: 公共仓库元模型

**标准应用**:

- **数据建模**: 使用UML进行数据建模
- **流程建模**: 使用BPMN进行流程建模
- **元数据管理**: 使用CWM管理元数据

### 1.1.4 行业标准理论

**行业标准**:

- **金融业**: ISO 20022、BCBS 239
- **医疗保健**: HL7 FHIR、OMOP CDM
- **电信业**: TM Forum SID
- **制造业**: ISO 10303、B2MML

**标准应用**:

- **行业建模**: 使用行业标准进行数据建模
- **互操作性**: 提高系统互操作性
- **合规性**: 符合行业监管要求

### 1.1.5 标准遵循理论

**标准遵循**:

- **遵循原则**: 优先遵循国际标准，其次行业标准
- **遵循方法**: 标准映射、标准扩展、标准定制
- **遵循评估**: 标准符合性评估

**标准遵循优势**:

- **一致性**: 保证数据模型一致性
- **互操作性**: 提高系统互操作性
- **可维护性**: 提高模型可维护性

### 1.1.6 复杂度分析

**标准应用复杂度**:

- **标准学习**: $O(S)$ where S is number of standards
- **标准映射**: $O(M)$ where M is mapping complexity
- **标准实施**: $O(I)$ where I is implementation complexity

---

## 2. 国际标准

### 2.1 ISO/IEC标准

#### 2.1.1 ISO/IEC 11179 - 元数据注册标准

**定义**: 元数据注册（Metadata Registry）标准，用于定义和管理数据元素。

**核心概念**:

- **数据元素（Data Element）**: 数据的基本单元
- **概念域（Conceptual Domain）**: 值的含义
- **值域（Value Domain）**: 允许的值集合

**应用场景**:

- 企业数据治理
- 数据字典管理
- 元数据管理

**PostgreSQL实现示例**:

```sql
-- 元数据注册表（ISO/IEC 11179标准，带错误处理）
DO $$
BEGIN
    IF NOT EXISTS (SELECT 1 FROM pg_tables WHERE tablename = 'metadata_registry') THEN
        CREATE TABLE metadata_registry (
            element_id SERIAL PRIMARY KEY,
            element_name VARCHAR(200) NOT NULL,
            definition TEXT NOT NULL,
            data_type VARCHAR(50) NOT NULL,
            conceptual_domain TEXT,
            value_domain TEXT,
            registration_status VARCHAR(20) DEFAULT 'draft',
            registered_date DATE DEFAULT CURRENT_DATE
        );
        RAISE NOTICE '表 metadata_registry 创建成功';
    ELSE
        RAISE NOTICE '表 metadata_registry 已存在，跳过创建';
    END IF;
EXCEPTION
    WHEN OTHERS THEN
        RAISE EXCEPTION '创建表 metadata_registry 失败: %', SQLERRM;
END $$;

-- 数据元素分类（带错误处理）
DO $$
BEGIN
    IF NOT EXISTS (SELECT 1 FROM pg_tables WHERE tablename = 'data_element_categories') THEN
        CREATE TABLE data_element_categories (
            category_id SERIAL PRIMARY KEY,
            category_name VARCHAR(100) NOT NULL,
            parent_category_id INT REFERENCES data_element_categories(category_id)
        );
        RAISE NOTICE '表 data_element_categories 创建成功';
    ELSE
        RAISE NOTICE '表 data_element_categories 已存在，跳过创建';
    END IF;
EXCEPTION
    WHEN OTHERS THEN
        RAISE EXCEPTION '创建表 data_element_categories 失败: %', SQLERRM;
END $$;
```

---

#### 2.1.2 ISO/IEC 61360 - 元器件数据字典标准

**定义**: 电子元器件数据字典标准，用于制造业数据建模。

**核心内容**:

- 元器件属性定义
- 分类体系
- 数据交换格式

**应用场景**:

- 电子制造业
- 供应链管理
- 产品生命周期管理

---

#### 2.1.3 ISO/IEC 9075 - SQL标准

**定义**: SQL语言国际标准。

**版本**:

- SQL:2016 (ISO/IEC 9075:2016)
- SQL:2023 (最新)

**核心内容**:

- SQL语法规范
- 数据类型定义
- 完整性约束

**PostgreSQL兼容性**: PostgreSQL高度兼容SQL标准，支持大部分SQL:2016特性。

---

### 2.2 OMG标准

#### 2.2.1 UML (Unified Modeling Language)

**版本**: UML 2.5

**用途**: 统一建模语言，用于软件系统建模。

**在数据建模中的应用**:

- ER图绘制
- 类图设计
- 活动图建模

**工具**:

- Enterprise Architect
- Visual Paradigm
- draw.io

---

#### 2.2.2 BPMN (Business Process Model and Notation)

**版本**: BPMN 2.0

**用途**: 业务流程模型和标记法。

**核心元素**:

- **事件（Events）**: 流程中的发生点
- **活动（Activities）**: 执行的工作
- **网关（Gateways）**: 流程控制点

**应用场景**:

- 业务流程建模
- 工作流设计
- 流程自动化

**相关文档**: `07-工作流建模/BPMN建模.md`

---

#### 2.2.3 CWM (Common Warehouse Metamodel)

**定义**: 公共仓库元模型，用于数据仓库元数据管理。

**核心内容**:

- 数据源建模
- 转换规则定义
- 目标数据模型

**应用场景**:

- 数据仓库元数据管理
- ETL工具设计
- 数据集成

---

## 3. 金融业标准

### 3.1 ISO 20022 - 金融报文标准

**定义**: 金融信息交换标准，用于金融报文格式。

**核心内容**:

- 报文格式定义
- 数据字典
- 业务领域模型

**应用场景**:

- 银行间支付
- 证券交易
- 外汇交易

**PostgreSQL实现示例**:

```sql
-- ISO 20022支付报文模型
CREATE TABLE payment_messages (
    message_id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    message_type VARCHAR(50) NOT NULL,  -- pacs.008, pacs.009等
    message_version VARCHAR(10) NOT NULL,
    creation_datetime TIMESTAMPTZ NOT NULL,
    message_content XML NOT NULL,  -- ISO 20022 XML格式
    status VARCHAR(20) DEFAULT 'pending'
);

-- 支付交易
CREATE TABLE payment_transactions (
    transaction_id UUID PRIMARY KEY,
    message_id UUID REFERENCES payment_messages(message_id),
    instruction_id VARCHAR(50) UNIQUE NOT NULL,
    debtor_account VARCHAR(50) NOT NULL,
    creditor_account VARCHAR(50) NOT NULL,
    amount NUMERIC(15,2) NOT NULL,
    currency CHAR(3) NOT NULL,
    value_date DATE NOT NULL,
    status VARCHAR(20) DEFAULT 'pending'
);
```

---

### 3.2 BCBS 239 - 风险数据管理

**定义**: 巴塞尔银行监管委员会风险数据管理标准。

**核心要求**:

- 数据完整性
- 数据准确性
- 数据及时性
- 数据一致性

**应用场景**:

- 银行风险管理系统
- 监管报告
- 风险数据治理

---

## 4. 医疗保健标准

### 4.1 HL7 FHIR

**版本**: FHIR R4 (最新)

**定义**: Fast Healthcare Interoperability Resources，医疗信息交换标准。

**核心资源**:

- **Patient**: 患者信息
- **Observation**: 观察结果（检验、检查）
- **Medication**: 药物信息
- **Encounter**: 就诊记录

**PostgreSQL实现示例**:

```sql
-- FHIR Patient资源
CREATE TABLE fhir_patients (
    patient_id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    fhir_id VARCHAR(50) UNIQUE NOT NULL,
    identifier JSONB,  -- 标识符（身份证、医保号等）
    name JSONB,         -- 姓名
    gender VARCHAR(10),
    birth_date DATE,
    address JSONB,     -- 地址
    telecom JSONB,     -- 联系方式
    fhir_resource JSONB NOT NULL,  -- 完整FHIR资源
    created_at TIMESTAMPTZ DEFAULT NOW(),
    updated_at TIMESTAMPTZ DEFAULT NOW()
);

-- FHIR Observation资源
CREATE TABLE fhir_observations (
    observation_id UUID PRIMARY KEY DEFAULT uuid_generate_v4(),
    fhir_id VARCHAR(50) UNIQUE NOT NULL,
    patient_id UUID REFERENCES fhir_patients(patient_id),
    status VARCHAR(20) NOT NULL,
    category JSONB,
    code JSONB,        -- 检验项目代码
    value_quantity JSONB,  -- 数值结果
    value_string TEXT,     -- 文本结果
    effective_datetime TIMESTAMPTZ,
    fhir_resource JSONB NOT NULL
);

-- GIN索引优化FHIR查询
CREATE INDEX idx_fhir_patients_resource_gin ON fhir_patients USING GIN (fhir_resource);
CREATE INDEX idx_fhir_observations_patient ON fhir_observations(patient_id);
```

---

### 4.2 OMOP CDM - 观察性医疗数据模型

**定义**: Observational Medical Outcomes Partnership Common Data Model，用于观察性医疗研究。

**核心表**:

- **PERSON**: 人员信息
- **CONDITION_OCCURRENCE**: 疾病发生
- **DRUG_EXPOSURE**: 药物暴露
- **MEASUREMENT**: 测量结果

**应用场景**:

- 医疗研究
- 药物安全性研究
- 真实世界证据（RWE）

---

## 5. 电信业标准

### 5.1 TM Forum SID - 共享信息数据模型

**定义**: Shared Information/Data Model，电信行业信息数据模型。

**核心领域**:

- 产品目录
- 客户管理
- 服务管理
- 资源管理

**应用场景**:

- 电信OSS/BSS系统
- 服务开通
- 计费系统

---

## 6. 制造业标准

### 6.1 ISO 10303 (STEP) - 产品数据交换标准

**定义**: Standard for the Exchange of Product model data，产品数据交换标准。

**应用场景**:

- CAD/CAM数据交换
- 产品生命周期管理（PLM）
- 供应链协同

---

### 6.2 B2MML - 制造标记语言

**定义**: Business To Manufacturing Markup Language，制造执行系统数据模型。

**核心内容**:

- 生产订单
- 物料清单（BOM）
- 工艺路线
- 质量数据

**应用场景**:

- MES系统
- 生产执行
- 质量追溯

---

## 7. 零售业标准

### 7.1 GS1标准

**核心标准**:

- **GTIN**: 全球贸易项目代码
- **GLN**: 全球位置码
- **SSCC**: 系列货运包装箱代码

**应用场景**:

- 商品标识
- 供应链追溯
- 零售POS系统

**PostgreSQL实现示例**:

```sql
-- GS1商品主数据
CREATE TABLE gs1_products (
    product_id BIGSERIAL PRIMARY KEY,
    gtin VARCHAR(14) UNIQUE NOT NULL,  -- GTIN-14
    product_name TEXT NOT NULL,
    brand_name VARCHAR(100),
    category_code VARCHAR(50),
    unit_of_measure VARCHAR(10),
    net_content NUMERIC(10,3),
    gs1_data JSONB  -- GS1扩展数据
);

-- GS1位置数据
CREATE TABLE gs1_locations (
    location_id BIGSERIAL PRIMARY KEY,
    gln VARCHAR(13) UNIQUE NOT NULL,  -- GLN
    location_name TEXT NOT NULL,
    location_type VARCHAR(50),
    address JSONB,
    coordinates GEOGRAPHY(POINT, 4326)
);
```

---

## 8. 数据治理标准

### 8.1 DAMA-DMBOK

**定义**: Data Management Body of Knowledge，数据管理知识体系。

**核心领域**:

1. 数据治理
2. 数据架构
3. 数据建模与设计
4. 数据存储与操作
5. 数据安全
6. 数据质量
7. 参考数据与主数据
8. 数据仓库与商务智能
9. 文档与内容管理
10. 元数据管理

**应用场景**:

- 企业数据治理
- 数据管理成熟度评估
- 数据管理能力建设

---

## 9. PostgreSQL标准兼容性

### SQL标准兼容

**PostgreSQL兼容性**:

- ✅ SQL:2016核心特性
- ✅ 窗口函数
- ✅ CTE（WITH子句）
- ✅ JSON/JSONB支持
- ✅ 数组类型
- ✅ 自定义类型

**示例**:

```sql
-- SQL标准窗口函数
SELECT
    product_id,
    sale_date,
    amount,
    SUM(amount) OVER (PARTITION BY product_id ORDER BY sale_date) AS running_total,
    ROW_NUMBER() OVER (PARTITION BY product_id ORDER BY amount DESC) AS rank
FROM sales;

-- SQL标准CTE
WITH monthly_sales AS (
    SELECT
        DATE_TRUNC('month', sale_date) AS month,
        SUM(amount) AS total_amount
    FROM sales
    GROUP BY DATE_TRUNC('month', sale_date)
)
SELECT
    month,
    total_amount,
    LAG(total_amount) OVER (ORDER BY month) AS prev_month_amount
FROM monthly_sales;
```

---

## 10. 相关资源

- [权威资源索引](../00-导航与索引/权威资源索引.md)
- [Silverston数据模型资源手册](./Silverston数据模型资源手册.md)
- [Kimball维度建模](./Kimball维度建模.md)

---

## 11. 参考文档

- ISO/IEC官方网站: <https://www.iso.org/>
- OMG官方网站: <https://www.omg.org/>
- HL7 FHIR官网: <https://www.hl7.org/fhir/>
- DAMA国际: <https://www.dama.org/>
- PostgreSQL官方文档: [SQL Conformance](https://www.postgresql.org/docs/current/features.html)

---

**最后更新**: 2025年1月
**维护者**: PostgreSQL Modern Team
