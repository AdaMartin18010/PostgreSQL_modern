---

> **ğŸ“‹ æ–‡æ¡£æ¥æº**: `PostgreSQLåŸ¹è®­\12-æ‰©å±•å¼€å‘\ã€æ·±å…¥ã€‘çŸ¥è¯†å›¾è°±æœ¬ä½“å»ºæ¨¡ä¸æ¨ç†æŒ‡å—.md`
> **ğŸ“… å¤åˆ¶æ—¥æœŸ**: 2025-12-22
> **âš ï¸ æ³¨æ„**: æœ¬æ–‡æ¡£ä¸ºå¤åˆ¶ç‰ˆæœ¬ï¼ŒåŸæ–‡ä»¶ä¿æŒä¸å˜

---

# çŸ¥è¯†å›¾è°±æœ¬ä½“å»ºæ¨¡ä¸æ¨ç†æŒ‡å—

> **åˆ›å»ºæ—¶é—´**: 2025 å¹´ 12 æœˆ 4 æ—¥
> **æŠ€æœ¯ç‰ˆæœ¬**: PostgreSQL 18+ with Apache AGE and RDF
> **æ–‡æ¡£ç¼–å·**: 12-EXT-KG-ONTOLOGY

---

## ğŸ“‘ ç›®å½•

- [1.1 ä»€ä¹ˆæ˜¯æœ¬ä½“å»ºæ¨¡](#11-ä»€ä¹ˆæ˜¯æœ¬ä½“å»ºæ¨¡)
- [1.2 æ ¸å¿ƒä»·å€¼](#12-æ ¸å¿ƒä»·å€¼)
- [1.3 çŸ¥è¯†ä½“ç³»æ€ç»´å¯¼å›¾](#13-çŸ¥è¯†ä½“ç³»æ€ç»´å¯¼å›¾)
- [2.1 æœ¬ä½“è®ºåŸºç¡€](#21-æœ¬ä½“è®ºåŸºç¡€)
- [2.2 æè¿°é€»è¾‘DL](#22-æè¿°é€»è¾‘dl)
- [2.3 RDFä¸RDFS](#23-rdfä¸rdfs)
- [2.4 OWLæœ¬ä½“è¯­è¨€](#24-owlæœ¬ä½“è¯­è¨€)
- [3.1 æ•´ä½“æ¶æ„](#31-æ•´ä½“æ¶æ„)
- [3.2 RDFä¸‰å…ƒç»„å­˜å‚¨](#32-rdfä¸‰å…ƒç»„å­˜å‚¨)
- [3.3 æ¨ç†å¼•æ“è®¾è®¡](#33-æ¨ç†å¼•æ“è®¾è®¡)
- [3.4 æŸ¥è¯¢ä¼˜åŒ–](#34-æŸ¥è¯¢ä¼˜åŒ–)
- [4.1 ç¯å¢ƒå‡†å¤‡](#41-ç¯å¢ƒå‡†å¤‡)
- [4.2 RDFå­˜å‚¨å®ç°](#42-rdfå­˜å‚¨å®ç°)
- [4.3 SPARQLæŸ¥è¯¢](#43-sparqlæŸ¥è¯¢)
- [4.4 OWLæ¨ç†å®ç°](#44-owlæ¨ç†å®ç°)
- [4.5 çŸ¥è¯†èåˆ](#45-çŸ¥è¯†èåˆ)
- [6.1 ä¼ä¸šæœ¬ä½“å»ºæ¨¡](#61-ä¼ä¸šæœ¬ä½“å»ºæ¨¡)
- [6.2 åŒ»ç–—çŸ¥è¯†å›¾è°±](#62-åŒ»ç–—çŸ¥è¯†å›¾è°±)
- [6.3 è¯­ä¹‰æŸ¥è¯¢ç³»ç»Ÿ](#63-è¯­ä¹‰æŸ¥è¯¢ç³»ç»Ÿ)
- [æ ¸å¿ƒæ”¶è·](#æ ¸å¿ƒæ”¶è·)
---

## ä¸€ã€æ¦‚è¿°

### 1.1 ä»€ä¹ˆæ˜¯æœ¬ä½“å»ºæ¨¡

**æœ¬ä½“**ï¼ˆOntologyï¼‰æ˜¯å¯¹æŸä¸ªé¢†åŸŸçŸ¥è¯†çš„å½¢å¼åŒ–ã€æ˜ç¡®çš„è§„èŒƒè¯´æ˜ï¼Œå®šä¹‰äº†æ¦‚å¿µã€æ¦‚å¿µçš„å±æ€§å’Œæ¦‚å¿µä¹‹é—´çš„å…³ç³»ã€‚

**æ ¸å¿ƒè¦ç´ **ï¼š

- ğŸ“¦ **ç±»**ï¼ˆClassï¼‰ï¼šæ¦‚å¿µçš„é›†åˆ
- ğŸ·ï¸ **å±æ€§**ï¼ˆPropertyï¼‰ï¼šæè¿°å¯¹è±¡ç‰¹å¾
- ğŸ”— **å…³ç³»**ï¼ˆRelationï¼‰ï¼šå¯¹è±¡ä¹‹é—´çš„è¿æ¥
- ğŸ“ **å…¬ç†**ï¼ˆAxiomï¼‰ï¼šé€»è¾‘è§„åˆ™å’Œçº¦æŸ
- ğŸ‘¤ **å®ä¾‹**ï¼ˆInstanceï¼‰ï¼šå…·ä½“çš„å¯¹è±¡

**ç®€å•ç¤ºä¾‹**ï¼š

```turtle
# RDF/Turtleè¯­æ³•
@prefix : <http://example.org/university#> .
@prefix rdf: <http://www.w3.org/1999/02/22-rdf-syntax-ns#> .
@prefix rdfs: <http://www.w3.org/2000/01/rdf-schema#> .

# ç±»å®šä¹‰
:Person rdf:type rdfs:Class .
:Professor rdfs:subClassOf :Person .
:Student rdfs:subClassOf :Person .
:Course rdf:type rdfs:Class .

# å±æ€§å®šä¹‰
:teaches rdf:type rdf:Property ;
         rdfs:domain :Professor ;
         rdfs:range :Course .

:enrolledIn rdf:type rdf:Property ;
            rdfs:domain :Student ;
            rdfs:range :Course .

# å®ä¾‹
:alice rdf:type :Professor ;
       :name "Alice Smith" ;
       :teaches :CS101 .

:bob rdf:type :Student ;
     :name "Bob Johnson" ;
     :enrolledIn :CS101 .
```

### 1.2 æ ¸å¿ƒä»·å€¼

**æŠ€æœ¯ä»·å€¼**ï¼š

- ğŸ¯ **çŸ¥è¯†å…±äº«**: ç»Ÿä¸€çš„æ¦‚å¿µå®šä¹‰
- ğŸ” **è¯­ä¹‰æŸ¥è¯¢**: ç†è§£æ¦‚å¿µé—´çš„å…³ç³»
- ğŸ§  **æ™ºèƒ½æ¨ç†**: è‡ªåŠ¨æ¨å¯¼æ–°çŸ¥è¯†
- ğŸ”— **çŸ¥è¯†èåˆ**: æ•´åˆå¤šæºå¼‚æ„æ•°æ®

**ä¸šåŠ¡ä»·å€¼**ï¼š

- ğŸ’¡ **çŸ¥è¯†ç®¡ç†**: ç³»ç»ŸåŒ–ç»„ç»‡ä¼ä¸šçŸ¥è¯†
- ğŸš€ **æ™ºèƒ½åº”ç”¨**: æ”¯æŒæ™ºèƒ½é—®ç­”ã€æ¨è
- ğŸ›¡ï¸ **æ•°æ®æ²»ç†**: æ ‡å‡†åŒ–æ•°æ®å®šä¹‰
- ğŸ“ˆ **å†³ç­–æ”¯æŒ**: åŸºäºçŸ¥è¯†çš„æ™ºèƒ½å†³ç­–

### 1.3 çŸ¥è¯†ä½“ç³»æ€ç»´å¯¼å›¾

```mermaid
mindmap
  root((çŸ¥è¯†å›¾è°±æœ¬ä½“))
    åŸç†ä¸ç†è®º
      æœ¬ä½“è®º
        æ¦‚å¿µ
        å…³ç³»
        å…¬ç†
        å®ä¾‹
      æè¿°é€»è¾‘
        ALC
        SHOIN
        SROIQ
      RDF/RDFS
        ä¸‰å…ƒç»„
        è¯æ±‡è¡¨
        æ¨ç†è§„åˆ™
      OWL
        OWL Lite
        OWL DL
        OWL Full
    æ¶æ„è®¾è®¡
      å­˜å‚¨è®¾è®¡
        ä¸‰å…ƒç»„è¡¨
        å±æ€§è¡¨
        å›¾å­˜å‚¨
      æ¨ç†å¼•æ“
        è§„åˆ™æ¨ç†
        DLæ¨ç†
        SPARQLæ¨ç†
      æŸ¥è¯¢ä¼˜åŒ–
        ç´¢å¼•
        ç‰©åŒ–è§†å›¾
        æŸ¥è¯¢æ”¹å†™
    ç¨‹åºè®¾è®¡
      RDFå­˜å‚¨
        PostgreSQLå®ç°
        ä¸‰å…ƒç»„æ’å…¥
        æ‰¹é‡å¯¼å…¥
      SPARQL
        æŸ¥è¯¢è¯­æ³•
        Pythoné›†æˆ
        æŸ¥è¯¢ä¼˜åŒ–
      OWLæ¨ç†
        ç±»æ¨ç†
        å±æ€§æ¨ç†
        å®ä¾‹æ¨ç†
      çŸ¥è¯†èåˆ
        å®ä½“å¯¹é½
        å…³ç³»å¯¹é½
        æœ¬ä½“æ˜ å°„
    è¿ç»´ç®¡ç†
      æ€§èƒ½ä¼˜åŒ–
        ç´¢å¼•ä¼˜åŒ–
        æŸ¥è¯¢ä¼˜åŒ–
        æ¨ç†ä¼˜åŒ–
      æœ¬ä½“ç»´æŠ¤
        ç‰ˆæœ¬æ§åˆ¶
        ä¸€è‡´æ€§æ£€æŸ¥
        æœ¬ä½“æ¼”åŒ–
      æ¨ç†æ€§èƒ½
        å¢é‡æ¨ç†
        å¹¶è¡Œæ¨ç†
        ç¼“å­˜ç­–ç•¥
    æ¡ˆä¾‹å®æˆ˜
      ä¼ä¸šæœ¬ä½“
        ç»„ç»‡æ¶æ„
        ä¸šåŠ¡æµç¨‹
        æ•°æ®å­—å…¸
      åŒ»ç–—å›¾è°±
        ç–¾ç—…æœ¬ä½“
        è¯ç‰©çŸ¥è¯†
        è¯Šç–—æ¨ç†
      è¯­ä¹‰æŸ¥è¯¢
        æ™ºèƒ½é—®ç­”
        çŸ¥è¯†æ¨è
        å…³ç³»å‘ç°
```

---

## äºŒã€åŸç†ä¸ç†è®º

### 2.1 æœ¬ä½“è®ºåŸºç¡€

#### **æœ¬ä½“çš„äº”å…ƒç»„å®šä¹‰**

```text
Ontology O = (C, R, I, A, â‰¤)

å…¶ä¸­ï¼š
- C: ç±»çš„é›†åˆï¼ˆClassesï¼‰
- R: å…³ç³»çš„é›†åˆï¼ˆRelations/Propertiesï¼‰
- I: å®ä¾‹çš„é›†åˆï¼ˆIndividualsï¼‰
- A: å…¬ç†çš„é›†åˆï¼ˆAxiomsï¼‰
- â‰¤: ç±»å±‚æ¬¡ç»“æ„ï¼ˆHierarchyï¼‰
```

**ç¤ºä¾‹ï¼šå¤§å­¦æœ¬ä½“**:

```python
# Pythonè¡¨ç¤º
university_ontology = {
    'classes': [
        'Person',
        'Professor',  # subclass of Person
        'Student',    # subclass of Person
        'Course',
        'Department'
    ],
    'properties': [
        {'name': 'teaches', 'domain': 'Professor', 'range': 'Course'},
        {'name': 'enrolledIn', 'domain': 'Student', 'range': 'Course'},
        {'name': 'worksIn', 'domain': 'Professor', 'range': 'Department'}
    ],
    'individuals': [
        {'name': 'alice', 'type': 'Professor'},
        {'name': 'bob', 'type': 'Student'},
        {'name': 'CS101', 'type': 'Course'}
    ],
    'axioms': [
        'Professor âŠ† Person',  # Professoræ˜¯Personçš„å­ç±»
        'Student âŠ† Person',
        'teaches: Professor â†’ Course',  # teachesçš„å®šä¹‰åŸŸå’Œå€¼åŸŸ
        'enrolledIn: Student â†’ Course'
    ]
}
```

### 2.2 æè¿°é€»è¾‘DL

**åŸºç¡€æ„é€ å­**ï¼š

| ç¬¦å· | åç§° | è¯­ä¹‰ | ç¤ºä¾‹ |
|------|------|------|------|
| âŠ¤ | Top | æ‰€æœ‰ä¸ªä½“ | Thing |
| âŠ¥ | Bottom | ç©ºé›† | Nothing |
| C âŠ“ D | äº¤é›† | åŒæ—¶å±äºCå’ŒD | Professor âŠ“ Researcher |
| C âŠ” D | å¹¶é›† | å±äºCæˆ–D | Student âŠ” Professor |
| Â¬C | è¡¥é›† | ä¸å±äºC | Â¬Student |
| âˆƒR.C | å­˜åœ¨é‡åŒ– | å­˜åœ¨Rå…³ç³»åˆ°C | âˆƒteaches.Course |
| âˆ€R.C | å…¨ç§°é‡åŒ– | æ‰€æœ‰Rå…³ç³»åˆ°C | âˆ€enrolledIn.Course |

**æ¨ç†ç¤ºä¾‹**ï¼š

```text
å·²çŸ¥ï¼š
1. Professor âŠ‘ Person
2. alice : Professor
3. Professor âŠ‘ âˆƒteaches.Course

æ¨ç†ï¼š
â†’ alice : Personï¼ˆå­ç±»ä¼ é€’ï¼‰
â†’ alice : âˆƒteaches.Courseï¼ˆaliceè‡³å°‘æ•™æˆä¸€é—¨è¯¾ç¨‹ï¼‰
```

### 2.3 RDFä¸RDFS

#### **RDFä¸‰å…ƒç»„**

```text
RDFä¸‰å…ƒç»„ = (Subject, Predicate, Object)
          = (ä¸»è¯­, è°“è¯­, å®¾è¯­)
          = (å®ä½“, å…³ç³», å®ä½“/å€¼)
```

**PostgreSQLå®ç°**ï¼š

```sql
-- RDFä¸‰å…ƒç»„è¡¨ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰
DO $$
BEGIN
    CREATE TABLE IF NOT EXISTS rdf_triples (
        id SERIAL PRIMARY KEY,
        subject VARCHAR(500),
        predicate VARCHAR(500),
        object TEXT,
        object_type VARCHAR(50),  -- 'uri', 'literal', 'typed_literal'
        datatype VARCHAR(200),
        language VARCHAR(10),
        created_at TIMESTAMPTZ DEFAULT NOW()
    );
    RAISE NOTICE 'RDFä¸‰å…ƒç»„è¡¨åˆ›å»ºæˆåŠŸ';
EXCEPTION
    WHEN duplicate_table THEN
        RAISE NOTICE 'RDFä¸‰å…ƒç»„è¡¨å·²å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE WARNING 'åˆ›å»ºRDFä¸‰å…ƒç»„è¡¨å¤±è´¥: %', SQLERRM;
        RAISE;
END $$;

-- ç´¢å¼•ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰
DO $$
BEGIN
    CREATE INDEX IF NOT EXISTS idx_rdf_subject ON rdf_triples (subject);
    CREATE INDEX IF NOT EXISTS idx_rdf_predicate ON rdf_triples (predicate);
    CREATE INDEX IF NOT EXISTS idx_rdf_object ON rdf_triples (object);
    CREATE INDEX IF NOT EXISTS idx_rdf_spo ON rdf_triples (subject, predicate, object);
    RAISE NOTICE 'RDFä¸‰å…ƒç»„ç´¢å¼•åˆ›å»ºæˆåŠŸ';
EXCEPTION
    WHEN duplicate_table THEN
        RAISE NOTICE 'ç´¢å¼•å·²å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE WARNING 'åˆ›å»ºç´¢å¼•å¤±è´¥: %', SQLERRM;
        RAISE;
END $$;

-- æ’å…¥ä¸‰å…ƒç»„ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰
DO $$
BEGIN
    INSERT INTO rdf_triples (subject, predicate, object, object_type)
    VALUES
        ('http://example.org/alice', 'rdf:type', 'http://example.org/Professor', 'uri'),
        ('http://example.org/alice', 'foaf:name', 'Alice Smith', 'literal'),
        ('http://example.org/alice', 'teaches', 'http://example.org/CS101', 'uri');
    RAISE NOTICE 'ä¸‰å…ƒç»„æ’å…¥æˆåŠŸ';
EXCEPTION
    WHEN OTHERS THEN
        RAISE WARNING 'æ’å…¥ä¸‰å…ƒç»„å¤±è´¥: %', SQLERRM;
        RAISE;
END $$;

-- æ€§èƒ½æµ‹è¯•ï¼šæŸ¥è¯¢ä¸‰å…ƒç»„
EXPLAIN ANALYZE
SELECT * FROM rdf_triples
WHERE subject = 'http://example.org/alice';
```

### 2.4 OWLæœ¬ä½“è¯­è¨€

**OWLè¡¨è¾¾åŠ›ç­‰çº§**ï¼š

| ç­‰çº§ | è¡¨è¾¾åŠ› | æ¨ç†å¤æ‚åº¦ | é€‚ç”¨åœºæ™¯ |
|------|--------|-----------|---------|
| **OWL Lite** | ä½ | ä½ | ç®€å•åˆ†ç±» |
| **OWL DL** | ä¸­ | å¯åˆ¤å®š | **æ¨è** |
| **OWL Full** | é«˜ | ä¸å¯åˆ¤å®š | ç ”ç©¶ç”¨ |

---

## ä¸‰ã€æ¶æ„è®¾è®¡

### 3.1 æ•´ä½“æ¶æ„

**è¯¦ç»†æ¶æ„è§å®Œæ•´æ–‡æ¡£...**

### 3.2 RDFä¸‰å…ƒç»„å­˜å‚¨

**è¯¦ç»†è®¾è®¡è§å®Œæ•´æ–‡æ¡£...**

### 3.3 æ¨ç†å¼•æ“è®¾è®¡

**è¯¦ç»†è®¾è®¡è§å®Œæ•´æ–‡æ¡£...**

### 3.4 æŸ¥è¯¢ä¼˜åŒ–

**è¯¦ç»†ä¼˜åŒ–è§å®Œæ•´æ–‡æ¡£...**

---

## å››ã€ç¨‹åºè®¾è®¡

### 4.1 ç¯å¢ƒå‡†å¤‡

```bash
# å®‰è£…RDFå’ŒOWLå¤„ç†åº“
pip install rdflib==7.0.0
pip install owlready2==0.45
pip install SPARQLWrapper==2.0.0
```

### 4.2 RDFå­˜å‚¨å®ç°

```python
# rdf_store.pyï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰
from rdflib import Graph, Namespace, RDF, RDFS, OWL, Literal, URIRef
import psycopg2
from psycopg2 import sql
import logging

logging.basicConfig(level=logging.INFO)
logger = logging.getLogger(__name__)

class RDFPostgresStore:
    """RDF PostgreSQLå­˜å‚¨"""

    def __init__(self, conn):
        """åˆå§‹åŒ–RDFå­˜å‚¨ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰"""
        if conn is None:
            raise ValueError("æ•°æ®åº“è¿æ¥ä¸èƒ½ä¸ºNone")
        try:
            self.conn = conn
            self.graph = Graph()
            self._ensure_tables()
        except Exception as e:
            logger.error(f"åˆå§‹åŒ–RDFå­˜å‚¨å¤±è´¥: {e}")
            raise

    def _ensure_tables(self):
        """ç¡®ä¿RDFè¡¨å­˜åœ¨ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰"""
        try:
            with self.conn.cursor() as cur:
                cur.execute("""
                    CREATE TABLE IF NOT EXISTS rdf_triples (
                        id SERIAL PRIMARY KEY,
                        subject TEXT NOT NULL,
                        predicate TEXT NOT NULL,
                        object TEXT NOT NULL,
                        object_type VARCHAR(20),
                        created_at TIMESTAMPTZ DEFAULT NOW()
                    );

                    CREATE INDEX IF NOT EXISTS idx_rdf_spo
                    ON rdf_triples (subject, predicate, object);
                """)
                self.conn.commit()
                logger.info("RDFè¡¨åˆ›å»ºæˆåŠŸ")
        except psycopg2.Error as e:
            logger.error(f"åˆ›å»ºRDFè¡¨å¤±è´¥: {e}")
            self.conn.rollback()
            raise

    def add_triple(self, subject, predicate, obj):
        """æ·»åŠ ä¸‰å…ƒç»„ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰"""
        if subject is None or predicate is None or obj is None:
            raise ValueError("ä¸‰å…ƒç»„çš„æ‰€æœ‰å…ƒç´ ä¸èƒ½ä¸ºNone")

        try:
            # æ·»åŠ åˆ°rdflibå›¾
            self.graph.add((subject, predicate, obj))

            # å­˜å‚¨åˆ°PostgreSQL
            with self.conn.cursor() as cur:
                obj_type = 'uri' if isinstance(obj, URIRef) else 'literal'
                cur.execute("""
                    INSERT INTO rdf_triples (subject, predicate, object, object_type)
                    VALUES (%s, %s, %s, %s)
                """, (str(subject), str(predicate), str(obj), obj_type))
            self.conn.commit()
            logger.info(f"ä¸‰å…ƒç»„æ·»åŠ æˆåŠŸ: {subject} {predicate} {obj}")
        except psycopg2.Error as e:
            logger.error(f"æ·»åŠ ä¸‰å…ƒç»„å¤±è´¥: {e}")
            self.conn.rollback()
            raise
        except Exception as e:
            logger.error(f"æ·»åŠ ä¸‰å…ƒç»„æ—¶å‘ç”ŸæœªçŸ¥é”™è¯¯: {e}")
            self.conn.rollback()
            raise

    def query_sparql(self, sparql_query: str):
        """æ‰§è¡ŒSPARQLæŸ¥è¯¢ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰"""
        if not sparql_query or not sparql_query.strip():
            raise ValueError("SPARQLæŸ¥è¯¢ä¸èƒ½ä¸ºç©º")

        try:
            results = self.graph.query(sparql_query)
            return list(results)
        except Exception as e:
            logger.error(f"SPARQLæŸ¥è¯¢å¤±è´¥: {e}")
            raise

    def load_from_db(self):
        """ä»PostgreSQLåŠ è½½åˆ°rdflibï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰"""
        try:
            with self.conn.cursor() as cur:
                cur.execute("SELECT subject, predicate, object, object_type FROM rdf_triples")
                rows = cur.fetchall()

                if not rows:
                    logger.warning("æ•°æ®åº“ä¸­æ²¡æœ‰ä¸‰å…ƒç»„")
                    return

                for subject, predicate, obj, obj_type in rows:
                    try:
                        s = URIRef(subject)
                        p = URIRef(predicate)
                        o = URIRef(obj) if obj_type == 'uri' else Literal(obj)
                        self.graph.add((s, p, o))
                    except Exception as e:
                        logger.warning(f"åŠ è½½ä¸‰å…ƒç»„å¤±è´¥: {subject} {predicate} {obj}, é”™è¯¯: {e}")
                        continue

            logger.info(f"âœ… æˆåŠŸåŠ è½½ {len(self.graph)} ä¸ªä¸‰å…ƒç»„")
        except psycopg2.Error as e:
            logger.error(f"ä»æ•°æ®åº“åŠ è½½ä¸‰å…ƒç»„å¤±è´¥: {e}")
            raise

# ä½¿ç”¨ç¤ºä¾‹ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰
if __name__ == "__main__":
    try:
        conn = psycopg2.connect("postgresql://localhost/kgdb")
        store = RDFPostgresStore(conn)

        # å®šä¹‰å‘½åç©ºé—´
        EX = Namespace("http://example.org/")

        # æ·»åŠ ä¸‰å…ƒç»„
        store.add_triple(EX.alice, RDF.type, EX.Professor)
        store.add_triple(EX.alice, EX.name, Literal("Alice Smith"))
        store.add_triple(EX.alice, EX.teaches, EX.CS101)

        # SPARQLæŸ¥è¯¢
        query = """
        SELECT ?person ?name
        WHERE {
            ?person rdf:type <http://example.org/Professor> .
            ?person <http://example.org/name> ?name .
        }
        """
        results = store.query_sparql(query)

        print("æŸ¥è¯¢ç»“æœ:")
        for row in results:
            print(f"  {row}")
    except psycopg2.Error as e:
        logger.error(f"æ•°æ®åº“æ“ä½œå¤±è´¥: {e}")
    except Exception as e:
        logger.error(f"ç¨‹åºæ‰§è¡Œå¤±è´¥: {e}")
    finally:
        if 'conn' in locals():
            conn.close()
```

### 4.3 SPARQLæŸ¥è¯¢

**è¯¦ç»†å®ç°è§å®Œæ•´æ–‡æ¡£...**

### 4.4 OWLæ¨ç†å®ç°

**è¯¦ç»†å®ç°è§å®Œæ•´æ–‡æ¡£...**

### 4.5 çŸ¥è¯†èåˆ

**è¯¦ç»†å®ç°è§å®Œæ•´æ–‡æ¡£...**

---

## äº”ã€è¿ç»´ç®¡ç†

**è¯¦ç»†å†…å®¹è§å®Œæ•´æ–‡æ¡£...**

---

## å…­ã€æ¡ˆä¾‹å®æˆ˜

### 6.1 ä¼ä¸šæœ¬ä½“å»ºæ¨¡

**è¯¦ç»†æ¡ˆä¾‹è§å®Œæ•´æ–‡æ¡£...**

### 6.2 åŒ»ç–—çŸ¥è¯†å›¾è°±

**è¯¦ç»†æ¡ˆä¾‹è§å®Œæ•´æ–‡æ¡£...**

### 6.3 è¯­ä¹‰æŸ¥è¯¢ç³»ç»Ÿ

**è¯¦ç»†æ¡ˆä¾‹è§å®Œæ•´æ–‡æ¡£...**

---

## ä¸ƒã€æ€»ç»“ä¸å±•æœ›

### æ ¸å¿ƒæ”¶è·

1. âœ… æœ¬ä½“å»ºæ¨¡è§„èŒƒçŸ¥è¯†è¡¨ç¤º
2. âœ… RDF/OWLæä¾›æ ‡å‡†åŒ–è¯­è¨€
3. âœ… æ¨ç†å¼•æ“è‡ªåŠ¨æ¨å¯¼çŸ¥è¯†
4. âœ… ä¸PostgreSQLæ·±åº¦é›†æˆ

---

## å…«ã€å‚è€ƒèµ„æ–™

1. **W3C OWL**: [https://www.w3.org/OWL/](https://www.w3.org/OWL/)
2. **RDFLib**: [https://rdflib.readthedocs.io/](https://rdflib.readthedocs.io/)
3. **Owlready2**: [https://owlready2.readthedocs.io/](https://owlready2.readthedocs.io/)

---

**æœ€åæ›´æ–°**: 2025å¹´12æœˆ4æ—¥
**ç»´æŠ¤è€…**: PostgreSQL Modern Team
**æ–‡æ¡£ç¼–å·**: 12-EXT-KG-ONTOLOGY
**ç‰ˆæœ¬**: v1.0
