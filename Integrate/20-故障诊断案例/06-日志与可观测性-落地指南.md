---
> **ğŸ“‹ æ–‡æ¡£æ¥æº**: `PostgreSQL\runbook\06-æ—¥å¿—ä¸å¯è§‚æµ‹æ€§-è½åœ°æŒ‡å—.md`
> **ğŸ“… å¤åˆ¶æ—¥æœŸ**: 2025-12-22
> **âš ï¸ æ³¨æ„**: æœ¬æ–‡æ¡£ä¸ºå¤åˆ¶ç‰ˆæœ¬ï¼ŒåŸæ–‡ä»¶ä¿æŒä¸å˜

---

# æ—¥å¿—ä¸å¯è§‚æµ‹æ€§-è½åœ°æŒ‡å—ï¼ˆRunbookï¼‰

> **æ–‡æ¡£ç¼–å·**: RUNBOOK-06
> **æœ€åæ›´æ–°**: 2025å¹´1æœˆ
> **æŠ€æœ¯ç‰ˆæœ¬**: PostgreSQL 18+
> **ç”¨é€”**: PostgreSQLæ—¥å¿—ä¸å¯è§‚æµ‹æ€§ç”Ÿäº§è½åœ°æŒ‡å—

## ğŸ“‘ ç›®å½•

- [æ—¥å¿—ä¸å¯è§‚æµ‹æ€§-è½åœ°æŒ‡å—ï¼ˆRunbookï¼‰](#æ—¥å¿—ä¸å¯è§‚æµ‹æ€§-è½åœ°æŒ‡å—runbook)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. æ—¥å¿—é…ç½®å»ºè®®](#1-æ—¥å¿—é…ç½®å»ºè®®)
    - [1.1 PostgreSQLæ—¥å¿—é…ç½®](#11-postgresqlæ—¥å¿—é…ç½®)
    - [1.2 æ—¥å¿—æ ¼å¼è¯´æ˜](#12-æ—¥å¿—æ ¼å¼è¯´æ˜)
  - [2. æ—¥å¿—é‡‡é›†](#2-æ—¥å¿—é‡‡é›†)
    - [2.1 Filebeaté‡‡é›†](#21-filebeaté‡‡é›†)
    - [2.2 Vectoré‡‡é›†](#22-vectoré‡‡é›†)
    - [2.3 æ—¥å¿—ç´¢å¼•ç­–ç•¥](#23-æ—¥å¿—ç´¢å¼•ç­–ç•¥)
  - [3. é¢æ¿ä¸å‘Šè­¦](#3-é¢æ¿ä¸å‘Šè­¦)
    - [3.1 Grafanaæ—¥å¿—é¢æ¿](#31-grafanaæ—¥å¿—é¢æ¿)
    - [3.2 å‘Šè­¦è§„åˆ™](#32-å‘Šè­¦è§„åˆ™)
    - [3.3 å…³é”®æŒ‡æ ‡é¢æ¿](#33-å…³é”®æŒ‡æ ‡é¢æ¿)
  - [4. å…³è”è¿½è¸ª](#4-å…³è”è¿½è¸ª)
    - [4.1 è¯·æ±‚è¿½è¸ª](#41-è¯·æ±‚è¿½è¸ª)
    - [4.2 æ…¢æŸ¥è¯¢è¿½è¸ª](#42-æ…¢æŸ¥è¯¢è¿½è¸ª)
    - [4.3 åˆ†å¸ƒå¼è¿½è¸ª](#43-åˆ†å¸ƒå¼è¿½è¸ª)
  - [5. æ—¥å¿—åˆ†æ](#5-æ—¥å¿—åˆ†æ)
    - [5.1 æ…¢æŸ¥è¯¢åˆ†æ](#51-æ…¢æŸ¥è¯¢åˆ†æ)
    - [5.2 é”™è¯¯æ¨¡å¼åˆ†æ](#52-é”™è¯¯æ¨¡å¼åˆ†æ)
    - [5.3 æ€§èƒ½è¶‹åŠ¿åˆ†æ](#53-æ€§èƒ½è¶‹åŠ¿åˆ†æ)
  - [6. æ•…éšœè¯Šæ–­](#6-æ•…éšœè¯Šæ–­)
    - [6.1 æ•…éšœå®šä½æµç¨‹](#61-æ•…éšœå®šä½æµç¨‹)
    - [6.2 å¸¸è§æ•…éšœè¯Šæ–­](#62-å¸¸è§æ•…éšœè¯Šæ–­)
  - [7. æœ€ä½³å®è·µ](#7-æœ€ä½³å®è·µ)
    - [7.1 æ—¥å¿—é…ç½®æœ€ä½³å®è·µ](#71-æ—¥å¿—é…ç½®æœ€ä½³å®è·µ)
    - [7.2 æ—¥å¿—é‡‡é›†æœ€ä½³å®è·µ](#72-æ—¥å¿—é‡‡é›†æœ€ä½³å®è·µ)
    - [7.3 å¯è§‚æµ‹æ€§æœ€ä½³å®è·µ](#73-å¯è§‚æµ‹æ€§æœ€ä½³å®è·µ)

---

## 1. æ—¥å¿—é…ç½®å»ºè®®

### 1.1 PostgreSQLæ—¥å¿—é…ç½®

**postgresql.confé…ç½®**ï¼š

```conf
# æ—¥å¿—åŸºç¡€é…ç½®
logging_collector = on
log_directory = 'log'
log_filename = 'postgresql-%Y-%m-%d_%H%M%S.log'
log_rotation_age = 1d
log_rotation_size = 100MB
log_truncate_on_rotation = off

# æ—¥å¿—æ ¼å¼ï¼ˆPostgreSQL 18ä¼˜åŒ–ï¼‰
log_line_prefix = '%m [%p] %u@%d %r %a '

# æ—¥å¿—çº§åˆ«
log_min_messages = warning  # warning, error, log, info, debug1-5
log_min_error_statement = error
log_min_duration_statement = 500ms  # æ…¢æŸ¥è¯¢æ—¥å¿—

# æ£€æŸ¥ç‚¹æ—¥å¿—
log_checkpoints = on

# Autovacuumæ—¥å¿—
log_autovacuum_min_duration = 1s

# é”ç­‰å¾…æ—¥å¿—
log_lock_waits = on

# è¿æ¥æ—¥å¿—
log_connections = on
log_disconnections = on

# I/Oç»Ÿè®¡
track_io_timing = on

# æŸ¥è¯¢ç»Ÿè®¡
shared_preload_libraries = 'pg_stat_statements,auto_explain'

# auto_explainé…ç½®
auto_explain.log_min_duration = '200ms'
auto_explain.log_analyze = on
auto_explain.log_buffers = on
auto_explain.log_timing = on
auto_explain.log_verbose = on
auto_explain.log_format = 'json'  # JSONæ ¼å¼ä¾¿äºè§£æ
```

**åº”ç”¨åç§°æ³¨å…¥**ï¼š

```sql
-- åœ¨åº”ç”¨ä¸­è®¾ç½®application_name
SET application_name = 'my_app_v1.2.3';

-- åœ¨è¿æ¥å­—ç¬¦ä¸²ä¸­è®¾ç½®
-- postgresql://user:pass@host/db?application_name=my_app
```

### 1.2 æ—¥å¿—æ ¼å¼è¯´æ˜

**log_line_prefixæ ¼å¼**ï¼š

| æ ¼å¼ç¬¦ | è¯´æ˜ | ç¤ºä¾‹ |
|--------|------|------|
| **%m** | æ—¶é—´æˆ³ï¼ˆæ¯«ç§’ï¼‰ | 2025-01-15 14:30:25.123 |
| **%p** | è¿›ç¨‹ID | 12345 |
| **%u** | ç”¨æˆ·å | postgres |
| **%d** | æ•°æ®åº“å | mydb |
| **%r** | è¿œç¨‹ä¸»æœºå’Œç«¯å£ | 192.168.1.100:54321 |
| **%a** | åº”ç”¨åç§° | my_app |

**æ—¥å¿—ç¤ºä¾‹**ï¼š

```
2025-01-15 14:30:25.123 [12345] postgres@mydb 192.168.1.100:54321 my_app [my_app] LOG: duration: 1234.567 ms statement: SELECT * FROM large_table;
```

---

## 2. æ—¥å¿—é‡‡é›†

### 2.1 Filebeaté‡‡é›†

**Filebeaté…ç½®**ï¼š

```yaml
# filebeat.yml
filebeat.inputs:
- type: log
  enabled: true
  paths:
    - /var/lib/postgresql/18/data/log/postgresql-*.log
  fields:
    log_type: postgresql
    environment: production
    service: postgresql
  fields_under_root: false
  multiline.pattern: '^\d{4}-\d{2}-\d{2}'
  multiline.negate: true
  multiline.match: after

processors:
  - add_host_metadata:
      when.not.contains.tags: forwarded
  - add_docker_metadata: ~

output.loki:
  hosts: ["http://loki:3100"]
  labels:
    job: postgresql
    environment: production
    service: postgresql
```

**å¯åŠ¨Filebeat**ï¼š

```bash
# å®‰è£…Filebeat
wget https://artifacts.elastic.co/downloads/beats/filebeat/filebeat-8.11.0-linux-x86_64.tar.gz
tar xvfz filebeat-8.11.0-linux-x86_64.tar.gz
sudo mv filebeat /usr/local/bin/

# æµ‹è¯•é…ç½®
filebeat test config -c filebeat.yml

# å¯åŠ¨Filebeat
filebeat -e -c filebeat.yml
```

### 2.2 Vectoré‡‡é›†

**Vectoré…ç½®**ï¼š

```toml
[sources.postgresql_logs]
type = "file"
include = ["/var/lib/postgresql/18/data/log/postgresql-*.log"]
read_from = "end"
max_line_bytes = 10485760

[transforms.parse_postgresql]
type = "regex_parser"
inputs = ["postgresql_logs"]
field = "message"
patterns = [
    '^(?P<timestamp>\d{4}-\d{2}-\d{2} \d{2}:\d{2}:\d{2}\.\d{3}) \[(?P<pid>\d+)\] (?P<user>\w+)@(?P<database>\w+) (?P<remote_host>[\d.]+):(?P<remote_port>\d+) (?P<app>\w+) \[(?P<app_detail>.*?)\] (?P<level>\w+): (?P<message>.*)'
]

[transforms.enrich_logs]
type = "remap"
inputs = ["parse_postgresql"]
source = '''
.@timestamp = .timestamp
.level = .level
.service = "postgresql"
.environment = "production"
'''

[sinks.loki]
type = "loki"
inputs = ["enrich_logs"]
endpoint = "http://loki:3100"
labels = {
    job = "postgresql",
    environment = "production",
    level = "{{ level }}",
    database = "{{ database }}"
}
```

**å¯åŠ¨Vector**ï¼š

```bash
# å®‰è£…Vector
curl -1sLf 'https://repositories.timber.io/public/vector/cfg/setup/bash.deb.sh' | sudo bash
sudo apt-get install vector

# æµ‹è¯•é…ç½®
vector validate --config vector.toml

# å¯åŠ¨Vector
sudo systemctl start vector
sudo systemctl enable vector
```

### 2.3 æ—¥å¿—ç´¢å¼•ç­–ç•¥

**Lokiç´¢å¼•é…ç½®**ï¼š

```yaml
# loki-config.yml
auth_enabled: false

server:
  http_listen_port: 3100

ingester:
  lifecycler:
    address: 127.0.0.1
    ring:
      kvstore:
        store: inmemory
      replication_factor: 1
    final_sleep: 0s
  chunk_idle_period: 5m
  chunk_retain_period: 30s

schema_config:
  configs:
    - from: 2025-01-01
      store: boltdb-shipper
      object_store: filesystem
      schema: v11
      index:
        prefix: index_
        period: 24h

storage_config:
  boltdb_shipper:
    active_index_directory: /loki/index
    cache_location: /loki/cache
    shared_store: filesystem
  filesystem:
    directory: /loki/chunks

limits_config:
  retention_period: 720h  # 30å¤©
```

---

## 3. é¢æ¿ä¸å‘Šè­¦

### 3.1 Grafanaæ—¥å¿—é¢æ¿

**æ—¥å¿—æŸ¥è¯¢é¢æ¿**ï¼š

```logql
# æŸ¥è¯¢PostgreSQLæ—¥å¿—
{job="postgresql", environment="production"}

# æŸ¥è¯¢é”™è¯¯æ—¥å¿—
{job="postgresql", level="ERROR"}

# æŸ¥è¯¢æ…¢æŸ¥è¯¢
{job="postgresql"} |= "duration:" | regexp `duration: (?P<duration>\d+\.\d+) ms`

# æŸ¥è¯¢ç‰¹å®šæ•°æ®åº“
{job="postgresql", database="mydb"}

# æŸ¥è¯¢ç‰¹å®šåº”ç”¨
{job="postgresql"} | json | app="my_app"
```

**æ—¥å¿—ç»Ÿè®¡é¢æ¿**ï¼š

```logql
# é”™è¯¯æ—¥å¿—ç»Ÿè®¡
sum(count_over_time({job="postgresql", level="ERROR"}[5m]))

# æ…¢æŸ¥è¯¢ç»Ÿè®¡
sum(count_over_time({job="postgresql"} |~ "duration: [5-9][0-9]{3,}" [5m]))

# æŒ‰æ•°æ®åº“åˆ†ç»„
sum by (database) (count_over_time({job="postgresql"}[5m]))
```

### 3.2 å‘Šè­¦è§„åˆ™

**Lokiå‘Šè­¦è§„åˆ™**ï¼š

```yaml
# loki-alerts.yml
groups:
  - name: postgresql_log_alerts
    interval: 30s
    rules:
      # é”™è¯¯æ—¥å¿—å‘Šè­¦
      - alert: PostgreSQLErrorLogs
        expr: |
          sum(count_over_time({job="postgresql", level="ERROR"}[5m])) > 10
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "PostgreSQLé”™è¯¯æ—¥å¿—è¿‡å¤š"
          description: "5åˆ†é’Ÿå†…é”™è¯¯æ—¥å¿—æ•°é‡: {{ $value }}"

      # æ…¢æŸ¥è¯¢å‘Šè­¦
      - alert: PostgreSQLSlowQueries
        expr: |
          sum(count_over_time({job="postgresql"} |~ "duration: [5-9][0-9]{3,}" [5m])) > 50
        for: 5m
        labels:
          severity: warning
        annotations:
          summary: "PostgreSQLæ…¢æŸ¥è¯¢è¿‡å¤š"
          description: "5åˆ†é’Ÿå†…æ…¢æŸ¥è¯¢æ•°é‡: {{ $value }}"

      # è¿æ¥å¤±è´¥å‘Šè­¦
      - alert: PostgreSQLConnectionFailures
        expr: |
          sum(count_over_time({job="postgresql"} |~ "connection.*failed" [5m])) > 5
        for: 5m
        labels:
          severity: critical
        annotations:
          summary: "PostgreSQLè¿æ¥å¤±è´¥"
          description: "5åˆ†é’Ÿå†…è¿æ¥å¤±è´¥æ¬¡æ•°: {{ $value }}"
```

### 3.3 å…³é”®æŒ‡æ ‡é¢æ¿

**è¿æ¥ç»Ÿè®¡**ï¼š

```logql
# è¿æ¥æ—¥å¿—ç»Ÿè®¡
sum by (database) (
  count_over_time({job="postgresql"} |~ "connection.*received" [5m])
)
```

**äº‹åŠ¡ç»Ÿè®¡**ï¼š

```logql
# äº‹åŠ¡æäº¤ç»Ÿè®¡
sum(count_over_time({job="postgresql"} |~ "COMMIT" [5m]))

# äº‹åŠ¡å›æ»šç»Ÿè®¡
sum(count_over_time({job="postgresql"} |~ "ROLLBACK" [5m]))
```

---

## 4. å…³è”è¿½è¸ª

### 4.1 è¯·æ±‚è¿½è¸ª

**åº”ç”¨è¿½è¸ªIDæ³¨å…¥**ï¼š

```sql
-- åœ¨åº”ç”¨ä¸­è®¾ç½®è¿½è¸ªID
SET application_name = 'my_app_v1.2.3';
SET session_preload_libraries = 'pg_tracing';

-- åœ¨è¿æ¥å­—ç¬¦ä¸²ä¸­æ³¨å…¥è¿½è¸ªID
-- postgresql://user:pass@host/db?application_name=my_app&trace_id=abc123
```

**æ—¥å¿—æ ¼å¼å¢å¼º**ï¼š

```conf
# postgresql.conf
log_line_prefix = '%m [%p] %u@%d %r %a [%a] trace_id=%X{trace_id} '
```

### 4.2 æ…¢æŸ¥è¯¢è¿½è¸ª

**æ…¢æŸ¥è¯¢æŒ‡çº¹**ï¼š

```sql
-- ç”ŸæˆæŸ¥è¯¢æŒ‡çº¹ï¼ˆç”¨äºå½’ä¸€åŒ–ï¼‰
CREATE EXTENSION IF NOT EXISTS pg_stat_statements;

-- æŸ¥çœ‹æ…¢æŸ¥è¯¢æŒ‡çº¹
SELECT
    queryid,
    LEFT(query, 200) AS query_preview,
    calls,
    mean_exec_time,
    max_exec_time
FROM pg_stat_statements
WHERE mean_exec_time > 1000  -- >1ç§’
ORDER BY total_exec_time DESC
LIMIT 20;
```

**æ…¢æŸ¥è¯¢å…³è”**ï¼š

```logql
# æŸ¥è¯¢ç‰¹å®šæ…¢æŸ¥è¯¢çš„æ—¥å¿—
{job="postgresql"} |~ "duration: [5-9][0-9]{3,}" | json | query_id="abc123"
```

### 4.3 åˆ†å¸ƒå¼è¿½è¸ª

**OpenTelemetryé›†æˆ**ï¼š

```python
# Pythonåº”ç”¨ç¤ºä¾‹
from opentelemetry import trace
from opentelemetry.instrumentation.psycopg2 import Psycopg2Instrumentor

# åˆå§‹åŒ–è¿½è¸ª
tracer = trace.get_tracer(__name__)
Psycopg2Instrumentor().instrument()

# æ‰§è¡ŒæŸ¥è¯¢ï¼ˆè‡ªåŠ¨è¿½è¸ªï¼‰
with tracer.start_as_current_span("database_query"):
    cursor.execute("SELECT * FROM documents WHERE embedding <=> %s < 0.3", (query_vec,))
```

---

## 5. æ—¥å¿—åˆ†æ

### 5.1 æ…¢æŸ¥è¯¢åˆ†æ

**æ…¢æŸ¥è¯¢æå–**ï¼š

```sql
-- ä»æ—¥å¿—ä¸­æå–æ…¢æŸ¥è¯¢
SELECT
    regexp_replace(message, '.*statement: ', '') AS query,
    regexp_replace(message, '.*duration: ([0-9.]+) ms.*', '\1')::numeric AS duration_ms
FROM pg_log
WHERE message LIKE '%duration:%'
  AND message LIKE '%statement:%'
ORDER BY duration_ms DESC
LIMIT 20;
```

**æ…¢æŸ¥è¯¢æ¨¡å¼è¯†åˆ«**ï¼š

```logql
# è¯†åˆ«æ…¢æŸ¥è¯¢æ¨¡å¼
{job="postgresql"} |~ "duration: [5-9][0-9]{3,}"
| regexp `statement: (?P<query>.*)`
| line_format "{{query}}"
```

### 5.2 é”™è¯¯æ¨¡å¼åˆ†æ

**é”™è¯¯åˆ†ç±»**ï¼š

```logql
# æŒ‰é”™è¯¯ç±»å‹åˆ†ç±»
{job="postgresql", level="ERROR"}
| regexp `(?P<error_type>\w+): (?P<error_message>.*)`
| line_format "{{error_type}}: {{error_message}}"
```

**é”™è¯¯è¶‹åŠ¿**ï¼š

```logql
# é”™è¯¯è¶‹åŠ¿åˆ†æ
sum by (error_type) (
  count_over_time({job="postgresql", level="ERROR"} [1h])
)
```

### 5.3 æ€§èƒ½è¶‹åŠ¿åˆ†æ

**æŸ¥è¯¢æ€§èƒ½è¶‹åŠ¿**ï¼š

```logql
# æŸ¥è¯¢å»¶è¿Ÿè¶‹åŠ¿
{job="postgresql"} |~ "duration:"
| regexp `duration: (?P<duration>\d+\.\d+) ms`
| line_format "{{duration}}"
```

**è¿æ¥è¶‹åŠ¿**ï¼š

```logql
# è¿æ¥æ•°è¶‹åŠ¿
sum(count_over_time({job="postgresql"} |~ "connection.*received" [5m]))
```

---

## 6. æ•…éšœè¯Šæ–­

### 6.1 æ•…éšœå®šä½æµç¨‹

**æ—¥å¿—åˆ†ææµç¨‹**ï¼š

```mermaid
graph TD
    A[æ•…éšœå‘ç”Ÿ] --> B[æŸ¥çœ‹é”™è¯¯æ—¥å¿—]
    B --> C{é”™è¯¯ç±»å‹?}
    C -->|è¿æ¥é”™è¯¯| D[æ£€æŸ¥è¿æ¥æ—¥å¿—]
    C -->|æŸ¥è¯¢é”™è¯¯| E[æ£€æŸ¥æ…¢æŸ¥è¯¢æ—¥å¿—]
    C -->|é”é”™è¯¯| F[æ£€æŸ¥é”ç­‰å¾…æ—¥å¿—]
    D --> G[å®šä½é—®é¢˜]
    E --> G
    F --> G
    G --> H[è§£å†³é—®é¢˜]
```

### 6.2 å¸¸è§æ•…éšœè¯Šæ–­

**æ•…éšœ1ï¼šè¿æ¥å¤±è´¥**

**æ—¥å¿—ç‰¹å¾**ï¼š

```
ERROR: too many connections
FATAL: remaining connection slots are reserved for roles with SUPERUSER
```

**è¯Šæ–­æ­¥éª¤**ï¼š

```sql
-- 1. æ£€æŸ¥å½“å‰è¿æ¥æ•°
SELECT count(*) FROM pg_stat_activity;

-- 2. æ£€æŸ¥è¿æ¥æ¥æº
SELECT client_addr, count(*)
FROM pg_stat_activity
GROUP BY client_addr
ORDER BY count(*) DESC;
```

**æ•…éšœ2ï¼šæ…¢æŸ¥è¯¢**

**æ—¥å¿—ç‰¹å¾**ï¼š

```
LOG: duration: 5000.123 ms statement: SELECT * FROM large_table...
```

**è¯Šæ–­æ­¥éª¤**ï¼š

```sql
-- 1. æŸ¥çœ‹æŸ¥è¯¢è®¡åˆ’
EXPLAIN (ANALYZE, BUFFERS, VERBOSE)
SELECT * FROM large_table WHERE ...;

-- 2. æ£€æŸ¥ç´¢å¼•ä½¿ç”¨
SELECT * FROM pg_stat_user_indexes
WHERE tablename = 'large_table';
```

**æ•…éšœ3ï¼šé”ç­‰å¾…**

**æ—¥å¿—ç‰¹å¾**ï¼š

```
LOG: process 12345 still waiting for ShareLock on transaction 67890 after 1000.0 ms
```

**è¯Šæ–­æ­¥éª¤**ï¼š

```sql
-- 1. æŸ¥çœ‹é”ç­‰å¾…
SELECT * FROM pg_locks WHERE NOT granted;

-- 2. æŸ¥çœ‹é˜»å¡æŸ¥è¯¢
SELECT * FROM pg_stat_activity
WHERE wait_event_type IS NOT NULL;
```

---

## 7. æœ€ä½³å®è·µ

### 7.1 æ—¥å¿—é…ç½®æœ€ä½³å®è·µ

**é…ç½®åŸåˆ™**ï¼š

- âœ… åˆç†è®¾ç½®æ—¥å¿—çº§åˆ«
- âœ… å¯ç”¨å…³é”®æ—¥å¿—ï¼ˆæ£€æŸ¥ç‚¹ã€é”ç­‰å¾…ã€æ…¢æŸ¥è¯¢ï¼‰
- âœ… ä½¿ç”¨ç»“æ„åŒ–æ—¥å¿—æ ¼å¼
- âœ… å®šæœŸè½®è½¬å’Œå½’æ¡£

**æ€§èƒ½è€ƒè™‘**ï¼š

- âš ï¸ æ—¥å¿—I/Oå¯èƒ½å½±å“æ€§èƒ½
- âš ï¸ é¿å…è¿‡åº¦æ—¥å¿—è®°å½•
- âš ï¸ ä½¿ç”¨å¼‚æ­¥æ—¥å¿—ï¼ˆå¦‚æœæ”¯æŒï¼‰

### 7.2 æ—¥å¿—é‡‡é›†æœ€ä½³å®è·µ

**é‡‡é›†ç­–ç•¥**ï¼š

- âœ… å®æ—¶é‡‡é›†ï¼ˆ<1åˆ†é’Ÿå»¶è¿Ÿï¼‰
- âœ… ç»“æ„åŒ–è§£æ
- âœ… ç´¢å¼•ä¼˜åŒ–
- âœ… ä¿ç•™ç­–ç•¥

**å­˜å‚¨ä¼˜åŒ–**ï¼š

- âœ… å‹ç¼©å­˜å‚¨
- âœ… åˆ†å±‚å­˜å‚¨ï¼ˆçƒ­/æ¸©/å†·ï¼‰
- âœ… å®šæœŸæ¸…ç†

### 7.3 å¯è§‚æµ‹æ€§æœ€ä½³å®è·µ

**ä¸‰å¤§æ”¯æŸ±**ï¼š

- âœ… **æŒ‡æ ‡ï¼ˆMetricsï¼‰**ï¼šPrometheus
- âœ… **æ—¥å¿—ï¼ˆLogsï¼‰**ï¼šLoki
- âœ… **è¿½è¸ªï¼ˆTracesï¼‰**ï¼šJaeger/Tempo

**å…³è”åˆ†æ**ï¼š

- âœ… æŒ‡æ ‡+æ—¥å¿—å…³è”
- âœ… æ—¥å¿—+è¿½è¸ªå…³è”
- âœ… ç«¯åˆ°ç«¯è¿½è¸ª

---

**æœ€åæ›´æ–°**: 2025å¹´1æœˆ
**ç»´æŠ¤è€…**: PostgreSQL Modern Team
**æ–‡æ¡£ç¼–å·**: RUNBOOK-06
