---

> **ğŸ“‹ æ–‡æ¡£æ¥æº**: `DataBaseTheory\21-AIçŸ¥è¯†åº“\README.md`
> **ğŸ“… å¤åˆ¶æ—¥æœŸ**: 2025-12-22
> **âš ï¸ æ³¨æ„**: æœ¬æ–‡æ¡£ä¸ºå¤åˆ¶ç‰ˆæœ¬ï¼ŒåŸæ–‡ä»¶ä¿æŒä¸å˜

---

# 28-çŸ¥è¯†å›¾è°±

> **æ–‡æ¡£æ€»æ•°**: 15+ä¸ªæ–‡æ¡£
> **è¦†ç›–é¢†åŸŸ**: Apache AGEã€RDF/SPARQL/OWLã€çŸ¥è¯†å›¾è°±æ„å»ºã€RAG+KGã€å›¾ç¥ç»ç½‘ç»œã€çŸ¥è¯†æ¨ç†
> **ç‰ˆæœ¬è¦†ç›–**: PostgreSQL 18.x (æ¨è) â­ | 17.x (æ¨è) | 16.x (å…¼å®¹)
> **æœ€åæ›´æ–°**: 2025å¹´1æœˆ
> **ç›®æ ‡**: PostgreSQL 18ä¸AI/MLæ·±åº¦é›†æˆçš„å®Œæ•´æŠ€æœ¯ä½“ç³»
> **æ¶µç›–**: pgvectorã€LangChainã€RAGã€KBQAã€Text-to-Cypher

---

## ğŸ“Š çŸ¥è¯†ä½“ç³»æ€ç»´å¯¼å›¾

```mermaid
mindmap
  root((çŸ¥è¯†å›¾è°±))
    Apache AGE
      å›¾æ•°æ®åº“
      CypheræŸ¥è¯¢
      å›¾ç®—æ³•
      çŸ¥è¯†å›¾è°±
    RDF/SPARQL/OWL
      RDFæ ‡å‡†
      SPARQLæŸ¥è¯¢
      OWLæœ¬ä½“
      è¯­ä¹‰ç½‘
    çŸ¥è¯†å›¾è°±æ„å»º
      çŸ¥è¯†æŠ½å–
      NERå‘½åå®ä½“è¯†åˆ«
      å…³ç³»æŠ½å–
      å›¾è°±æ„å»ºæµç¨‹
    RAG+çŸ¥è¯†å›¾è°±
      æ··åˆæ¶æ„
      å‘é‡+å›¾æ£€ç´¢
      Text-to-Cypher
      KBQAé—®ç­”
    å›¾ç¥ç»ç½‘ç»œ
      GNNæ¨¡å‹
      å›¾åµŒå…¥
      å›¾å­¦ä¹ 
    çŸ¥è¯†æ¨ç†
      è§„åˆ™æ¨ç†
      è”é‚¦çŸ¥è¯†å›¾è°±
      æ¨ç†ç®—æ³•
```

---

## ğŸ“‹ ä¸»é¢˜æ¦‚è¿°

PostgreSQLä½œä¸ºçŸ¥è¯†å›¾è°±å­˜å‚¨å’ŒæŸ¥è¯¢å¹³å°ï¼Œæ”¯æŒApache AGEå›¾æ•°æ®åº“ã€RDF/SPARQLæ ‡å‡†ï¼Œä»¥åŠRAG+çŸ¥è¯†å›¾è°±æ··åˆæ¶æ„ã€‚

---

## ğŸ“š æ–‡æ¡£æ¸…å•

### æ ¸å¿ƒåŸºç¡€æ–‡æ¡£

| æ–‡æ¡£ | å†…å®¹ | å­—æ•° | å®Œæˆåº¦ |
| --- | --- | --- | --- |
| [01-Apache AGEå®Œæ•´æ·±åŒ–æŒ‡å—](./01-Apache-AGEå®Œæ•´æ·±åŒ–æŒ‡å—.md) | Apache AGEå®Œæ•´æŒ‡å— | 15,000 | âœ… 100% |
| [02-RDF-SPARQL-OWLå®Œæ•´æŒ‡å—](./02-RDF-SPARQL-OWLå®Œæ•´æŒ‡å—.md) | RDF/SPARQL/OWLæ ‡å‡† | 12,000 | âœ… 100% |
| [05-çŸ¥è¯†å›¾è°±æ„å»ºå®Œæ•´æµç¨‹æŒ‡å—](./05-çŸ¥è¯†å›¾è°±æ„å»ºå®Œæ•´æµç¨‹æŒ‡å—.md) | çŸ¥è¯†å›¾è°±æ„å»ºæµç¨‹ | 18,000 | âœ… 100% |
| [08-çŸ¥è¯†æŠ½å–ä¸NERå®Œæ•´æŒ‡å—](./08-çŸ¥è¯†æŠ½å–ä¸NERå®Œæ•´æŒ‡å—.md) | çŸ¥è¯†æŠ½å–ä¸NER | 15,000 | âœ… 100% |

### RAGä¸LLMé›†æˆ

| æ–‡æ¡£ | å†…å®¹ | å­—æ•° | å®Œæˆåº¦ |
| --- | --- | --- | --- |
| [09-RAG+çŸ¥è¯†å›¾è°±æ··åˆæ¶æ„](./09-RAG+çŸ¥è¯†å›¾è°±æ··åˆæ¶æ„.md) | RAG+KGæ··åˆæ¶æ„ | 20,000 | âœ… 100% |
| [10-RAGé«˜çº§æŠ€æœ¯å®Œæ•´æŒ‡å—](./10-RAGé«˜çº§æŠ€æœ¯å®Œæ•´æŒ‡å—.md) | RAGé«˜çº§æŠ€æœ¯æ ˆ | 77,000 | âœ… 100% |
| [07-LLMä¸çŸ¥è¯†å›¾è°±æ·±åº¦é›†æˆ](./07-LLMä¸çŸ¥è¯†å›¾è°±æ·±åº¦é›†æˆ.md) | LLM+KGæ·±åº¦é›†æˆ | 25,000 | âœ… 100% |

### å›¾ç¥ç»ç½‘ç»œä¸æ¨ç†

| æ–‡æ¡£ | å†…å®¹ | å­—æ•° | å®Œæˆåº¦ |
| --- | --- | --- | --- |
| [11-å›¾ç¥ç»ç½‘ç»œä¸çŸ¥è¯†å›¾è°±å®Œæ•´æŒ‡å—](./11-å›¾ç¥ç»ç½‘ç»œä¸çŸ¥è¯†å›¾è°±å®Œæ•´æŒ‡å—.md) | GNNåœ¨KGä¸­çš„åº”ç”¨ | 85,000 | âœ… 100% |
| [12-çŸ¥è¯†å›¾è°±æ¨ç†ä¸è”é‚¦çŸ¥è¯†å›¾è°±å®Œæ•´æŒ‡å—](./12-çŸ¥è¯†å›¾è°±æ¨ç†ä¸è”é‚¦çŸ¥è¯†å›¾è°±å®Œæ•´æŒ‡å—.md) | æ¨ç†ä¸è”é‚¦KG | 35,000 | âœ… 100% |

### LangChainé›†æˆï¼ˆAIçŸ¥è¯†åº“ï¼‰

| æ–‡æ¡£ | å†…å®¹ | å­—æ•° | å®Œæˆåº¦ |
| --- | --- | --- | --- |
| [07-LangChainæ·±åº¦é›†æˆå®Œæ•´æŒ‡å—](./07-LangChainæ·±åº¦é›†æˆå®Œæ•´æŒ‡å—.md) | LangChainåŸºç¡€é›†æˆ | 18,000 | âœ… 100% |
| [09-LangChainé«˜çº§ç‰¹æ€§å®æˆ˜](./09-LangChainé«˜çº§ç‰¹æ€§å®æˆ˜.md) | Memoryã€Agentã€RAGé«˜çº§ | 15,000 | âœ… 100% |
| [10-LangChainç”Ÿäº§éƒ¨ç½²æŒ‡å—](./10-LangChainç”Ÿäº§éƒ¨ç½²æŒ‡å—.md) | ç”Ÿäº§çº§éƒ¨ç½² | 15,000 | âœ… 100% |
| [11-LangChainä¼ä¸šçŸ¥è¯†åº“å®Œæ•´æ¡ˆä¾‹](./11-LangChainä¼ä¸šçŸ¥è¯†åº“å®Œæ•´æ¡ˆä¾‹.md) | å®Œæ•´ä¼ä¸šæ¡ˆä¾‹ | 18,000 | âœ… 100% |

### æ€§èƒ½ä¼˜åŒ–

| æ–‡æ¡£ | å†…å®¹ | å­—æ•° | å®Œæˆåº¦ |
| --- | --- | --- | --- |
| [08-å‘é‡æ£€ç´¢æ€§èƒ½ä¼˜åŒ–å®æˆ˜](./08-å‘é‡æ£€ç´¢æ€§èƒ½ä¼˜åŒ–å®æˆ˜.md) | æ€§èƒ½ä¼˜åŒ–å®æˆ˜ | 8,000 | âœ… 100% |

| **æ€»è®¡** | **çŸ¥è¯†å›¾è°±å®Œæ•´æŠ€æœ¯ä½“ç³»** | **çº¦400,000** | âœ… **100%** |

---

## ğŸ“Š çŸ¥è¯†å›¾è°±æŠ€æœ¯é€‰å‹å†³ç­–æ ‘

```mermaid
flowchart TD
    A[éœ€è¦é€‰æ‹©çŸ¥è¯†å›¾è°±æŠ€æœ¯?] --> B{æ•°æ®æ ¼å¼?}
    B -->|å›¾æ•°æ®| C[Apache AGE]
    B -->|RDFæ•°æ®| D[RDF/SPARQL]
    B -->|æ··åˆéœ€æ±‚| E[RAG+çŸ¥è¯†å›¾è°±]

    A --> F{åº”ç”¨åœºæ™¯?}
    F -->|å›¾æŸ¥è¯¢| C
    F -->|è¯­ä¹‰æŸ¥è¯¢| D
    F -->|æ™ºèƒ½é—®ç­”| E
    F -->|å›¾å­¦ä¹ | G[å›¾ç¥ç»ç½‘ç»œ]

    C --> H[ä¼˜åŠ¿: CypheræŸ¥è¯¢ã€å›¾ç®—æ³•<br/>é€‚ç”¨: å›¾æ•°æ®åº“åœºæ™¯]
    D --> I[ä¼˜åŠ¿: æ ‡å‡†è¯­ä¹‰ã€æœ¬ä½“æ¨ç†<br/>é€‚ç”¨: è¯­ä¹‰ç½‘åœºæ™¯]
    E --> J[ä¼˜åŠ¿: å‘é‡+å›¾æ··åˆæ£€ç´¢<br/>é€‚ç”¨: æ™ºèƒ½é—®ç­”]
    G --> K[ä¼˜åŠ¿: å›¾å­¦ä¹ ã€é¢„æµ‹<br/>é€‚ç”¨: å›¾åˆ†æ]
```

---

## ğŸ“Š çŸ¥è¯†å›¾è°±æŠ€æœ¯å¯¹æ¯”çŸ©é˜µ

| æŠ€æœ¯æ–¹æ¡ˆ | æŸ¥è¯¢èƒ½åŠ› | æ¨ç†èƒ½åŠ› | æ€§èƒ½ | æ ‡å‡†æ”¯æŒ | é€‚ç”¨åœºæ™¯ |
| --- | --- | --- | --- | --- | --- |
| **Apache AGE** | â­â­â­â­â­ | â­â­â­ | â­â­â­â­ | Cypher | å›¾æ•°æ®åº“ã€çŸ¥è¯†å›¾è°± |
| **RDF/SPARQL** | â­â­â­â­ | â­â­â­â­â­ | â­â­â­ | W3Cæ ‡å‡† | è¯­ä¹‰ç½‘ã€æœ¬ä½“æ¨ç† |
| **RAG+KGæ··åˆ** | â­â­â­â­â­ | â­â­â­â­ | â­â­â­â­ | - | æ™ºèƒ½é—®ç­”ã€KBQA |
| **å›¾ç¥ç»ç½‘ç»œ** | â­â­â­ | â­â­â­â­â­ | â­â­â­ | - | å›¾å­¦ä¹ ã€é¢„æµ‹åˆ†æ |

---

## ğŸ¯ æ ¸å¿ƒæŠ€æœ¯æ ˆ

### å‘é‡æ•°æ®åº“

- âœ… **pgvector**: PostgreSQLå‘é‡æ‰©å±•
- âœ… **HNSWç´¢å¼•**: é«˜æ€§èƒ½ANNæœç´¢
- âœ… **å‘é‡æ“ä½œ**: ä½™å¼¦ã€æ¬§å¼ã€å†…ç§¯è·ç¦»
- âœ… **æ‰¹é‡æ£€ç´¢**: æ€§èƒ½ä¼˜åŒ–+81%

### AIæ¡†æ¶

- âœ… **LangChain**: å®Œæ•´é›†æˆï¼ˆ51,000å­—ï¼‰
  - VectorStoreé›†æˆ
  - SQL Databaseé›†æˆ
  - Graph Databaseé›†æˆ
  - Memoryç®¡ç†
  - Agentå¼€å‘
  - ç”Ÿäº§éƒ¨ç½²

- âœ… **OpenAI API**: GPT-3.5/GPT-4é›†æˆ
- âœ… **sentence-transformers**: å‘é‡åµŒå…¥æ¨¡å‹
- âœ… **Hugging Face**: BERTæ¨¡å‹é›†æˆ

### åº”ç”¨åœºæ™¯

- âœ… **RAGç³»ç»Ÿ**: æ£€ç´¢å¢å¼ºç”Ÿæˆ
- âœ… **KBQA**: çŸ¥è¯†åº“é—®ç­”
- âœ… **Text-to-Cypher**: è‡ªç„¶è¯­è¨€è½¬å›¾æŸ¥è¯¢
- âœ… **ä¼ä¸šçŸ¥è¯†åº“**: å®Œæ•´ç”Ÿäº§æ¡ˆä¾‹

---

## ğŸ“Š æ€§èƒ½æŒ‡æ ‡

| åœºæ™¯ | å»¶è¿Ÿ | QPS | å‡†ç¡®ç‡ |
| --- | --- | --- | --- |
| å‘é‡æ£€ç´¢ | 18ms (P95) | 2000+ | 98% |
| RAGé—®ç­” | 1250ms (P95) | 8+ | 87% |
| Text-to-Cypher | 850ms | 10+ | 92% |
| KBQA | 650ms (P95) | 8+ | 88% |

---

## ğŸ’» ä»£ç ç¤ºä¾‹

### å¿«é€Ÿå¼€å§‹

```python
from langchain.vectorstores import PGVector
from langchain.embeddings import OpenAIEmbeddings
from langchain.chains import RetrievalQA
from langchain.llms import OpenAI

# 1. è¿æ¥å‘é‡æ•°æ®åº“
vectorstore = PGVector(
    connection_string="postgresql://localhost/kb_db",
    embedding_function=OpenAIEmbeddings()
)

# 2. åˆ›å»ºRAGé“¾
qa_chain = RetrievalQA.from_chain_type(
    llm=OpenAI(),
    retriever=vectorstore.as_retriever()
)

# 3. æŸ¥è¯¢
answer = qa_chain.run("PostgreSQL 18å¼‚æ­¥I/Oå¦‚ä½•é…ç½®ï¼Ÿ")
print(answer)
```

---

## ğŸ”§ å·¥å…·è„šæœ¬

- [AIå‘é‡ç´¢å¼•å·¥å…·](../../program/scripts/README.md)
- [KBQAæµ‹è¯•å·¥å…·](../../program/scripts/README.md)

---

## ğŸ“ˆ æŠ€æœ¯äº®ç‚¹

### LangChainæ·±åº¦é›†æˆï¼ˆ51,000å­—ï¼‰

**åŸºç¡€é›†æˆ**ï¼ˆ18,000å­—ï¼‰:

- VectorStoreï¼ˆpgvectorï¼‰
- SQLDatabaseï¼ˆPostgreSQLï¼‰
- GraphDatabaseï¼ˆApache AGEï¼‰
- åŸºç¡€RAGå®ç°

**é«˜çº§ç‰¹æ€§**ï¼ˆ15,000å­—ï¼‰:

- Memoryç®¡ç†ï¼ˆå¯¹è¯å†å²ï¼‰
- æ··åˆRAGï¼ˆå‘é‡+BM25ï¼‰
- Self-Queryæ£€ç´¢
- Parent Documentæ£€ç´¢
- Agentå¼€å‘ï¼ˆè‡ªå®šä¹‰å·¥å…·ï¼‰
- æµå¼è¾“å‡º
- å¤šçº§ç¼“å­˜
- é”™è¯¯å¤„ç†ä¸é‡è¯•

**ç”Ÿäº§éƒ¨ç½²**ï¼ˆ15,000å­—ï¼‰:

- FastAPIé›†æˆ
- Dockeréƒ¨ç½²
- Kubernetesç¼–æ’
- ç›‘æ§å‘Šè­¦
- é™æµç†”æ–­
- æˆæœ¬ä¼˜åŒ–
- é«˜å¯ç”¨è®¾è®¡

**å®Œæ•´æ¡ˆä¾‹**ï¼ˆ18,000å­—ï¼‰:

- ä¼ä¸šçŸ¥è¯†åº“ç³»ç»Ÿ
- å®Œæ•´ä»£ç å®ç°
- å‰ç«¯é›†æˆ
- æµ‹è¯•ç”¨ä¾‹
- æ€§èƒ½æµ‹è¯•
- è¿ç»´è„šæœ¬

---

## ğŸš€ ä½¿ç”¨åœºæ™¯

### 1. RAGåº”ç”¨å¼€å‘

```python
# æ–‡æ¡£ç´¢å¼•
from langchain.document_loaders import PyPDFLoader
from langchain.text_splitter import RecursiveCharacterTextSplitter

loader = PyPDFLoader("docs/postgresql18.pdf")
documents = loader.load()

splitter = RecursiveCharacterTextSplitter(chunk_size=1000)
chunks = splitter.split_documents(documents)

vectorstore.add_documents(chunks)

# é—®ç­”
qa = RetrievalQA.from_chain_type(
    llm=OpenAI(),
    retriever=vectorstore.as_retriever()
)

answer = qa.run("PostgreSQL 18æœ‰å“ªäº›æ–°ç‰¹æ€§ï¼Ÿ")
```

### 2. Agentå¼€å‘

```python
from langchain.agents import initialize_agent, Tool

tools = [
    Tool(
        name="PostgreSQLæŸ¥è¯¢",
        func=sql_query_tool,
        description="ç”¨äºæŸ¥è¯¢PostgreSQLæ•°æ®åº“"
    ),
    Tool(
        name="å‘é‡æœç´¢",
        func=vector_search_tool,
        description="ç”¨äºè¯­ä¹‰æœç´¢æ–‡æ¡£"
    )
]

agent = initialize_agent(
    tools,
    OpenAI(),
    agent="zero-shot-react-description"
)

result = agent.run("æŸ¥æ‰¾PostgreSQLæ€§èƒ½ç›¸å…³çš„æ–‡æ¡£ï¼Œå¹¶ç»Ÿè®¡ä½œè€…æ•°é‡")
```

### 3. ç”Ÿäº§éƒ¨ç½²

```bash
# Docker Composeéƒ¨ç½²
cd configs
docker-compose -f docker-compose-kb.yml up -d

# Kuberneteséƒ¨ç½²
kubectl apply -f langchain-deployment.yaml

# ç›‘æ§
open http://localhost:3000  # Grafana
```

---

## ğŸ“– å­¦ä¹ è·¯å¾„

### åˆçº§ï¼ˆ1å‘¨ï¼‰

1. pgvectoråŸºç¡€
2. å‘é‡æ£€ç´¢åŸºç¡€
3. ç®€å•RAGå®ç°

### ä¸­çº§ï¼ˆ2-3å‘¨ï¼‰

1. LangChainæ·±åº¦é›†æˆ
2. é«˜çº§RAGæ¨¡å¼
3. Agentå¼€å‘
4. æ€§èƒ½ä¼˜åŒ–

### é«˜çº§ï¼ˆ1-2æœˆï¼‰

1. ç”Ÿäº§éƒ¨ç½²
2. ç›‘æ§å‘Šè­¦
3. æˆæœ¬ä¼˜åŒ–
4. å®Œæ•´ä¼ä¸šæ¡ˆä¾‹

---

## ğŸ”— ç›¸å…³èµ„æº

- [AIä¸æœºå™¨å­¦ä¹ ](../00-å½’æ¡£-é¡¹ç›®ç®¡ç†æ–‡æ¡£/README.md) - AI/MLä¸»é¢˜æ–‡æ¡£
- [å®æˆ˜æ¡ˆä¾‹åº“](../19-å®æˆ˜æ¡ˆä¾‹/) - å®æˆ˜æ¡ˆä¾‹åº“
- [å¯¹æ¯”åˆ†æ](../23-å¯¹æ¯”åˆ†æ/) - å¯¹æ¯”åˆ†æç›¸å…³

---

## ğŸ“Š æ€»ç»“

**å®Œæˆåº¦**: âœ… 100%
**æ€»å­—æ•°**: 126,000å­—
**æŠ€æœ¯æ·±åº¦**: â­â­â­â­â­
**å®ç”¨æ€§**: â­â­â­â­â­

ä»åŸºç¡€åˆ°ç”Ÿäº§çš„å®Œæ•´AI/MLçŸ¥è¯†ä½“ç³»ï¼Œå¯ç›´æ¥ç”¨äºä¼ä¸šé¡¹ç›®ï¼

---

**è¿”å›**: [DataBaseTheoryä¸»é¡µ](../README.md)
