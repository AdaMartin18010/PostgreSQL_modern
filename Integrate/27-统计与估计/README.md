# 27-统计与估计

> **文档总数**: 6个文档
> **覆盖领域**: 统计信息、代价模型、查询规划、查询优化
> **版本覆盖**: PostgreSQL 18.x (推荐) ⭐ | 17.x (推荐) | 16.x (兼容)
> **最后更新**: 2025年1月

---

## 📊 知识体系思维导图

```mermaid
mindmap
  root((统计与估计))
    统计信息
      表统计
      列统计
      索引统计
      相关性统计
    代价模型
      CPU代价
      I/O代价
      网络代价
      代价估算
    查询规划
      查询优化
      执行计划
      计划选择
      计划缓存
    PostgreSQL 18增强
      统计信息保留
      优化器改进
```

---

## 📋 主题说明

本主题整合所有PostgreSQL统计与估计相关内容，包括统计信息收集、代价模型设计、查询规划优化等。

---

## 🎯 使用建议

### 统计信息

1. 了解统计信息收集机制
2. 配置统计信息收集策略
3. 使用统计信息优化查询

### 代价模型

1. 学习代价模型原理
2. 调整代价模型参数
3. 优化查询规划

---

## 📚 文档来源

本主题整合了以下源目录的文档：

- `DataBaseTheory/15-统计与估计/`
- `PostgreSQL/02-查询处理/02.03-统计信息与代价模型.md`
- `PostgreSQL/03-查询与优化/02.03-统计信息与代价模型.md`

**原则**: 所有文档均为复制，原文件保持不变。

---

## 📊 统计信息收集决策树

```mermaid
flowchart TD
    A[需要统计信息?] --> B{数据特征?}
    B -->|数据变化快| C[频繁收集]
    B -->|数据变化慢| D[定期收集]
    B -->|大数据量| E[采样收集]

    C --> F[优势: 准确性高<br/>适用: OLTP、高频更新]
    D --> G[优势: 资源消耗低<br/>适用: OLAP、低频更新]
    E --> H[优势: 快速、高效<br/>适用: 大表、分析]
```

---

## 📊 统计信息类型对比矩阵

| 统计信息类型 | 精度 | 收集成本 | 更新频率 | 适用场景 |
| --- | --- | --- | --- | --- |
| **表统计** | ⭐⭐⭐ | ⭐⭐ | 中 | 表大小、行数 |
| **列统计** | ⭐⭐⭐⭐ | ⭐⭐⭐ | 高 | 列分布、唯一值 |
| **索引统计** | ⭐⭐⭐⭐ | ⭐⭐ | 中 | 索引选择性 |
| **相关性统计** | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐ | 低 | 多列关联 |

---

## 🔗 相关文档

- [02-查询与优化](../02-查询与优化/README.md) - 查询优化器
- [02-查询与优化/02.04-统计信息](../02-查询与优化/02.04-统计信息/) - 统计信息详细说明

---

**最后更新**: 2025年1月
**状态**: ✅ 文档整合完成
