---

> **ğŸ“‹ æ–‡æ¡£æ¥æº**: `PostgreSQL_AI\08-æœªæ¥è¶‹åŠ¿\æ‰©å±•ç”Ÿæ€å®Œå–„æ–¹å‘.md`
> **ğŸ“… å¤åˆ¶æ—¥æœŸ**: 2025-12-22
> **âš ï¸ æ³¨æ„**: æœ¬æ–‡æ¡£ä¸ºå¤åˆ¶ç‰ˆæœ¬ï¼ŒåŸæ–‡ä»¶ä¿æŒä¸å˜

---

# æ‰©å±•ç”Ÿæ€å®Œå–„æ–¹å‘

> **æ–‡æ¡£ç¼–å·**: AI-08-04
> **æœ€åæ›´æ–°**: 2025å¹´1æœˆ
> **ä¸»é¢˜**: 08-æœªæ¥è¶‹åŠ¿
> **å­ä¸»é¢˜**: 04-æ‰©å±•ç”Ÿæ€å®Œå–„æ–¹å‘

## ğŸ“‘ ç›®å½•

- [æ‰©å±•ç”Ÿæ€å®Œå–„æ–¹å‘](#æ‰©å±•ç”Ÿæ€å®Œå–„æ–¹å‘)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [ä¸€ã€æ¦‚è¿°](#ä¸€æ¦‚è¿°)
  - [äºŒã€æ‰©å±•ç”Ÿæ€æ€ç»´å¯¼å›¾](#äºŒæ‰©å±•ç”Ÿæ€æ€ç»´å¯¼å›¾)
  - [ä¸‰ã€æ–°FDWæ‰©å±•](#ä¸‰æ–°fdwæ‰©å±•)
    - [3.1 å‘é‡æ•°æ®FDW](#31-å‘é‡æ•°æ®fdw)
    - [3.2 AIæœåŠ¡FDW](#32-aiæœåŠ¡fdw)
    - [3.3 å¤šæ¨¡æ€æ•°æ®FDW](#33-å¤šæ¨¡æ€æ•°æ®fdw)
  - [å››ã€æ›´å¼ºå¤§çš„MLåŠŸèƒ½](#å››æ›´å¼ºå¤§çš„mlåŠŸèƒ½)
    - [4.1 æ·±åº¦å­¦ä¹ æ”¯æŒ](#41-æ·±åº¦å­¦ä¹ æ”¯æŒ)
    - [4.2 å¼ºåŒ–å­¦ä¹ æ”¯æŒ](#42-å¼ºåŒ–å­¦ä¹ æ”¯æŒ)
    - [4.3 è‡ªåŠ¨ML (AutoML)](#43-è‡ªåŠ¨ml-automl)
  - [äº”ã€æ·±åº¦é›†æˆAIæ¡†æ¶](#äº”æ·±åº¦é›†æˆaiæ¡†æ¶)
    - [5.1 LangChainé›†æˆ](#51-langchainé›†æˆ)
    - [5.2 LlamaIndexé›†æˆ](#52-llamaindexé›†æˆ)
    - [5.3 Hugging Faceé›†æˆ](#53-hugging-faceé›†æˆ)
  - [å…­ã€ç¤¾åŒºç”Ÿæ€å‘å±•](#å…­ç¤¾åŒºç”Ÿæ€å‘å±•)
    - [6.1 æ‰©å±•ç”Ÿæ€å›¾è°±](#61-æ‰©å±•ç”Ÿæ€å›¾è°±)
    - [6.2 ç¤¾åŒºè´¡çŒ®è¶‹åŠ¿](#62-ç¤¾åŒºè´¡çŒ®è¶‹åŠ¿)
    - [6.3 æœ€ä½³å®è·µåˆ†äº«](#63-æœ€ä½³å®è·µåˆ†äº«)
  - [ä¸ƒã€æ‰©å±•é€‰æ‹©å†³ç­–æ ‘](#ä¸ƒæ‰©å±•é€‰æ‹©å†³ç­–æ ‘)
  - [å…«ã€æ‰©å±•åŠŸèƒ½å¯¹æ¯”çŸ©é˜µ](#å…«æ‰©å±•åŠŸèƒ½å¯¹æ¯”çŸ©é˜µ)
  - [ä¹ã€å…³è”ä¸»é¢˜](#ä¹å…³è”ä¸»é¢˜)
  - [åã€å¯¹æ ‡èµ„æº](#åå¯¹æ ‡èµ„æº)
    - [æŠ€æœ¯æ–‡æ¡£](#æŠ€æœ¯æ–‡æ¡£)
    - [å¼€æºé¡¹ç›®](#å¼€æºé¡¹ç›®)

## ä¸€ã€æ¦‚è¿°

PostgreSQLæ‰©å±•ç”Ÿæ€çš„å®Œå–„æ–¹å‘åˆ†æï¼ŒåŒ…æ‹¬æ–°FDWæ‰©å±•ã€æ›´å¼ºå¤§çš„MLåŠŸèƒ½ã€æ·±åº¦é›†æˆAIæ¡†æ¶å’Œç¤¾åŒºç”Ÿæ€å‘å±•ç­‰å…³é”®æ–¹å‘ï¼Œä¸ºPostgreSQL AIç”Ÿæ€çš„æœªæ¥å‘å±•æä¾›æŒ‡å¯¼ã€‚

## äºŒã€æ‰©å±•ç”Ÿæ€æ€ç»´å¯¼å›¾

```mermaid
mindmap
  root((PostgreSQL AIæ‰©å±•ç”Ÿæ€))
    å‘é‡æ‰©å±•
      pgvector
        HNSWç´¢å¼•
        IVFFlatç´¢å¼•
        ç›¸ä¼¼åº¦è®¡ç®—
      pg_embedding
        å‘é‡å­˜å‚¨
        æ£€ç´¢ä¼˜åŒ–
    AIæ‰©å±•
      pgai
        embeddingå‡½æ•°
        chat_completeå‡½æ•°
        vectorizeråŠŸèƒ½
      pg_ai
        AIå‡½æ•°åº“
        æ¨¡å‹ç®¡ç†
    MLæ‰©å±•
      PostgresML
        ç›‘ç£å­¦ä¹ 
        æ— ç›‘ç£å­¦ä¹ 
        æ¨¡å‹è®­ç»ƒ
      pg_ml
        æ·±åº¦å­¦ä¹ 
        å¼ºåŒ–å­¦ä¹ 
    FDWæ‰©å±•
      å‘é‡æ•°æ®FDW
      AIæœåŠ¡FDW
      å¤šæ¨¡æ€FDW
    AIæ¡†æ¶é›†æˆ
      LangChain
      LlamaIndex
      Hugging Face
```

## ä¸‰ã€æ–°FDWæ‰©å±•

### 3.1 å‘é‡æ•°æ®FDW

**åŠŸèƒ½æè¿°**: é€šè¿‡FDWè®¿é—®å¤–éƒ¨å‘é‡æ•°æ®åº“

**åº”ç”¨åœºæ™¯**:

- è·¨æ•°æ®åº“å‘é‡æ£€ç´¢
- å‘é‡æ•°æ®è”é‚¦æŸ¥è¯¢
- æ··åˆå‘é‡å­˜å‚¨

**æ¶æ„è®¾è®¡**:

```mermaid
classDiagram
    class VectorFDW {
        +connect()
        +query_vectors()
        +insert_vectors()
    }
    class ExternalVectorDB {
        +Pinecone
        +Weaviate
        +Milvus
    }
    class PostgreSQL {
        +vectorç±»å‹
        +FDWæ¥å£
    }
    PostgreSQL --> VectorFDW
    VectorFDW --> ExternalVectorDB
```

**å®ç°ç¤ºä¾‹**:

```sql
-- åˆ›å»ºå‘é‡æ•°æ®FDW
CREATE EXTENSION vector_fdw;

-- åˆ›å»ºå¤–éƒ¨æœåŠ¡å™¨
CREATE SERVER pinecone_server
FOREIGN DATA WRAPPER vector_fdw
OPTIONS (
    host 'api.pinecone.io',
    api_key 'your-api-key'
);

-- åˆ›å»ºå¤–éƒ¨è¡¨
CREATE FOREIGN TABLE pinecone_vectors (
    id TEXT,
    embedding vector(1536),
    metadata JSONB
)
SERVER pinecone_server
OPTIONS (
    index_name 'my-index'
);

-- æŸ¥è¯¢å¤–éƒ¨å‘é‡æ•°æ®
SELECT * FROM pinecone_vectors
WHERE embedding <=> query_vector < 0.8
ORDER BY embedding <=> query_vector
LIMIT 10;
```

### 3.2 AIæœåŠ¡FDW

**åŠŸèƒ½æè¿°**: é€šè¿‡FDWè®¿é—®å¤–éƒ¨AIæœåŠ¡

**åº”ç”¨åœºæ™¯**:

- OpenAI APIé›†æˆ
- Anthropic APIé›†æˆ
- æœ¬åœ°AIæ¨¡å‹æœåŠ¡

**æ¶æ„è®¾è®¡**:

```mermaid
graph LR
    A[PostgreSQL] --> B[AIæœåŠ¡FDW]
    B --> C[OpenAI API]
    B --> D[Anthropic API]
    B --> E[æœ¬åœ°AIæœåŠ¡]
    C --> F[GPT-4]
    D --> G[Claude]
    E --> H[Ollama]
```

**å®ç°ç¤ºä¾‹**:

```sql
-- åˆ›å»ºAIæœåŠ¡FDW
CREATE EXTENSION ai_service_fdw;

-- åˆ›å»ºå¤–éƒ¨æœåŠ¡å™¨
CREATE SERVER openai_server
FOREIGN DATA WRAPPER ai_service_fdw
OPTIONS (
    provider 'openai',
    api_key 'your-api-key'
);

-- åˆ›å»ºå¤–éƒ¨å‡½æ•°
CREATE FOREIGN FUNCTION ai_complete(
    model TEXT,
    prompt TEXT
)
RETURNS TEXT
SERVER openai_server
OPTIONS (
    endpoint 'chat/completions'
);

-- ä½¿ç”¨AIæœåŠ¡
SELECT ai_complete('gpt-4', 'What is PostgreSQL?');
```

### 3.3 å¤šæ¨¡æ€æ•°æ®FDW

**åŠŸèƒ½æè¿°**: é€šè¿‡FDWè®¿é—®å¤šæ¨¡æ€æ•°æ®æº

**åº”ç”¨åœºæ™¯**:

- å›¾åƒæ•°æ®è®¿é—®
- éŸ³é¢‘æ•°æ®è®¿é—®
- è§†é¢‘æ•°æ®è®¿é—®

**å®ç°ç¤ºä¾‹**:

```sql
-- åˆ›å»ºå¤šæ¨¡æ€FDW
CREATE EXTENSION multimodal_fdw;

-- åˆ›å»ºå›¾åƒæ•°æ®å¤–éƒ¨è¡¨
CREATE FOREIGN TABLE image_data (
    id TEXT,
    image_url TEXT,
    embedding vector(512),
    metadata JSONB
)
SERVER s3_server
OPTIONS (
    bucket 'my-images',
    region 'us-east-1'
);

-- æŸ¥è¯¢å›¾åƒæ•°æ®
SELECT * FROM image_data
WHERE embedding <=> query_embedding < 0.8;
```

## å››ã€æ›´å¼ºå¤§çš„MLåŠŸèƒ½

### 4.1 æ·±åº¦å­¦ä¹ æ”¯æŒ

**å‘å±•è¶‹åŠ¿**:

| é˜¶æ®µ | æ—¶é—´ | åŠŸèƒ½ | çŠ¶æ€ |
|------|:----:|:----|:----|
| **åŸºç¡€æ”¯æŒ** | å½“å‰ | ç®€å•ç¥ç»ç½‘ç»œ | âœ… |
| **æ‰©å±•æ”¯æŒ** | 1å¹´ | å·ç§¯ç¥ç»ç½‘ç»œ | â³ |
| **å®Œæ•´æ”¯æŒ** | 2å¹´ | Transformeræ¨¡å‹ | â³ |
| **ä¼˜åŒ–æ”¯æŒ** | 3å¹´ | GPUåŠ é€Ÿè®­ç»ƒ | â³ |

**å®ç°ç¤ºä¾‹**:

```sql
-- æœªæ¥å¯èƒ½çš„æ·±åº¦å­¦ä¹ è¯­æ³•
CREATE ML MODEL image_classifier
USING algorithm('deep_learning')
WITH (
    architecture = 'resnet50',
    pretrained = true,
    gpu_enabled = true
);

-- è®­ç»ƒæ¨¡å‹
SELECT train_model(
    'image_classifier',
    features = ARRAY['image_vector'],
    target = 'category',
    epochs = 100
);

-- é¢„æµ‹
SELECT predict('image_classifier', image_vector) AS category
FROM images;
```

### 4.2 å¼ºåŒ–å­¦ä¹ æ”¯æŒ

**åº”ç”¨åœºæ™¯**:

- æŸ¥è¯¢ä¼˜åŒ–ç­–ç•¥å­¦ä¹ 
- ç´¢å¼•é€‰æ‹©ç­–ç•¥å­¦ä¹ 
- ç¼“å­˜ç­–ç•¥ä¼˜åŒ–

**å®ç°ç¤ºä¾‹**:

```sql
-- æœªæ¥å¯èƒ½çš„å¼ºåŒ–å­¦ä¹ è¯­æ³•
CREATE RL AGENT query_optimizer
USING algorithm('ppo')
WITH (
    state_space = 'query_features',
    action_space = 'optimization_strategies',
    reward_function = 'query_performance'
);

-- è®­ç»ƒAgent
SELECT train_agent(
    'query_optimizer',
    episodes = 10000
);

-- ä½¿ç”¨Agentä¼˜åŒ–æŸ¥è¯¢
SELECT * FROM documents
WHERE query_optimizer.optimize(query_vector);
```

### 4.3 è‡ªåŠ¨ML (AutoML)

**åŠŸèƒ½æè¿°**: è‡ªåŠ¨é€‰æ‹©æœ€ä¼˜MLç®—æ³•å’Œå‚æ•°

**å®ç°ç¤ºä¾‹**:

```sql
-- æœªæ¥å¯èƒ½çš„AutoMLè¯­æ³•
CREATE ML MODEL auto_model
USING automl(
    target = 'revenue',
    max_trials = 100,
    time_budget = '1 hour'
);

-- è‡ªåŠ¨è®­ç»ƒå’Œé€‰æ‹©
SELECT train_automl('auto_model', training_data);

-- æŸ¥çœ‹æœ€ä½³æ¨¡å‹
SELECT * FROM automl_models
WHERE model_id = 'auto_model'
ORDER BY performance_score DESC
LIMIT 1;
```

## äº”ã€æ·±åº¦é›†æˆAIæ¡†æ¶

### 5.1 LangChainé›†æˆ

**é›†æˆæ–¹å¼**:

```mermaid
graph TD
    A[LangChainåº”ç”¨] --> B[PostgreSQL Vector Store]
    A --> C[PostgreSQL Memory]
    B --> D[pgvector]
    C --> E[PostgreSQLè¡¨]
    A --> F[PostgreSQL Agent]
    F --> G[SQLæŸ¥è¯¢]
    F --> H[å‘é‡æ£€ç´¢]
```

**å®ç°ç¤ºä¾‹**:

```python
from langchain.vectorstores import PGVector
from langchain.embeddings import OpenAIEmbeddings

# ä½¿ç”¨PostgreSQLä½œä¸ºå‘é‡å­˜å‚¨
vectorstore = PGVector(
    connection_string="postgresql://...",
    embedding_function=OpenAIEmbeddings(),
    collection_name="documents"
)

# å‘é‡æ£€ç´¢
docs = vectorstore.similarity_search("PostgreSQL AI", k=5)
```

### 5.2 LlamaIndexé›†æˆ

**é›†æˆæ–¹å¼**:

```mermaid
graph LR
    A[LlamaIndex] --> B[PostgreSQL Vector Store]
    A --> C[PostgreSQL Document Store]
    B --> D[pgvector]
    C --> E[PostgreSQLè¡¨]
```

**å®ç°ç¤ºä¾‹**:

```python
from llama_index.vector_stores import PGVectorStore
from llama_index import VectorStoreIndex

# ä½¿ç”¨PostgreSQLä½œä¸ºå‘é‡å­˜å‚¨
vector_store = PGVectorStore(
    connection_string="postgresql://...",
    table_name="documents"
)

# åˆ›å»ºç´¢å¼•
index = VectorStoreIndex.from_vector_store(vector_store)

# æŸ¥è¯¢
query_engine = index.as_query_engine()
response = query_engine.query("What is PostgreSQL?")
```

### 5.3 Hugging Faceé›†æˆ

**é›†æˆæ–¹å¼**:

```mermaid
graph TD
    A[Hugging Face Models] --> B[PostgreSQL]
    B --> C[æ¨¡å‹å­˜å‚¨]
    B --> D[æ¨¡å‹æ¨ç†]
    C --> E[PostgresML]
    D --> F[pgai]
```

**å®ç°ç¤ºä¾‹**:

```sql
-- ä½¿ç”¨Hugging Faceæ¨¡å‹
SELECT ai.embedding(
    model = 'sentence-transformers/all-MiniLM-L6-v2',
    text = 'PostgreSQL AI'
);

-- åŠ è½½Hugging Faceæ¨¡å‹åˆ°PostgresML
SELECT pgml.load_model(
    model_name = 'bert-base-uncased',
    source = 'huggingface'
);
```

## å…­ã€ç¤¾åŒºç”Ÿæ€å‘å±•

### 6.1 æ‰©å±•ç”Ÿæ€å›¾è°±

**æ‰©å±•åˆ†ç±»**:

```mermaid
mindmap
  root((PostgreSQLæ‰©å±•ç”Ÿæ€))
    å‘é‡æ‰©å±•
      pgvector
      pg_embedding
      pg_ivfflat
    AIæ‰©å±•
      pgai
      pg_ai
      pg_openai
    MLæ‰©å±•
      PostgresML
      pg_ml
      pg_torch
    FDWæ‰©å±•
      vector_fdw
      ai_service_fdw
      multimodal_fdw
    å·¥å…·æ‰©å±•
      pg_cron
      pg_stat_statements
      pg_audit
```

### 6.2 ç¤¾åŒºè´¡çŒ®è¶‹åŠ¿

**å‘å±•è¶‹åŠ¿**:

| æŒ‡æ ‡ | 2024å¹´ | 2025å¹´é¢„æµ‹ | è¶‹åŠ¿ |
|------|:------:|:----------:|:----|
| **GitHub Stars** | 15,000+ | 25,000+ | â†—ï¸ ä¸Šå‡ |
| **Contributors** | 1,000+ | 2,000+ | â†—ï¸ ä¸Šå‡ |
| **æ‰©å±•æ•°é‡** | 200+ | 300+ | â†—ï¸ ä¸Šå‡ |
| **AIç›¸å…³æ‰©å±•** | 20+ | 50+ | â†—ï¸ å¤§å¹…ä¸Šå‡ |

### 6.3 æœ€ä½³å®è·µåˆ†äº«

**ç¤¾åŒºèµ„æº**:

- PostgreSQL Wiki
- æŠ€æœ¯åšå®¢
- ä¼šè®®æ¼”è®²
- å¼€æºé¡¹ç›®

## ä¸ƒã€æ‰©å±•é€‰æ‹©å†³ç­–æ ‘

```mermaid
flowchart TD
    A[éœ€è¦ä»€ä¹ˆåŠŸèƒ½?] --> B{å‘é‡æ£€ç´¢?}
    A --> C{AIè°ƒç”¨?}
    A --> D{MLè®­ç»ƒ?}
    A --> E{å¤–éƒ¨æ•°æ®?}

    B -->|æ˜¯| F[ä½¿ç”¨pgvector]
    B -->|å¤§è§„æ¨¡| G[ä½¿ç”¨pg_embedding]

    C -->|æ˜¯| H[ä½¿ç”¨pgai]
    C -->|é«˜çº§åŠŸèƒ½| I[ä½¿ç”¨pg_ai]

    D -->|æ˜¯| J[ä½¿ç”¨PostgresML]
    D -->|æ·±åº¦å­¦ä¹ | K[ä½¿ç”¨pg_ml]

    E -->|å‘é‡æ•°æ®| L[ä½¿ç”¨vector_fdw]
    E -->|AIæœåŠ¡| M[ä½¿ç”¨ai_service_fdw]

    F --> N[é€‰æ‹©ç´¢å¼•ç±»å‹]
    N -->|å°è§„æ¨¡| O[HNSWç´¢å¼•]
    N -->|å¤§è§„æ¨¡| P[IVFFlatç´¢å¼•]
```

## å…«ã€æ‰©å±•åŠŸèƒ½å¯¹æ¯”çŸ©é˜µ

| æ‰©å±• | å‘é‡æ£€ç´¢ | AIè°ƒç”¨ | MLè®­ç»ƒ | FDWæ”¯æŒ | ç¤¾åŒºæ´»è·ƒåº¦ |
|------|:--------:|:------:|:------:|:-------:|:----------|
| **pgvector** | â­â­â­â­â­ | âŒ | âŒ | âŒ | â­â­â­â­â­ |
| **pgai** | âš ï¸ | â­â­â­â­â­ | âŒ | âŒ | â­â­â­â­ |
| **PostgresML** | âŒ | âŒ | â­â­â­â­â­ | âŒ | â­â­â­â­ |
| **vector_fdw** | â­â­â­â­ | âŒ | âŒ | â­â­â­â­â­ | â­â­â­ |
| **pg_ml** | âŒ | âŒ | â­â­â­â­ | âŒ | â­â­â­ |

## ä¹ã€å…³è”ä¸»é¢˜

- [æŠ€æœ¯å‘å±•è¶‹åŠ¿](./æŠ€æœ¯å‘å±•è¶‹åŠ¿.md) - æ•´ä½“è¶‹åŠ¿åˆ†æ
- [02-æŠ€æœ¯æ¶æ„](../02-æŠ€æœ¯æ¶æ„/) - æ¶æ„è®¾è®¡
- [03-æ ¸å¿ƒèƒ½åŠ›](../03-æ ¸å¿ƒèƒ½åŠ›/) - èƒ½åŠ›å®ç°

## åã€å¯¹æ ‡èµ„æº

### æŠ€æœ¯æ–‡æ¡£

- [PostgreSQLæ‰©å±•æ–‡æ¡£](https://www.postgresql.org/docs/current/extend.html)
- [FDWå¼€å‘æ–‡æ¡£](https://www.postgresql.org/docs/current/fdwhandler.html)
- [LangChainæ–‡æ¡£](https://python.langchain.com/)
- [LlamaIndexæ–‡æ¡£](https://docs.llamaindex.ai/)

### å¼€æºé¡¹ç›®

- [pgvector GitHub](https://github.com/pgvector/pgvector)
- [PostgresML GitHub](https://github.com/postgresml/postgresml)
- [pgai GitHub](https://github.com/pgai/pgai)

---

**æœ€åæ›´æ–°**: 2025å¹´1æœˆ
**ç»´æŠ¤è€…**: PostgreSQL Modern Team
**æ–‡æ¡£ç¼–å·**: AI-08-04
