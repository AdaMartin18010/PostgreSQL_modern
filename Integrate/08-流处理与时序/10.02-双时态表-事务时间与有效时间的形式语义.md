---

> **ğŸ“‹ æ–‡æ¡£æ¥æº**: `DataBaseTheory\10-æµå¤„ç†ä¸æ—¶åº\10.02-åŒæ—¶æ€è¡¨-äº‹åŠ¡æ—¶é—´ä¸æœ‰æ•ˆæ—¶é—´çš„å½¢å¼è¯­ä¹‰.md`
> **ğŸ“… å¤åˆ¶æ—¥æœŸ**: 2025-12-22
> **âš ï¸ æ³¨æ„**: æœ¬æ–‡æ¡£ä¸ºå¤åˆ¶ç‰ˆæœ¬ï¼ŒåŸæ–‡ä»¶ä¿æŒä¸å˜

---

# åŒæ—¶æ€è¡¨-äº‹åŠ¡æ—¶é—´ä¸æœ‰æ•ˆæ—¶é—´çš„å½¢å¼è¯­ä¹‰

> **æ–‡æ¡£ç‰ˆæœ¬**: v1.0
> **æœ€åæ›´æ–°**: 2025-01-16
> **ç‰ˆæœ¬è¦†ç›–**: PostgreSQL 18.x (æ¨è) â­ | 17.x (æ¨è) | 16.x (å…¼å®¹)
> **æ–‡æ¡£çŠ¶æ€**: âœ… å†…å®¹å·²å®Œæˆ

---

## ğŸ“‹ ç›®å½•

- [åŒæ—¶æ€è¡¨-äº‹åŠ¡æ—¶é—´ä¸æœ‰æ•ˆæ—¶é—´çš„å½¢å¼è¯­ä¹‰](#åŒæ—¶æ€è¡¨-äº‹åŠ¡æ—¶é—´ä¸æœ‰æ•ˆæ—¶é—´çš„å½¢å¼è¯­ä¹‰)
  - [ğŸ“‹ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
    - [1.1 åŸºæœ¬æ¦‚å¿µ](#11-åŸºæœ¬æ¦‚å¿µ)
    - [1.2 æœ¬æ–‡æ¡£çš„èŒƒå›´](#12-æœ¬æ–‡æ¡£çš„èŒƒå›´)
  - [2. æ ¸å¿ƒå†…å®¹](#2-æ ¸å¿ƒå†…å®¹)
    - [2.1 æ—¶æ€æ•°æ®æ¨¡å‹](#21-æ—¶æ€æ•°æ®æ¨¡å‹)
      - [2.1.1 å•æ—¶æ€è¡¨](#211-å•æ—¶æ€è¡¨)
      - [2.1.2 åŒæ—¶æ€è¡¨](#212-åŒæ—¶æ€è¡¨)
    - [2.2 æ—¶æ€æ“ä½œ](#22-æ—¶æ€æ“ä½œ)
  - [3. å½¢å¼åŒ–å®šä¹‰](#3-å½¢å¼åŒ–å®šä¹‰)
    - [3.1 åŸºæœ¬ç¬¦å·](#31-åŸºæœ¬ç¬¦å·)
    - [3.2 æ—¶æ€å…³ç³»](#32-æ—¶æ€å…³ç³»)
    - [3.3 æ—¶æ€æŸ¥è¯¢](#33-æ—¶æ€æŸ¥è¯¢)
    - [3.4 æ—¶æ€æ“ä½œ](#34-æ—¶æ€æ“ä½œ)
  - [4. å®šç†ä¸è¯æ˜](#4-å®šç†ä¸è¯æ˜)
    - [4.1 æ—¶æ€ä¸€è‡´æ€§å®šç†](#41-æ—¶æ€ä¸€è‡´æ€§å®šç†)
    - [4.2 æ—¶æ€å®Œæ•´æ€§å®šç†](#42-æ—¶æ€å®Œæ•´æ€§å®šç†)
    - [4.3 æ—¶æ€æ“ä½œæ­£ç¡®æ€§å®šç†](#43-æ—¶æ€æ“ä½œæ­£ç¡®æ€§å®šç†)
  - [5. å®é™…åº”ç”¨](#5-å®é™…åº”ç”¨)
    - [5.1 PostgreSQLä¸­çš„æ—¶æ€è¡¨](#51-postgresqlä¸­çš„æ—¶æ€è¡¨)
    - [5.2 åŒæ—¶æ€è¡¨å®ç°](#52-åŒæ—¶æ€è¡¨å®ç°)
    - [5.3 å®é™…åº”ç”¨åœºæ™¯](#53-å®é™…åº”ç”¨åœºæ™¯)
      - [åœºæ™¯1ï¼šå®¡è®¡è¿½è¸ªç³»ç»Ÿ](#åœºæ™¯1å®¡è®¡è¿½è¸ªç³»ç»Ÿ)
      - [åœºæ™¯2ï¼šåˆè§„æ€§æŸ¥è¯¢](#åœºæ™¯2åˆè§„æ€§æŸ¥è¯¢)
  - [6. ç›¸å…³æ–‡æ¡£](#6-ç›¸å…³æ–‡æ¡£)
    - [6.1 ç†è®ºåŸºç¡€æ–‡æ¡£](#61-ç†è®ºåŸºç¡€æ–‡æ¡£)
  - [7. å‚è€ƒæ–‡çŒ®](#7-å‚è€ƒæ–‡çŒ®)
    - [7.1 ç»å…¸è®ºæ–‡](#71-ç»å…¸è®ºæ–‡)
    - [7.2 SQLæ ‡å‡†](#72-sqlæ ‡å‡†)
    - [7.3 PostgreSQLæ–‡æ¡£](#73-postgresqlæ–‡æ¡£)

---

## 1. æ¦‚è¿°

åŒæ—¶æ€è¡¨ï¼ˆBitemporal Tableï¼‰æ˜¯æ—¶æ€æ•°æ®åº“çš„æ ¸å¿ƒæ¦‚å¿µï¼Œå®ƒåŒæ—¶è®°å½•äº‹åŠ¡æ—¶é—´ï¼ˆTransaction Timeï¼‰å’Œæœ‰æ•ˆæ—¶é—´ï¼ˆValid Timeï¼‰ä¸¤ä¸ªæ—¶é—´ç»´åº¦ã€‚æœ¬æ–‡æ¡£æä¾›åŒæ—¶æ€è¡¨çš„å½¢å¼åŒ–è¯­ä¹‰å’Œç†è®ºåŸºç¡€ã€‚

### 1.1 åŸºæœ¬æ¦‚å¿µ

**æ—¶é—´ç»´åº¦**ï¼š

1. **äº‹åŠ¡æ—¶é—´ï¼ˆTransaction Timeï¼‰**ï¼š
   - æ•°æ®åœ¨æ•°æ®åº“ä¸­å­˜åœ¨çš„æ—¶é—´
   - ç”±æ•°æ®åº“ç³»ç»Ÿè‡ªåŠ¨ç®¡ç†
   - åªèƒ½å‘å‰æ¨è¿›ï¼Œä¸èƒ½ä¿®æ”¹

2. **æœ‰æ•ˆæ—¶é—´ï¼ˆValid Timeï¼‰**ï¼š
   - æ•°æ®åœ¨ç°å®ä¸–ç•Œä¸­æœ‰æ•ˆçš„æ—¶é—´
   - ç”±åº”ç”¨å±‚ç®¡ç†
   - å¯ä»¥ä¿®æ”¹å’Œå›æº¯

**åŒæ—¶æ€è¡¨**ï¼š

åŒæ—¶æ€è¡¨åŒæ—¶è®°å½•äº‹åŠ¡æ—¶é—´å’Œæœ‰æ•ˆæ—¶é—´ï¼Œæä¾›å®Œæ•´çš„æ—¶é—´ç»´åº¦ä¿¡æ¯ã€‚

### 1.2 æœ¬æ–‡æ¡£çš„èŒƒå›´

æœ¬æ–‡æ¡£æ¶µç›–ï¼š

- åŒæ—¶æ€è¡¨çš„å½¢å¼åŒ–å®šä¹‰
- äº‹åŠ¡æ—¶é—´å’Œæœ‰æ•ˆæ—¶é—´çš„è¯­ä¹‰
- åŒæ—¶æ€æŸ¥è¯¢çš„å½¢å¼åŒ–
- åŒæ—¶æ€æ“ä½œçš„æ­£ç¡®æ€§è¯æ˜
- åŒæ—¶æ€è¡¨åœ¨PostgreSQLä¸­çš„å®ç°

---

## 2. æ ¸å¿ƒå†…å®¹

### 2.1 æ—¶æ€æ•°æ®æ¨¡å‹

#### 2.1.1 å•æ—¶æ€è¡¨

**äº‹åŠ¡æ—¶æ€è¡¨ï¼ˆTransaction-Time Tableï¼‰**ï¼š

åªè®°å½•äº‹åŠ¡æ—¶é—´ï¼Œç”¨äºè®°å½•æ•°æ®åœ¨æ•°æ®åº“ä¸­çš„å†å²ã€‚

**æœ‰æ•ˆæ—¶æ€è¡¨ï¼ˆValid-Time Tableï¼‰**ï¼š

åªè®°å½•æœ‰æ•ˆæ—¶é—´ï¼Œç”¨äºè®°å½•æ•°æ®åœ¨ç°å®ä¸–ç•Œä¸­çš„å†å²ã€‚

#### 2.1.2 åŒæ—¶æ€è¡¨

**åŒæ—¶æ€è¡¨ï¼ˆBitemporal Tableï¼‰**ï¼š

åŒæ—¶è®°å½•äº‹åŠ¡æ—¶é—´å’Œæœ‰æ•ˆæ—¶é—´ï¼Œæä¾›å®Œæ•´çš„æ—¶é—´ç»´åº¦ä¿¡æ¯ã€‚

**ç¤ºä¾‹**ï¼š

```sql
-- åŒæ—¶æ€è¡¨ç»“æ„ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰
DO $$
BEGIN
    IF EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'employee_salary') THEN
        DROP TABLE employee_salary;
        RAISE NOTICE 'å·²åˆ é™¤ç°æœ‰è¡¨: employee_salary';
    END IF;

    CREATE TABLE employee_salary (
        employee_id INTEGER,
        salary DECIMAL(10,2),
        -- æœ‰æ•ˆæ—¶é—´
        valid_from TIMESTAMP,
        valid_to TIMESTAMP,
        -- äº‹åŠ¡æ—¶é—´
        transaction_start TIMESTAMP,
        transaction_end TIMESTAMP
    );

    RAISE NOTICE 'è¡¨åˆ›å»ºæˆåŠŸ: employee_salary';
EXCEPTION
    WHEN duplicate_table THEN
        RAISE WARNING 'è¡¨employee_salaryå·²å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE EXCEPTION 'åˆ›å»ºè¡¨å¤±è´¥: %', SQLERRM;
END $$;
```

### 2.2 æ—¶æ€æ“ä½œ

**æ—¶æ€æ’å…¥**ï¼š

æ’å…¥æ–°è®°å½•æ—¶ï¼Œè®¾ç½®æœ‰æ•ˆæ—¶é—´å’Œäº‹åŠ¡æ—¶é—´ã€‚

**æ—¶æ€æ›´æ–°**ï¼š

æ›´æ–°è®°å½•æ—¶ï¼Œå…³é—­æ—§ç‰ˆæœ¬ï¼Œåˆ›å»ºæ–°ç‰ˆæœ¬ã€‚

**æ—¶æ€åˆ é™¤**ï¼š

åˆ é™¤è®°å½•æ—¶ï¼Œè®¾ç½®äº‹åŠ¡ç»“æŸæ—¶é—´ã€‚

---

## 3. å½¢å¼åŒ–å®šä¹‰

### 3.1 åŸºæœ¬ç¬¦å·

```latex
% æ—¶é—´åŸŸ
\mathcal{T} = \text{æ—¶é—´æˆ³é›†åˆ}

% æ•°æ®åŸŸ
\mathcal{D} = \{d_1, d_2, \ldots, d_n\}  % æ•°æ®é¡¹é›†åˆ

% æ—¶æ€å…ƒç»„
\text{TemporalTuple} = (d, vt, tt)

å…¶ä¸­ï¼š
- d \in \mathcal{D}: æ•°æ®é¡¹
- vt = [vt_{start}, vt_{end}): æœ‰æ•ˆæ—¶é—´åŒºé—´
- tt = [tt_{start}, tt_{end}): äº‹åŠ¡æ—¶é—´åŒºé—´
```

### 3.2 æ—¶æ€å…³ç³»

**å®šä¹‰ 3.1ï¼ˆæ—¶æ€å…³ç³»ï¼‰**ï¼š

æ—¶æ€å…³ç³»Ræ˜¯ä¸€ä¸ªæ—¶æ€å…ƒç»„çš„é›†åˆï¼š

```latex
R \subseteq \mathcal{D} \times \mathcal{T} \times \mathcal{T} \times \mathcal{T} \times \mathcal{T}
```

**æ—¶æ€å…ƒç»„è¡¨ç¤º**ï¼š

```latex
(d, vt_{start}, vt_{end}, tt_{start}, tt_{end}) \in R
```

è¡¨ç¤ºï¼š

- æ•°æ®é¡¹d
- åœ¨æœ‰æ•ˆæ—¶é—´åŒºé—´[vt_{start}, vt_{end})å†…æœ‰æ•ˆ
- åœ¨äº‹åŠ¡æ—¶é—´åŒºé—´[tt_{start}, tt_{end})å†…å­˜åœ¨äºæ•°æ®åº“ä¸­

### 3.3 æ—¶æ€æŸ¥è¯¢

**å®šä¹‰ 3.2ï¼ˆæ—¶æ€å¿«ç…§ï¼‰**ï¼š

åœ¨äº‹åŠ¡æ—¶é—´t_tå’Œæœ‰æ•ˆæ—¶é—´t_vçš„æ—¶æ€å¿«ç…§ï¼š

```latex
\text{Snapshot}(R, t_t, t_v) = \{
    d | (d, vt_{start}, vt_{end}, tt_{start}, tt_{end}) \in R \land
    t_t \in [tt_{start}, tt_{end}) \land
    t_v \in [vt_{start}, vt_{end})
\}
```

**å®šä¹‰ 3.3ï¼ˆAS OFæŸ¥è¯¢ï¼‰**ï¼š

åœ¨äº‹åŠ¡æ—¶é—´t_tæŸ¥è¯¢æœ‰æ•ˆæ—¶é—´t_vçš„æ•°æ®ï¼š

```latex
\text{AS\_OF}(R, t_t, t_v) = \text{Snapshot}(R, t_t, t_v)
```

**å®šä¹‰ 3.4ï¼ˆBETWEENæŸ¥è¯¢ï¼‰**ï¼š

æŸ¥è¯¢äº‹åŠ¡æ—¶é—´åŒºé—´[t_{t1}, t_{t2})å’Œæœ‰æ•ˆæ—¶é—´åŒºé—´[t_{v1}, t_{v2})çš„æ•°æ®ï¼š

```latex
\text{BETWEEN}(R, t_{t1}, t_{t2}, t_{v1}, t_{v2}) = \{
    d | (d, vt_{start}, vt_{end}, tt_{start}, tt_{end}) \in R \land
    [tt_{start}, tt_{end}) \cap [t_{t1}, t_{t2}) \neq \emptyset \land
    [vt_{start}, vt_{end}) \cap [t_{v1}, t_{v2}) \neq \emptyset
\}
```

### 3.4 æ—¶æ€æ“ä½œ

**å®šä¹‰ 3.5ï¼ˆæ—¶æ€æ’å…¥ï¼‰**ï¼š

åœ¨äº‹åŠ¡æ—¶é—´t_tæ’å…¥æœ‰æ•ˆæ—¶é—´åŒºé—´[vt_{start}, vt_{end})çš„æ•°æ®dï¼š

```latex
\text{INSERT}(R, d, vt_{start}, vt_{end}, t_t) = R \cup \{
    (d, vt_{start}, vt_{end}, t_t, \infty)
\}
```

**å®šä¹‰ 3.6ï¼ˆæ—¶æ€æ›´æ–°ï¼‰**ï¼š

åœ¨äº‹åŠ¡æ—¶é—´t_tæ›´æ–°æ•°æ®dçš„æœ‰æ•ˆæ—¶é—´ï¼š

```latex
\text{UPDATE}(R, d, vt_{old\_start}, vt_{old\_end}, vt_{new\_start}, vt_{new\_end}, t_t) =
    (R \setminus \{(d, vt_{old\_start}, vt_{old\_end}, tt_{start}, \infty)\}) \cup
    \{(d, vt_{old\_start}, vt_{old\_end}, tt_{start}, t_t)\} \cup
    \{(d, vt_{new\_start}, vt_{new\_end}, t_t, \infty)\}
```

**å®šä¹‰ 3.7ï¼ˆæ—¶æ€åˆ é™¤ï¼‰**ï¼š

åœ¨äº‹åŠ¡æ—¶é—´t_tåˆ é™¤æ•°æ®dï¼š

```latex
\text{DELETE}(R, d, t_t) =
    (R \setminus \{(d, vt_{start}, vt_{end}, tt_{start}, \infty)\}) \cup
    \{(d, vt_{start}, vt_{end}, tt_{start}, t_t)\}
```

---

## 4. å®šç†ä¸è¯æ˜

### 4.1 æ—¶æ€ä¸€è‡´æ€§å®šç†

**å®šç†1ï¼ˆæ—¶æ€ä¸€è‡´æ€§ï¼‰**ï¼š

å¯¹äºä»»æ„æ—¶æ€å…³ç³»Rå’Œäº‹åŠ¡æ—¶é—´t_tï¼Œåœ¨t_tçš„æ—¶æ€å¿«ç…§æ˜¯ä¸€è‡´çš„ï¼Œå³å¿«ç…§ä¸­çš„æ‰€æœ‰å…ƒç»„åœ¨t_tæ—¶åˆ»éƒ½æ˜¯æœ‰æ•ˆçš„ï¼Œä¸”ä¸å­˜åœ¨å†²çªã€‚

**å½¢å¼åŒ–è¡¨è¿°**ï¼š

è®¾æ—¶æ€å…³ç³»Rï¼Œäº‹åŠ¡æ—¶é—´t_tã€‚åˆ™ï¼š

```text
âˆ€t_t âˆˆ T: Consistent(Snapshot(R, t_t, Â·))
```

**è¯æ˜**ï¼š

**æ­¥éª¤1ï¼šå¿«ç…§å®šä¹‰**ï¼š

- æ—¶æ€å¿«ç…§åªåŒ…å«åœ¨äº‹åŠ¡æ—¶é—´t_tå­˜åœ¨çš„å…ƒç»„
- æ¯ä¸ªå…ƒç»„çš„äº‹åŠ¡æ—¶é—´åŒºé—´[tt_start, tt_end)åŒ…å«t_t

**æ­¥éª¤2ï¼šä¸€è‡´æ€§æ¡ä»¶**ï¼š

- å¿«ç…§ä¸­çš„å…ƒç»„åœ¨t_tæ—¶åˆ»éƒ½æ˜¯æœ‰æ•ˆçš„
- ä¸å­˜åœ¨æ—¶é—´é‡å çš„å†²çªå…ƒç»„

**æ­¥éª¤3ï¼šç»“è®º**ï¼š

- æ—¶æ€å¿«ç…§æ˜¯ä¸€è‡´çš„

**è¯æ˜æ ‘**ï¼š

```mermaid
graph TD
    A[æ—¶æ€ä¸€è‡´æ€§å®šç†] --> B[å¿«ç…§å®šä¹‰]
    B --> C[ä¸€è‡´æ€§æ¡ä»¶]
    C --> D[ç»“è®º]
    D --> E[å®šç†å¾—è¯]

    style A fill:#FFD700
    style E fill:#90EE90
```

### 4.2 æ—¶æ€å®Œæ•´æ€§å®šç†

**å®šç†2ï¼ˆæ—¶æ€å®Œæ•´æ€§ï¼‰**ï¼š

æ—¶æ€å…³ç³»Ræ»¡è¶³æ—¶æ€å®Œæ•´æ€§ï¼Œå½“ä¸”ä»…å½“æ‰€æœ‰æ—¶æ€å…ƒç»„çš„æ—¶é—´åŒºé—´æ»¡è¶³å¼€å§‹æ—¶é—´å°äºç»“æŸæ—¶é—´ã€‚

**å½¢å¼åŒ–è¡¨è¿°**ï¼š

è®¾æ—¶æ€å…³ç³»Rã€‚åˆ™ï¼š

```text
TemporalIntegrity(R) âŸº âˆ€(d, vt_start, vt_end, tt_start, tt_end) âˆˆ R:
    vt_start < vt_end âˆ§ tt_start < tt_end
```

**è¯æ˜**ï¼š

**æ­¥éª¤1ï¼šæ—¶é—´åŒºé—´æ€§è´¨**ï¼š

- æ—¶é—´åŒºé—´å¿…é¡»æ»¡è¶³å¼€å§‹æ—¶é—´å°äºç»“æŸæ—¶é—´
- è¿™æ˜¯æ—¶é—´åŒºé—´çš„åŸºæœ¬æ€§è´¨

**æ­¥éª¤2ï¼šå®Œæ•´æ€§å®šä¹‰**ï¼š

- æ—¶æ€å®Œæ•´æ€§è¦æ±‚æ‰€æœ‰æ—¶é—´åŒºé—´éƒ½æ˜¯æœ‰æ•ˆçš„
- æ— æ•ˆçš„æ—¶é—´åŒºé—´ä¼šå¯¼è‡´æŸ¥è¯¢é”™è¯¯

**æ­¥éª¤3ï¼šç»“è®º**ï¼š

- æ—¶æ€å®Œæ•´æ€§å®šç†å¾—è¯

### 4.3 æ—¶æ€æ“ä½œæ­£ç¡®æ€§å®šç†

**å®šç†3ï¼ˆæ—¶æ€æ’å…¥æ­£ç¡®æ€§ï¼‰**ï¼š

æ—¶æ€æ’å…¥æ“ä½œä¿æŒæ—¶æ€å®Œæ•´æ€§ï¼Œå³æ’å…¥åçš„æ—¶æ€å…³ç³»ä»ç„¶æ»¡è¶³æ—¶æ€å®Œæ•´æ€§çº¦æŸã€‚

**å½¢å¼åŒ–è¡¨è¿°**ï¼š

è®¾æ—¶æ€æ’å…¥æ“ä½œINSERTï¼Œæ—¶æ€å…³ç³»Rï¼Œæ•°æ®dï¼Œæœ‰æ•ˆæ—¶é—´åŒºé—´[vt_start, vt_end)ï¼Œäº‹åŠ¡æ—¶é—´t_tã€‚åˆ™ï¼š

```text
TemporalIntegrity(R) âŸ¹ TemporalIntegrity(INSERT(R, d, vt_start, vt_end, t_t))
```

**è¯æ˜**ï¼š

**æ­¥éª¤1ï¼šæ’å…¥æ“ä½œå®šä¹‰**ï¼š

- æ’å…¥æ“ä½œåˆ›å»ºæ–°çš„æ—¶æ€å…ƒç»„(d, vt_start, vt_end, t_t, âˆ)
- æ–°å…ƒç»„çš„æ—¶é—´åŒºé—´æ»¡è¶³vt_start < vt_endå’Œt_t < âˆ

**æ­¥éª¤2ï¼šå®Œæ•´æ€§ä¿æŒ**ï¼š

- æ–°å…ƒç»„æ»¡è¶³æ—¶æ€å®Œæ•´æ€§çº¦æŸ
- åŸæœ‰å…ƒç»„çš„å®Œæ•´æ€§ä¸å—å½±å“

**æ­¥éª¤3ï¼šç»“è®º**ï¼š

- æ—¶æ€æ’å…¥æ­£ç¡®æ€§å®šç†å¾—è¯

**å®šç†4ï¼ˆæ—¶æ€æ›´æ–°æ­£ç¡®æ€§ï¼‰**ï¼š

æ—¶æ€æ›´æ–°æ“ä½œä¿æŒæ—¶æ€ä¸€è‡´æ€§ï¼Œå³æ›´æ–°åçš„æ—¶æ€å…³ç³»ä»ç„¶æ»¡è¶³æ—¶æ€ä¸€è‡´æ€§çº¦æŸã€‚

**å½¢å¼åŒ–è¡¨è¿°**ï¼š

è®¾æ—¶æ€æ›´æ–°æ“ä½œUPDATEï¼Œæ—¶æ€å…³ç³»Rã€‚åˆ™ï¼š

```text
TemporalConsistency(R) âŸ¹ TemporalConsistency(UPDATE(R, ...))
```

**è¯æ˜**ï¼š

**æ­¥éª¤1ï¼šæ›´æ–°æ“ä½œå®šä¹‰**ï¼š

- æ›´æ–°æ“ä½œå…³é—­æ—§ç‰ˆæœ¬ï¼šè®¾ç½®äº‹åŠ¡ç»“æŸæ—¶é—´ä¸ºt_t
- æ›´æ–°æ“ä½œåˆ›å»ºæ–°ç‰ˆæœ¬ï¼šè®¾ç½®äº‹åŠ¡å¼€å§‹æ—¶é—´ä¸ºt_t

**æ­¥éª¤2ï¼šä¸€è‡´æ€§ä¿æŒ**ï¼š

- æ—§ç‰ˆæœ¬åœ¨t_tä¹‹å‰å¯è§ï¼Œæ–°ç‰ˆæœ¬åœ¨t_tä¹‹åå¯è§
- ä¸å­˜åœ¨æ—¶é—´é‡å ï¼Œä¿è¯ä¸€è‡´æ€§

**æ­¥éª¤3ï¼šç»“è®º**ï¼š

- æ—¶æ€æ›´æ–°æ­£ç¡®æ€§å®šç†å¾—è¯

---

## 5. å®é™…åº”ç”¨

### 5.1 PostgreSQLä¸­çš„æ—¶æ€è¡¨

PostgreSQL 14+æ”¯æŒæ—¶æ€è¡¨ï¼ˆTemporal Tablesï¼‰ï¼š

**ç³»ç»Ÿç‰ˆæœ¬è¡¨**ï¼š

```sql
-- åˆ›å»ºç³»ç»Ÿç‰ˆæœ¬è¡¨ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰
DO $$
BEGIN
    IF EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'employee_salary') THEN
        DROP TABLE employee_salary CASCADE;
        RAISE NOTICE 'å·²åˆ é™¤ç°æœ‰è¡¨: employee_salary';
    END IF;

    CREATE TABLE employee_salary (
        employee_id INTEGER,
        salary DECIMAL(10,2),
        sys_period tstzrange NOT NULL
    );

    RAISE NOTICE 'è¡¨åˆ›å»ºæˆåŠŸ: employee_salary';
EXCEPTION
    WHEN duplicate_table THEN
        RAISE WARNING 'è¡¨employee_salaryå·²å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE EXCEPTION 'åˆ›å»ºè¡¨å¤±è´¥: %', SQLERRM;
END $$;

-- å¯ç”¨ç³»ç»Ÿç‰ˆæœ¬æ§åˆ¶ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰
DO $$
BEGIN
    IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'employee_salary') THEN
        RAISE EXCEPTION 'è¡¨employee_salaryä¸å­˜åœ¨ï¼Œè¯·å…ˆåˆ›å»º';
    END IF;

    IF EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'employee_salary_history') THEN
        DROP TABLE employee_salary_history;
        RAISE NOTICE 'å·²åˆ é™¤ç°æœ‰å†å²è¡¨: employee_salary_history';
    END IF;

    ALTER TABLE employee_salary
        ADD SYSTEM VERSIONING USING HISTORY TABLE employee_salary_history;

    RAISE NOTICE 'ç³»ç»Ÿç‰ˆæœ¬æ§åˆ¶å¯ç”¨æˆåŠŸ';
EXCEPTION
    WHEN duplicate_table THEN
        RAISE WARNING 'å†å²è¡¨employee_salary_historyå·²å­˜åœ¨';
    WHEN undefined_table THEN
        RAISE EXCEPTION 'è¡¨employee_salaryä¸å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE EXCEPTION 'å¯ç”¨ç³»ç»Ÿç‰ˆæœ¬æ§åˆ¶å¤±è´¥: %', SQLERRM;
END $$;
```

**åº”ç”¨ç‰ˆæœ¬è¡¨**ï¼š

```sql
-- åˆ›å»ºåº”ç”¨ç‰ˆæœ¬è¡¨ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰
DO $$
BEGIN
    IF EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'employee_salary') THEN
        DROP TABLE employee_salary CASCADE;
        RAISE NOTICE 'å·²åˆ é™¤ç°æœ‰è¡¨: employee_salary';
    END IF;

    CREATE TABLE employee_salary (
        employee_id INTEGER,
        salary DECIMAL(10,2),
        valid_period tstzrange NOT NULL
    );

    RAISE NOTICE 'è¡¨åˆ›å»ºæˆåŠŸ: employee_salary';
EXCEPTION
    WHEN duplicate_table THEN
        RAISE WARNING 'è¡¨employee_salaryå·²å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE EXCEPTION 'åˆ›å»ºè¡¨å¤±è´¥: %', SQLERRM;
END $$;

-- å¯ç”¨åº”ç”¨ç‰ˆæœ¬æ§åˆ¶ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰
DO $$
BEGIN
    IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'employee_salary') THEN
        RAISE EXCEPTION 'è¡¨employee_salaryä¸å­˜åœ¨ï¼Œè¯·å…ˆåˆ›å»º';
    END IF;

    ALTER TABLE employee_salary
        ADD APPLICATION VERSIONING;

    RAISE NOTICE 'åº”ç”¨ç‰ˆæœ¬æ§åˆ¶å¯ç”¨æˆåŠŸ';
EXCEPTION
    WHEN undefined_table THEN
        RAISE EXCEPTION 'è¡¨employee_salaryä¸å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE EXCEPTION 'å¯ç”¨åº”ç”¨ç‰ˆæœ¬æ§åˆ¶å¤±è´¥: %', SQLERRM;
END $$;
```

### 5.2 åŒæ—¶æ€è¡¨å®ç°

**æ‰‹åŠ¨å®ç°åŒæ—¶æ€è¡¨**ï¼š

```sql
-- åˆ›å»ºåŒæ—¶æ€è¡¨ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰
DO $$
BEGIN
    IF EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'employee_salary_bitemporal') THEN
        DROP TABLE employee_salary_bitemporal;
        RAISE NOTICE 'å·²åˆ é™¤ç°æœ‰è¡¨: employee_salary_bitemporal';
    END IF;

    CREATE TABLE employee_salary_bitemporal (
        employee_id INTEGER,
        salary DECIMAL(10,2),
        -- æœ‰æ•ˆæ—¶é—´
        valid_from TIMESTAMP NOT NULL,
        valid_to TIMESTAMP NOT NULL,
        -- äº‹åŠ¡æ—¶é—´
        transaction_start TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
        transaction_end TIMESTAMP
    );

    RAISE NOTICE 'è¡¨åˆ›å»ºæˆåŠŸ: employee_salary_bitemporal';
EXCEPTION
    WHEN duplicate_table THEN
        RAISE WARNING 'è¡¨employee_salary_bitemporalå·²å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE EXCEPTION 'åˆ›å»ºè¡¨å¤±è´¥: %', SQLERRM;
END $$;

-- åˆ›å»ºç´¢å¼•ï¼ˆå¸¦é”™è¯¯å¤„ç†ï¼‰
DO $$
BEGIN
    IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'employee_salary_bitemporal') THEN
        RAISE EXCEPTION 'è¡¨employee_salary_bitemporalä¸å­˜åœ¨ï¼Œè¯·å…ˆåˆ›å»º';
    END IF;

    IF NOT EXISTS (
        SELECT 1 FROM pg_indexes
        WHERE schemaname = 'public'
        AND tablename = 'employee_salary_bitemporal'
        AND indexname = 'idx_employee_salary_valid_time'
    ) THEN
        CREATE INDEX idx_employee_salary_valid_time
            ON employee_salary_bitemporal (employee_id, valid_from, valid_to);
        RAISE NOTICE 'ç´¢å¼•åˆ›å»ºæˆåŠŸ: idx_employee_salary_valid_time';
    END IF;

    IF NOT EXISTS (
        SELECT 1 FROM pg_indexes
        WHERE schemaname = 'public'
        AND tablename = 'employee_salary_bitemporal'
        AND indexname = 'idx_employee_salary_transaction_time'
    ) THEN
        CREATE INDEX idx_employee_salary_transaction_time
            ON employee_salary_bitemporal (employee_id, transaction_start, transaction_end);
        RAISE NOTICE 'ç´¢å¼•åˆ›å»ºæˆåŠŸ: idx_employee_salary_transaction_time';
    END IF;
EXCEPTION
    WHEN undefined_table THEN
        RAISE EXCEPTION 'è¡¨employee_salary_bitemporalä¸å­˜åœ¨';
    WHEN duplicate_table THEN
        RAISE WARNING 'ç´¢å¼•å·²å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE EXCEPTION 'åˆ›å»ºç´¢å¼•å¤±è´¥: %', SQLERRM;
END $$;
```

**æ—¶æ€æŸ¥è¯¢**ï¼š

```sql
-- AS OFæŸ¥è¯¢ï¼šæŸ¥è¯¢ç‰¹å®šäº‹åŠ¡æ—¶é—´å’Œæœ‰æ•ˆæ—¶é—´çš„æ•°æ®ï¼ˆå¸¦é”™è¯¯å¤„ç†å’Œæ€§èƒ½æµ‹è¯•ï¼‰
DO $$
DECLARE
    result_count INT;
BEGIN
    IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'employee_salary_bitemporal') THEN
        RAISE WARNING 'è¡¨employee_salary_bitemporalä¸å­˜åœ¨';
        RETURN;
    END IF;

    SELECT COUNT(*) INTO result_count
    FROM employee_salary_bitemporal
    WHERE employee_id = 1
      AND transaction_start <= '2024-01-01'::TIMESTAMP
      AND (transaction_end IS NULL OR transaction_end > '2024-01-01'::TIMESTAMP)
      AND valid_from <= '2024-01-01'::TIMESTAMP
      AND valid_to > '2024-01-01'::TIMESTAMP;

    RAISE NOTICE 'AS OFæŸ¥è¯¢å®Œæˆ: % æ¡è®°å½•', result_count;
EXCEPTION
    WHEN undefined_table THEN
        RAISE WARNING 'è¡¨employee_salary_bitemporalä¸å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE EXCEPTION 'AS OFæŸ¥è¯¢å¤±è´¥: %', SQLERRM;
END $$;

EXPLAIN (ANALYZE, BUFFERS, TIMING)
SELECT *
FROM employee_salary_bitemporal
WHERE employee_id = 1
  AND transaction_start <= '2024-01-01'::TIMESTAMP
  AND (transaction_end IS NULL OR transaction_end > '2024-01-01'::TIMESTAMP)
  AND valid_from <= '2024-01-01'::TIMESTAMP
  AND valid_to > '2024-01-01'::TIMESTAMP;
-- æ‰§è¡Œæ—¶é—´: <50msï¼ˆå–å†³äºæ•°æ®é‡å’Œç´¢å¼•ï¼‰
-- è®¡åˆ’: Index Scan (ä½¿ç”¨idx_employee_salary_valid_timeæˆ–idx_employee_salary_transaction_time)

-- BETWEENæŸ¥è¯¢ï¼šæŸ¥è¯¢æ—¶é—´åŒºé—´å†…çš„æ•°æ®ï¼ˆå¸¦é”™è¯¯å¤„ç†å’Œæ€§èƒ½æµ‹è¯•ï¼‰
DO $$
DECLARE
    result_count INT;
BEGIN
    IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'employee_salary_bitemporal') THEN
        RAISE WARNING 'è¡¨employee_salary_bitemporalä¸å­˜åœ¨';
        RETURN;
    END IF;

    SELECT COUNT(*) INTO result_count
    FROM employee_salary_bitemporal
    WHERE employee_id = 1
      AND transaction_start < '2024-12-31'::TIMESTAMP
      AND (transaction_end IS NULL OR transaction_end > '2024-01-01'::TIMESTAMP)
      AND valid_from < '2024-12-31'::TIMESTAMP
      AND valid_to > '2024-01-01'::TIMESTAMP;

    RAISE NOTICE 'BETWEENæŸ¥è¯¢å®Œæˆ: % æ¡è®°å½•', result_count;
EXCEPTION
    WHEN undefined_table THEN
        RAISE WARNING 'è¡¨employee_salary_bitemporalä¸å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE EXCEPTION 'BETWEENæŸ¥è¯¢å¤±è´¥: %', SQLERRM;
END $$;

EXPLAIN (ANALYZE, BUFFERS, TIMING)
SELECT *
FROM employee_salary_bitemporal
WHERE employee_id = 1
  AND transaction_start < '2024-12-31'::TIMESTAMP
  AND (transaction_end IS NULL OR transaction_end > '2024-01-01'::TIMESTAMP)
  AND valid_from < '2024-12-31'::TIMESTAMP
  AND valid_to > '2024-01-01'::TIMESTAMP;
-- æ‰§è¡Œæ—¶é—´: <100msï¼ˆå–å†³äºæ•°æ®é‡å’Œç´¢å¼•ï¼‰
-- è®¡åˆ’: Index Scan (ä½¿ç”¨idx_employee_salary_valid_timeæˆ–idx_employee_salary_transaction_time)
```

### 5.3 å®é™…åº”ç”¨åœºæ™¯

#### åœºæ™¯1ï¼šå®¡è®¡è¿½è¸ªç³»ç»Ÿ

**ä¸šåŠ¡èƒŒæ™¯**ï¼š

éœ€è¦å®Œæ•´è®°å½•æ•°æ®çš„ä¿®æ”¹å†å²å’Œæœ‰æ•ˆæ—¶é—´ï¼Œæ”¯æŒå®¡è®¡æŸ¥è¯¢ã€‚

**PostgreSQL 18å®ç°**ï¼š

```sql
-- åœºæ™¯ï¼šå®¡è®¡è¿½è¸ªç³»ç»Ÿ
-- 1. åˆ›å»ºåŒæ—¶æ€è¡¨
CREATE TABLE employee_salary_audit (
    employee_id INTEGER,
    salary DECIMAL(10,2),
    valid_from TIMESTAMP NOT NULL,
    valid_to TIMESTAMP NOT NULL,
    transaction_start TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    transaction_end TIMESTAMP,
    changed_by VARCHAR(100),
    change_reason TEXT
);

-- 2. æ’å…¥æ–°è®°å½•
INSERT INTO employee_salary_audit (
    employee_id, salary, valid_from, valid_to, changed_by, change_reason
)
VALUES (
    1, 50000, '2024-01-01'::TIMESTAMP, '2024-12-31'::TIMESTAMP,
    'admin', 'Initial salary'
);

-- 3. æ›´æ–°è®°å½•ï¼ˆåˆ›å»ºæ–°ç‰ˆæœ¬ï¼‰
BEGIN;
UPDATE employee_salary_audit
SET transaction_end = CURRENT_TIMESTAMP
WHERE employee_id = 1
  AND transaction_end IS NULL;

INSERT INTO employee_salary_audit (
    employee_id, salary, valid_from, valid_to, changed_by, change_reason
)
VALUES (
    1, 55000, '2024-06-01'::TIMESTAMP, '2024-12-31'::TIMESTAMP,
    'hr', 'Salary increase'
);
COMMIT;

-- 4. æŸ¥è¯¢å†å²è®°å½•ï¼ˆå¸¦é”™è¯¯å¤„ç†å’Œæ€§èƒ½æµ‹è¯•ï¼‰
DO $$
DECLARE
    history_count INT;
BEGIN
    IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'employee_salary_audit') THEN
        RAISE WARNING 'è¡¨employee_salary_auditä¸å­˜åœ¨';
        RETURN;
    END IF;

    SELECT COUNT(*) INTO history_count
    FROM employee_salary_audit
    WHERE employee_id = 1;

    RAISE NOTICE 'æ‰¾åˆ° % æ¡å†å²è®°å½•: employee_id=1', history_count;
EXCEPTION
    WHEN undefined_table THEN
        RAISE WARNING 'è¡¨employee_salary_auditä¸å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE EXCEPTION 'æŸ¥è¯¢å†å²è®°å½•å¤±è´¥: %', SQLERRM;
END $$;

EXPLAIN (ANALYZE, BUFFERS, TIMING)
SELECT *
FROM employee_salary_audit
WHERE employee_id = 1
ORDER BY transaction_start DESC;
-- æ‰§è¡Œæ—¶é—´: <100msï¼ˆå–å†³äºæ•°æ®é‡å’Œç´¢å¼•ï¼‰
-- è®¡åˆ’: Index Scan (å¦‚æœæœ‰ç´¢å¼•) æˆ– Seq Scan
```

#### åœºæ™¯2ï¼šåˆè§„æ€§æŸ¥è¯¢

**ä¸šåŠ¡èƒŒæ™¯**ï¼š

éœ€è¦æŸ¥è¯¢ç‰¹å®šæ—¶é—´ç‚¹çš„æ•°æ®çŠ¶æ€ï¼Œæ»¡è¶³åˆè§„æ€§è¦æ±‚ã€‚

**PostgreSQL 18å®ç°**ï¼š

```sql
-- åœºæ™¯ï¼šåˆè§„æ€§æŸ¥è¯¢
-- 1. AS OFæŸ¥è¯¢ï¼šæŸ¥è¯¢2024-06-01çš„æ•°æ®çŠ¶æ€ï¼ˆå¸¦é”™è¯¯å¤„ç†å’Œæ€§èƒ½æµ‹è¯•ï¼‰
DO $$
DECLARE
    result_count INT;
BEGIN
    IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'employee_salary_audit') THEN
        RAISE WARNING 'è¡¨employee_salary_auditä¸å­˜åœ¨';
        RETURN;
    END IF;

    SELECT COUNT(*) INTO result_count
    FROM employee_salary_audit
    WHERE employee_id = 1
      AND transaction_start <= '2024-06-01'::TIMESTAMP
      AND (transaction_end IS NULL OR transaction_end > '2024-06-01'::TIMESTAMP)
      AND valid_from <= '2024-06-01'::TIMESTAMP
      AND valid_to > '2024-06-01'::TIMESTAMP;

    RAISE NOTICE 'AS OFæŸ¥è¯¢å®Œæˆ: % æ¡è®°å½•', result_count;
EXCEPTION
    WHEN undefined_table THEN
        RAISE WARNING 'è¡¨employee_salary_auditä¸å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE EXCEPTION 'AS OFæŸ¥è¯¢å¤±è´¥: %', SQLERRM;
END $$;

EXPLAIN (ANALYZE, BUFFERS, TIMING)
SELECT *
FROM employee_salary_audit
WHERE employee_id = 1
  AND transaction_start <= '2024-06-01'::TIMESTAMP
  AND (transaction_end IS NULL OR transaction_end > '2024-06-01'::TIMESTAMP)
  AND valid_from <= '2024-06-01'::TIMESTAMP
  AND valid_to > '2024-06-01'::TIMESTAMP;
-- æ‰§è¡Œæ—¶é—´: <50msï¼ˆå–å†³äºæ•°æ®é‡å’Œç´¢å¼•ï¼‰
-- è®¡åˆ’: Index Scan

-- 2. BETWEENæŸ¥è¯¢ï¼šæŸ¥è¯¢2024å¹´å…¨å¹´çš„æ•°æ®å˜æ›´ï¼ˆå¸¦é”™è¯¯å¤„ç†å’Œæ€§èƒ½æµ‹è¯•ï¼‰
DO $$
DECLARE
    result_count INT;
BEGIN
    IF NOT EXISTS (SELECT 1 FROM information_schema.tables WHERE table_schema = 'public' AND table_name = 'employee_salary_audit') THEN
        RAISE WARNING 'è¡¨employee_salary_auditä¸å­˜åœ¨';
        RETURN;
    END IF;

    SELECT COUNT(*) INTO result_count
    FROM employee_salary_audit
    WHERE employee_id = 1
      AND transaction_start < '2025-01-01'::TIMESTAMP
      AND (transaction_end IS NULL OR transaction_end > '2024-01-01'::TIMESTAMP)
      AND valid_from < '2025-01-01'::TIMESTAMP
      AND valid_to > '2024-01-01'::TIMESTAMP;

    RAISE NOTICE 'BETWEENæŸ¥è¯¢å®Œæˆ: % æ¡è®°å½•', result_count;
EXCEPTION
    WHEN undefined_table THEN
        RAISE WARNING 'è¡¨employee_salary_auditä¸å­˜åœ¨';
    WHEN OTHERS THEN
        RAISE EXCEPTION 'BETWEENæŸ¥è¯¢å¤±è´¥: %', SQLERRM;
END $$;

EXPLAIN (ANALYZE, BUFFERS, TIMING)
SELECT *
FROM employee_salary_audit
WHERE employee_id = 1
  AND transaction_start < '2025-01-01'::TIMESTAMP
  AND (transaction_end IS NULL OR transaction_end > '2024-01-01'::TIMESTAMP)
  AND valid_from < '2025-01-01'::TIMESTAMP
  AND valid_to > '2024-01-01'::TIMESTAMP;
-- æ‰§è¡Œæ—¶é—´: <100msï¼ˆå–å†³äºæ•°æ®é‡å’Œç´¢å¼•ï¼‰
-- è®¡åˆ’: Index Scan (å¦‚æœæœ‰ç´¢å¼•) æˆ– Seq Scan
```

**ç‰ˆæœ¬ç®¡ç†**ï¼š

åŒæ—¶æ€è¡¨å¯ä»¥ç®¡ç†æ•°æ®çš„å¤šä¸ªç‰ˆæœ¬ï¼Œæ”¯æŒï¼š

- æŸ¥è¯¢å†å²ç‰ˆæœ¬
- å›æº¯åˆ°ç‰¹å®šæ—¶é—´ç‚¹
- åˆ†ææ•°æ®å˜åŒ–è¶‹åŠ¿

**åˆè§„æ€§**ï¼š

åŒæ—¶æ€è¡¨å¯ä»¥æ»¡è¶³åˆè§„æ€§è¦æ±‚ï¼Œå¦‚ï¼š

- é‡‘èç›‘ç®¡è¦æ±‚
- åŒ»ç–—è®°å½•è¦æ±‚
- æ³•å¾‹è¯æ®è¦æ±‚

---

## 6. ç›¸å…³æ–‡æ¡£

### 6.1 ç†è®ºåŸºç¡€æ–‡æ¡£

- â­â­â­ [æµå¤„ç†ä¸æ—¶é—´è¯­ä¹‰ï¼šçª—å£ä¸CEPçš„å½¢å¼åŒ–](./1.1.29-æµå¤„ç†ä¸æ—¶é—´è¯­ä¹‰-çª—å£ä¸CEPçš„å½¢å¼åŒ–.md) - æ—¶é—´è¯­ä¹‰ç†è®º
- â­â­ [æ—¶æ€æ•°æ®å¤„ç†](../Sql/05-é«˜çº§ç‰¹æ€§/05.05-æ—¶æ€æ•°æ®å¤„ç†.md) - æ—¶æ€æ•°æ®å®è·µ
- â­â­ [ç†è®ºåŸºç¡€å¯¼èˆª](./README.md) - ç†è®ºåŸºç¡€å¯¼èˆª

---

## 7. å‚è€ƒæ–‡çŒ®

### 7.1 ç»å…¸è®ºæ–‡

1. Snodgrass, R. T., & Ahn, I. (1986). "Temporal Databases." _IEEE Computer_, 19(9), pp. 35-42.

   - æ—¶æ€æ•°æ®åº“çš„å¼€åˆ›æ€§è®ºæ–‡
   - å®šä¹‰äº†äº‹åŠ¡æ—¶é—´å’Œæœ‰æ•ˆæ—¶é—´

2. Jensen, C. S., et al. (1994). "A Consensus Glossary of Temporal Database Concepts." _ACM SIGMOD Record_, 23(1), pp. 52-64.

   - æ—¶æ€æ•°æ®åº“æœ¯è¯­æ ‡å‡†åŒ–
   - å®šä¹‰äº†æ—¶æ€æ•°æ®åº“çš„æ ¸å¿ƒæ¦‚å¿µ

3. Snodgrass, R. T. (1995). _The TSQL2 Temporal Query Language_. Kluwer Academic Publishers.

   - TSQL2æ—¶æ€æŸ¥è¯¢è¯­è¨€
   - æ—¶æ€æŸ¥è¯¢çš„å½¢å¼åŒ–å®šä¹‰

### 7.2 SQLæ ‡å‡†

1. ISO/IEC 9075:2011. _Information Technology - Database Languages - SQL - Part 2: Foundation (SQL/Foundation)_.

   - SQL:2011æ ‡å‡†
   - æ—¶æ€è¡¨çš„æ ‡å‡†åŒ–å®šä¹‰

2. ISO/IEC 9075:2016. _Information Technology - Database Languages - SQL - Part 2: Foundation (SQL/Foundation)_.

   - SQL:2016æ ‡å‡†
   - æ—¶æ€æŸ¥è¯¢çš„å¢å¼º

### 7.3 PostgreSQLæ–‡æ¡£

1. PostgreSQL Global Development Group. (2024). _PostgreSQL 18 Documentation - System-Versioned Tables_. <https://www.postgresql.org/docs/18/ddl-system-columns.html#DDL-SYSTEM-VERSIONED-TABLES>

2. PostgreSQL Global Development Group. (2024). _PostgreSQL 18 Documentation - Range Types_. <https://www.postgresql.org/docs/18/rangetypes.html>

---

**æœ€åæ›´æ–°**: 2025-01-16
**ç»´æŠ¤è€…**: Documentation Team
**çŠ¶æ€**: âœ… å†…å®¹å·²å®Œæˆ
