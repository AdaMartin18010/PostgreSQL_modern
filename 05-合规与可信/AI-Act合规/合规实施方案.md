# AI Act åˆè§„å®æ–½æ–¹æ¡ˆ

> **æ›´æ–°æ—¶é—´**: 2025 å¹´ 11 æœˆ 1 æ—¥
> **æŠ€æœ¯ç‰ˆæœ¬**: PostgreSQL 14+, AI Act Compliance
> **æ–‡æ¡£ç¼–å·**: 05-02-02

## ğŸ“‘ ç›®å½•

- [AI Act åˆè§„å®æ–½æ–¹æ¡ˆ](#ai-act-åˆè§„å®æ–½æ–¹æ¡ˆ)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
    - [1.1 å®æ–½ç›®æ ‡](#11-å®æ–½ç›®æ ‡)
    - [1.2 å®æ–½æ­¥éª¤](#12-å®æ–½æ­¥éª¤)
  - [2. æ•°æ®æ²»ç†å®æ–½](#2-æ•°æ®æ²»ç†å®æ–½)
    - [2.1 æ•°æ®è´¨é‡ä¿è¯](#21-æ•°æ®è´¨é‡ä¿è¯)
    - [2.2 æ•°æ®åè§æ£€æµ‹](#22-æ•°æ®åè§æ£€æµ‹)
  - [3. æŠ€æœ¯æ–‡æ¡£ç®¡ç†](#3-æŠ€æœ¯æ–‡æ¡£ç®¡ç†)
    - [3.1 æ–‡æ¡£ç»“æ„](#31-æ–‡æ¡£ç»“æ„)
    - [3.2 æ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶](#32-æ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶)
  - [4. é€æ˜åº¦å®æ–½](#4-é€æ˜åº¦å®æ–½)
    - [4.1 å†³ç­–è§£é‡Š](#41-å†³ç­–è§£é‡Š)
    - [4.2 ç”¨æˆ·é€šçŸ¥](#42-ç”¨æˆ·é€šçŸ¥)
  - [5. å®è·µæ¡ˆä¾‹](#5-å®è·µæ¡ˆä¾‹)
    - [5.1 ä¼ä¸š AI ç³»ç»Ÿåˆè§„å®æ–½](#51-ä¼ä¸š-ai-ç³»ç»Ÿåˆè§„å®æ–½)
  - [6. å‚è€ƒèµ„æ–™](#6-å‚è€ƒèµ„æ–™)

---

## 1. æ¦‚è¿°

### 1.1 å®æ–½ç›®æ ‡

**åˆè§„å®æ–½ç›®æ ‡**:

- **æ•°æ®æ²»ç†**: å»ºç«‹å®Œå–„çš„æ•°æ®æ²»ç†ä½“ç³»
- **æŠ€æœ¯æ–‡æ¡£**: ç»´æŠ¤å®Œæ•´çš„æŠ€æœ¯æ–‡æ¡£
- **é€æ˜åº¦**: æä¾› AI å†³ç­–é€æ˜åº¦
- **åˆè§„ç›‘æ§**: æŒç»­ç›‘æ§åˆè§„çŠ¶æ€

### 1.2 å®æ–½æ­¥éª¤

**å®æ–½æ­¥éª¤**:

1. **è¯„ä¼°é˜¶æ®µ**: è¯„ä¼°ç°æœ‰ AI ç³»ç»Ÿåˆè§„çŠ¶æ€
2. **è§„åˆ’é˜¶æ®µ**: åˆ¶å®šåˆè§„å®æ–½è®¡åˆ’
3. **å®æ–½é˜¶æ®µ**: å®æ–½åˆè§„æªæ–½
4. **ç›‘æ§é˜¶æ®µ**: æŒç»­ç›‘æ§åˆè§„çŠ¶æ€

## 2. æ•°æ®æ²»ç†å®æ–½

### 2.1 æ•°æ®è´¨é‡ä¿è¯

```sql
-- æ•°æ®è´¨é‡ç›‘æ§è¡¨
CREATE TABLE data_quality_monitoring (
    id SERIAL PRIMARY KEY,
    dataset_name TEXT NOT NULL,
    quality_metric TEXT NOT NULL,  -- 'completeness', 'accuracy', 'consistency'
    metric_value NUMERIC,
    threshold NUMERIC,
    status TEXT,  -- 'pass', 'fail', 'warning'
    checked_at TIMESTAMP DEFAULT NOW()
);

-- æ•°æ®è´¨é‡æ£€æŸ¥å‡½æ•°
CREATE OR REPLACE FUNCTION check_data_quality_metrics(dataset_name TEXT)
RETURNS TABLE (
    metric TEXT,
    value NUMERIC,
    threshold NUMERIC,
    status TEXT
) AS $$
BEGIN
    RETURN QUERY
    SELECT
        'completeness'::TEXT,
        (SELECT COUNT(*)::NUMERIC / NULLIF((SELECT COUNT(*) FROM information_schema.tables WHERE table_name = dataset_name), 0)) AS value,
        0.95::NUMERIC AS threshold,
        CASE
            WHEN (SELECT COUNT(*)::NUMERIC / NULLIF((SELECT COUNT(*) FROM information_schema.tables WHERE table_name = dataset_name), 0)) >= 0.95
            THEN 'pass'::TEXT
            ELSE 'fail'::TEXT
        END AS status;
END;
$$ LANGUAGE plpgsql;
```

### 2.2 æ•°æ®åè§æ£€æµ‹

```sql
-- æ•°æ®åè§æ£€æµ‹è¡¨
CREATE TABLE bias_detection (
    id SERIAL PRIMARY KEY,
    dataset_name TEXT NOT NULL,
    bias_type TEXT NOT NULL,  -- 'gender', 'age', 'ethnicity'
    bias_score NUMERIC,
    mitigation_strategy TEXT,
    detected_at TIMESTAMP DEFAULT NOW()
);

-- åè§æ£€æµ‹å‡½æ•°
CREATE OR REPLACE FUNCTION detect_bias(dataset_name TEXT, attribute TEXT)
RETURNS NUMERIC AS $$
DECLARE
    total_count NUMERIC;
    group_counts JSONB;
    bias_score NUMERIC;
BEGIN
    -- è®¡ç®—å„ç»„çš„åˆ†å¸ƒ
    SELECT jsonb_object_agg(group_value, count)
    INTO group_counts
    FROM (
        SELECT
            (row_data->>attribute)::TEXT AS group_value,
            COUNT(*)::NUMERIC AS count
        FROM (SELECT * FROM information_schema.tables WHERE table_name = dataset_name) t
        GROUP BY group_value
    ) sub;

    -- è®¡ç®—åè§åˆ†æ•°ï¼ˆåŸºå°¼ç³»æ•°ï¼‰
    -- ç®€åŒ–è®¡ç®—ï¼šå¦‚æœæŸä¸ªç»„å æ¯” > 70%ï¼Œè®¤ä¸ºå­˜åœ¨åè§
    SELECT MAX(value) INTO bias_score
    FROM jsonb_each_text(group_counts);

    RETURN bias_score;
END;
$$ LANGUAGE plpgsql;
```

## 3. æŠ€æœ¯æ–‡æ¡£ç®¡ç†

### 3.1 æ–‡æ¡£ç»“æ„

```sql
-- æŠ€æœ¯æ–‡æ¡£è¡¨
CREATE TABLE technical_documentation (
    id SERIAL PRIMARY KEY,
    system_id INTEGER REFERENCES ai_system_registry(id),
    document_type TEXT NOT NULL,  -- 'system_description', 'training_procedure', 'risk_assessment'
    document_content JSONB,
    version TEXT NOT NULL,
    created_at TIMESTAMP DEFAULT NOW(),
    updated_at TIMESTAMP DEFAULT NOW()
);

-- æ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶
CREATE TABLE documentation_versions (
    id SERIAL PRIMARY KEY,
    document_id INTEGER REFERENCES technical_documentation(id),
    version TEXT NOT NULL,
    content JSONB,
    change_log TEXT,
    created_at TIMESTAMP DEFAULT NOW()
);
```

### 3.2 æ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶

```sql
-- æ–‡æ¡£ç‰ˆæœ¬æ§åˆ¶å‡½æ•°
CREATE OR REPLACE FUNCTION create_document_version(
    doc_id INTEGER,
    new_version TEXT,
    new_content JSONB,
    change_log TEXT
)
RETURNS INTEGER AS $$
DECLARE
    version_id INTEGER;
BEGIN
    -- åˆ›å»ºæ–°ç‰ˆæœ¬
    INSERT INTO documentation_versions (
        document_id,
        version,
        content,
        change_log
    ) VALUES (
        doc_id,
        new_version,
        new_content,
        change_log
    ) RETURNING id INTO version_id;

    -- æ›´æ–°æ–‡æ¡£å½“å‰ç‰ˆæœ¬
    UPDATE technical_documentation
    SET
        document_content = new_content,
        version = new_version,
        updated_at = NOW()
    WHERE id = doc_id;

    RETURN version_id;
END;
$$ LANGUAGE plpgsql;
```

## 4. é€æ˜åº¦å®æ–½

### 4.1 å†³ç­–è§£é‡Š

```sql
-- å†³ç­–è§£é‡Šè¡¨
CREATE TABLE decision_explanations (
    id SERIAL PRIMARY KEY,
    decision_id INTEGER REFERENCES ai_decision_logs(id),
    explanation_type TEXT NOT NULL,  -- 'feature_importance', 'rule_based', 'model_output'
    explanation_content JSONB,
    created_at TIMESTAMP DEFAULT NOW()
);

-- ç”Ÿæˆå†³ç­–è§£é‡Šå‡½æ•°
CREATE OR REPLACE FUNCTION generate_explanation(decision_id INTEGER)
RETURNS JSONB AS $$
DECLARE
    decision_data JSONB;
    explanation JSONB;
BEGIN
    -- è·å–å†³ç­–æ•°æ®
    SELECT decision_result INTO decision_data
    FROM ai_decision_logs
    WHERE id = decision_id;

    -- ç”Ÿæˆè§£é‡Šï¼ˆç¤ºä¾‹ï¼šç‰¹å¾é‡è¦æ€§ï¼‰
    explanation := jsonb_build_object(
        'decision_id', decision_id,
        'explanation_type', 'feature_importance',
        'features', jsonb_build_object(
            'experience', decision_data->>'experience_score',
            'education', decision_data->>'education_score',
            'skills', decision_data->>'skills_score'
        ),
        'reasoning', 'The decision is based on the weighted combination of experience, education, and skills scores.'
    );

    -- ä¿å­˜è§£é‡Š
    INSERT INTO decision_explanations (
        decision_id,
        explanation_type,
        explanation_content
    ) VALUES (
        decision_id,
        'feature_importance',
        explanation
    );

    RETURN explanation;
END;
$$ LANGUAGE plpgsql;
```

### 4.2 ç”¨æˆ·é€šçŸ¥

```sql
-- ç”¨æˆ·é€šçŸ¥è¡¨
CREATE TABLE user_notifications (
    id SERIAL PRIMARY KEY,
    user_id TEXT NOT NULL,
    notification_type TEXT NOT NULL,  -- 'ai_decision', 'data_usage', 'system_update'
    notification_content JSONB,
    read_status BOOLEAN DEFAULT FALSE,
    created_at TIMESTAMP DEFAULT NOW()
);

-- å‘é€ç”¨æˆ·é€šçŸ¥å‡½æ•°
CREATE OR REPLACE FUNCTION notify_user_ai_decision(
    user_id TEXT,
    decision_id INTEGER
)
RETURNS INTEGER AS $$
DECLARE
    notification_id INTEGER;
    decision_data JSONB;
    explanation JSONB;
BEGIN
    -- è·å–å†³ç­–æ•°æ®
    SELECT decision_result INTO decision_data
    FROM ai_decision_logs
    WHERE id = decision_id;

    -- ç”Ÿæˆè§£é‡Š
    explanation := generate_explanation(decision_id);

    -- åˆ›å»ºé€šçŸ¥
    INSERT INTO user_notifications (
        user_id,
        notification_type,
        notification_content
    ) VALUES (
        user_id,
        'ai_decision',
        jsonb_build_object(
            'decision_id', decision_id,
            'decision', decision_data,
            'explanation', explanation
        )
    ) RETURNING id INTO notification_id;

    RETURN notification_id;
END;
$$ LANGUAGE plpgsql;
```

## 5. å®è·µæ¡ˆä¾‹

### 5.1 ä¼ä¸š AI ç³»ç»Ÿåˆè§„å®æ–½

**æ¡ˆä¾‹èƒŒæ™¯**:

æŸä¼ä¸š AI ç³»ç»Ÿï¼ˆ2025 å¹´ 11 æœˆï¼‰ï¼š

- **AI ç³»ç»Ÿ**: é«˜é£é™© AI ç³»ç»Ÿï¼ˆä¿¡è´·è¯„ä¼°ï¼‰
- **æ•°æ®è§„æ¨¡**: 500 ä¸‡æ¡å®¢æˆ·æ•°æ®
- **éœ€æ±‚**: æ»¡è¶³ AI Act åˆè§„è¦æ±‚

**å®ç°æ–¹æ¡ˆ**:

```sql
-- 1. æ•°æ®è´¨é‡ç›‘æ§
SELECT check_data_quality_metrics('customer_data');

-- 2. åè§æ£€æµ‹
SELECT detect_bias('customer_data', 'gender');

-- 3. æŠ€æœ¯æ–‡æ¡£ç®¡ç†
INSERT INTO technical_documentation (
    system_id,
    document_type,
    document_content,
    version
) VALUES (
    1,
    'system_description',
    '{
        "system_name": "Credit Assessment AI",
        "algorithm": "gradient_boosting",
        "training_data": "customer_data",
        "features": ["income", "credit_history", "employment_status"],
        "accuracy": 0.89,
        "bias_mitigation": "enabled"
    }'::jsonb,
    '1.0'
);

-- 4. å†³ç­–è§£é‡Š
SELECT generate_explanation(decision_id);

-- 5. ç”¨æˆ·é€šçŸ¥
SELECT notify_user_ai_decision('user_001', decision_id);
```

**æ•ˆæœ**:

- **åˆè§„æ€§**: 100% æ»¡è¶³ AI Act è¦æ±‚
- **é€æ˜åº¦**: å®Œæ•´çš„å†³ç­–è§£é‡Š
- **æ•°æ®è´¨é‡**: é«˜è´¨é‡æ•°æ®æ²»ç†

## 6. å‚è€ƒèµ„æ–™

- [AI Act è¦æ±‚è§£è¯»](./AI-Actè¦æ±‚è§£è¯».md)
- [åˆè§„æ£€æŸ¥æ¸…å•](./åˆè§„æ£€æŸ¥æ¸…å•.md)
- [æ•°æ®åº“åˆè§„æ¶æ„](../æŠ€æœ¯åŸç†/æ•°æ®åº“åˆè§„æ¶æ„.md)

---

**æœ€åæ›´æ–°**: 2025 å¹´ 11 æœˆ 1 æ—¥
**ç»´æŠ¤è€…**: PostgreSQL Modern Team
**æ–‡æ¡£ç¼–å·**: 05-02-02
