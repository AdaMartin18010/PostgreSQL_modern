# 7.1.3 开发环境配置

> **更新时间**: 2025 年 11 月 1 日  
> **技术版本**: PostgreSQL 18+, Docker, VS Code  
> **文档编号**: 07-01-03

## 📑 目录

- [7.1.3 开发环境配置](#713-开发环境配置)
  - [📑 目录](#-目录)
  - [1. 概述](#1-概述)
    - [1.1 配置目标](#11-配置目标)
    - [1.2 环境要求](#12-环境要求)
  - [2. 基础环境配置](#2-基础环境配置)
    - [2.1 PostgreSQL 安装](#21-postgresql-安装)
    - [2.2 扩展安装](#22-扩展安装)
    - [2.3 工具安装](#23-工具安装)
  - [3. Docker 环境配置](#3-docker-环境配置)
    - [3.1 Docker Compose 配置](#31-docker-compose-配置)
    - [3.2 容器配置](#32-容器配置)
  - [4. IDE 配置](#4-ide-配置)
    - [4.1 VS Code 配置](#41-vs-code-配置)
    - [4.2 插件推荐](#42-插件推荐)
  - [5. 开发工具配置](#5-开发工具配置)
    - [5.1 数据库客户端](#51-数据库客户端)
    - [5.2 版本控制](#52-版本控制)
  - [6. 最佳实践](#6-最佳实践)
    - [6.1 环境管理建议](#61-环境管理建议)
    - [6.2 工具使用建议](#62-工具使用建议)
  - [7. 参考资料](#7-参考资料)

---

## 1. 概述

### 1.1 配置目标

开发环境配置的目标是提供一个完整的 PostgreSQL 开发环境，包括数据库、工具和 IDE 配置。

### 1.2 环境要求

**系统要求**:

- **操作系统**: Linux, macOS, Windows
- **内存**: 至少 4GB
- **磁盘**: 至少 20GB 可用空间

---

## 2. 基础环境配置

### 2.1 PostgreSQL 安装

**Linux 安装**:

```bash
# Ubuntu/Debian
sudo apt-get update
sudo apt-get install postgresql-18

# CentOS/RHEL
sudo yum install postgresql18-server
```

**macOS 安装**:

```bash
# 使用 Homebrew
brew install postgresql@18
```

**Windows 安装**:

下载并安装 PostgreSQL 18 安装程序。

### 2.2 扩展安装

**安装 pgvector**:

```bash
# 编译安装
git clone https://github.com/pgvector/pgvector.git
cd pgvector
make
sudo make install

# 在数据库中启用
CREATE EXTENSION vector;
```

### 2.3 工具安装

**安装常用工具**:

```bash
# pgAdmin
sudo apt-get install pgadmin4

# psql (通常随 PostgreSQL 安装)
# pg_dump, pg_restore (通常随 PostgreSQL 安装)
```

---

## 3. Docker 环境配置

### 3.1 Docker Compose 配置

**docker-compose.yml**:

```yaml
version: "3.8"

services:
  postgres:
    image: pgvector/pgvector:pg18
    environment:
      POSTGRES_DB: mydb
      POSTGRES_USER: myuser
      POSTGRES_PASSWORD: mypassword
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data
    command: postgres -c shared_preload_libraries=vector

volumes:
  postgres_data:
```

### 3.2 容器配置

**启动容器**:

```bash
docker-compose up -d
```

---

## 4. IDE 配置

### 4.1 VS Code 配置

**推荐插件**:

- PostgreSQL
- SQLTools
- SQLTools PostgreSQL/Cockroach Driver

**配置文件**:

```json
{
  "sqltools.connections": [
    {
      "name": "PostgreSQL",
      "driver": "PostgreSQL",
      "server": "localhost",
      "port": 5432,
      "database": "mydb",
      "username": "myuser",
      "password": "mypassword"
    }
  ]
}
```

### 4.2 插件推荐

**开发插件**:

- **PostgreSQL**: PostgreSQL 语法支持
- **SQLTools**: 数据库管理工具
- **GitLens**: Git 增强工具

---

## 5. 开发工具配置

### 5.1 数据库客户端

**推荐工具**:

- **pgAdmin**: 图形化管理工具
- **DBeaver**: 通用数据库工具
- **DataGrip**: JetBrains 数据库工具

### 5.2 版本控制

**Git 配置**:

```bash
# 初始化 Git 仓库
git init

# 配置 .gitignore
echo "*.log" >> .gitignore
echo "*.sql~" >> .gitignore
```

---

## 6. 最佳实践

### 6.1 环境管理建议

- **使用 Docker**: 使用 Docker 管理环境
- **版本控制**: 版本控制配置文件
- **文档记录**: 记录环境配置

### 6.2 工具使用建议

- **统一工具**: 团队使用统一工具
- **定期更新**: 定期更新工具版本
- **备份配置**: 备份重要配置

---

## 7. 参考资料

- [PostgreSQL 安装文档](https://www.postgresql.org/download/)
- [Docker 文档](https://docs.docker.com/)

---

**最后更新**: 2025 年 11 月 1 日  
**维护者**: PostgreSQL Modern Team
