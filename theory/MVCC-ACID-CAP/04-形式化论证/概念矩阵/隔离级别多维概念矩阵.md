# éš”ç¦»çº§åˆ«å¤šç»´æ¦‚å¿µçŸ©é˜µ

> **æ–‡æ¡£ç¼–å·**: MATRIX-003
> **ä¸»é¢˜**: éš”ç¦»çº§åˆ«å¤šç»´æ¦‚å¿µå¯¹æ¯”çŸ©é˜µ
> **ç‰ˆæœ¬**: PostgreSQL 17 & 18
> **çŠ¶æ€**: âœ… å·²å®Œæˆ

---

## ğŸ“‘ ç›®å½•

- [éš”ç¦»çº§åˆ«å¤šç»´æ¦‚å¿µçŸ©é˜µ](#éš”ç¦»çº§åˆ«å¤šç»´æ¦‚å¿µçŸ©é˜µ)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [ğŸ“‹ æ¦‚è¿°](#-æ¦‚è¿°)
  - [ğŸ“Š ç¬¬ä¸€éƒ¨åˆ†ï¼šéš”ç¦»çº§åˆ«å®šä¹‰çŸ©é˜µ](#-ç¬¬ä¸€éƒ¨åˆ†éš”ç¦»çº§åˆ«å®šä¹‰çŸ©é˜µ)
  - [ğŸ“Š ç¬¬äºŒéƒ¨åˆ†ï¼šéš”ç¦»çº§åˆ«å±æ€§çŸ©é˜µ](#-ç¬¬äºŒéƒ¨åˆ†éš”ç¦»çº§åˆ«å±æ€§çŸ©é˜µ)
  - [ğŸ“Š ç¬¬ä¸‰éƒ¨åˆ†ï¼šéš”ç¦»çº§åˆ«å®ç°æœºåˆ¶çŸ©é˜µ](#-ç¬¬ä¸‰éƒ¨åˆ†éš”ç¦»çº§åˆ«å®ç°æœºåˆ¶çŸ©é˜µ)
  - [ğŸ“Š ç¬¬å››éƒ¨åˆ†ï¼šéš”ç¦»çº§åˆ«ä¸MVCCå…³ç³»çŸ©é˜µ](#-ç¬¬å››éƒ¨åˆ†éš”ç¦»çº§åˆ«ä¸mvccå…³ç³»çŸ©é˜µ)
  - [ğŸ“Š ç¬¬äº”éƒ¨åˆ†ï¼šéš”ç¦»çº§åˆ«ä¸CAPå…³ç³»çŸ©é˜µ](#-ç¬¬äº”éƒ¨åˆ†éš”ç¦»çº§åˆ«ä¸capå…³ç³»çŸ©é˜µ)
  - [ğŸ“š å¤–éƒ¨èµ„æºå¼•ç”¨](#-å¤–éƒ¨èµ„æºå¼•ç”¨)
    - [Wikipediaèµ„æº](#wikipediaèµ„æº)
    - [å­¦æœ¯è®ºæ–‡](#å­¦æœ¯è®ºæ–‡)
    - [å®˜æ–¹æ–‡æ¡£](#å®˜æ–¹æ–‡æ¡£)

---

## ğŸ“‹ æ¦‚è¿°

æœ¬æ–‡æ¡£é€šè¿‡å¤šç»´çŸ©é˜µå¯¹æ¯”çš„æ–¹å¼ï¼Œå…¨é¢å±•ç¤ºPostgreSQLæ”¯æŒçš„å››ç§éš”ç¦»çº§åˆ«çš„å®šä¹‰ã€å±æ€§ã€å®ç°æœºåˆ¶ã€ä¸MVCCçš„å…³ç³»ä»¥åŠä¸CAPçš„å…³ç³»ã€‚

**éš”ç¦»çº§åˆ«**ï¼š

- READ UNCOMMITTEDï¼ˆè¯»æœªæäº¤ï¼‰
- READ COMMITTEDï¼ˆè¯»å·²æäº¤ï¼‰
- REPEATABLE READï¼ˆå¯é‡å¤è¯»ï¼‰
- SERIALIZABLEï¼ˆå¯ä¸²è¡ŒåŒ–ï¼‰

---

## ğŸ“Š ç¬¬ä¸€éƒ¨åˆ†ï¼šéš”ç¦»çº§åˆ«å®šä¹‰çŸ©é˜µ

| ç»´åº¦ | READ UNCOMMITTED | READ COMMITTED | REPEATABLE READ | SERIALIZABLE |
|------|-----------------|----------------|-----------------|--------------|
| **ANSIæ ‡å‡†** | æœ€ä½éš”ç¦»çº§åˆ« | é»˜è®¤éš”ç¦»çº§åˆ« | ä¸­ç­‰éš”ç¦»çº§åˆ« | æœ€é«˜éš”ç¦»çº§åˆ« |
| **å®šä¹‰** | å…è®¸è¯»å–æœªæäº¤çš„æ•°æ® | åªå…è®¸è¯»å–å·²æäº¤çš„æ•°æ® | äº‹åŠ¡æœŸé—´è¯»å–çš„æ•°æ®ä¿æŒä¸€è‡´ | äº‹åŠ¡æ‰§è¡Œç»“æœç­‰ä»·äºä¸²è¡Œæ‰§è¡Œ |
| **è„è¯»** | âœ… å…è®¸ | âŒ ä¸å…è®¸ | âŒ ä¸å…è®¸ | âŒ ä¸å…è®¸ |
| **ä¸å¯é‡å¤è¯»** | âœ… å…è®¸ | âœ… å…è®¸ | âŒ ä¸å…è®¸ | âŒ ä¸å…è®¸ |
| **å¹»è¯»** | âœ… å…è®¸ | âœ… å…è®¸ | âš ï¸ å¯èƒ½ï¼ˆPostgreSQLé¿å…ï¼‰ | âŒ ä¸å…è®¸ |
| **Wikipedia** | [Read Uncommitted](https://en.wikipedia.org/wiki/Isolation_(database_systems)#Read_uncommitted) | [Read Committed](https://en.wikipedia.org/wiki/Isolation_(database_systems)#Read_committed) | [Repeatable Read](https://en.wikipedia.org/wiki/Isolation_(database_systems)#Repeatable_reads) | [Serializable](https://en.wikipedia.org/wiki/Isolation_(database_systems)#Serializable) |

---

## ğŸ“Š ç¬¬äºŒéƒ¨åˆ†ï¼šéš”ç¦»çº§åˆ«å±æ€§çŸ©é˜µ

| å±æ€§ | READ UNCOMMITTED | READ COMMITTED | REPEATABLE READ | SERIALIZABLE |
|------|-----------------|----------------|-----------------|--------------|
| **ä¸€è‡´æ€§å¼ºåº¦** | æœ€å¼± | å¼± | ä¸­ç­‰ | æœ€å¼º |
| **å¹¶å‘æ€§èƒ½** | æœ€é«˜ | é«˜ | ä¸­ç­‰ | æœ€ä½ |
| **é”å¼€é”€** | æœ€ä½ | ä½ | ä¸­ç­‰ | æœ€é«˜ |
| **å†²çªæ£€æµ‹** | æ—  | è¯­å¥çº§ | äº‹åŠ¡çº§ | ä¸²è¡ŒåŒ–æ£€æµ‹ |
| **å¿«ç…§ç±»å‹** | æ— å¿«ç…§ | è¯­å¥çº§å¿«ç…§ | äº‹åŠ¡çº§å¿«ç…§ | SSIå¿«ç…§ |
| **é€‚ç”¨åœºæ™¯** | åªè¯»ç»Ÿè®¡ | ä¸€èˆ¬åº”ç”¨ | æŠ¥è¡¨æŸ¥è¯¢ | é‡‘èäº¤æ˜“ |

---

## ğŸ“Š ç¬¬ä¸‰éƒ¨åˆ†ï¼šéš”ç¦»çº§åˆ«å®ç°æœºåˆ¶çŸ©é˜µ

| æœºåˆ¶ | READ UNCOMMITTED | READ COMMITTED | REPEATABLE READ | SERIALIZABLE |
|------|-----------------|----------------|-----------------|--------------|
| **MVCCå¿«ç…§** | æ—  | è¯­å¥çº§å¿«ç…§ | äº‹åŠ¡çº§å¿«ç…§ | SSIå¿«ç…§ |
| **å¯è§æ€§è§„åˆ™** | æ‰€æœ‰ç‰ˆæœ¬å¯è§ | å·²æäº¤ç‰ˆæœ¬å¯è§ | å¿«ç…§ç‰ˆæœ¬å¯è§ | SSIè§„åˆ™ |
| **é”æœºåˆ¶** | æ— é”è¯» | è¡Œé”å†™ | è¡Œé”å†™ + SIREADé” | è¡Œé”å†™ + SSIæ£€æµ‹ |
| **å†²çªæ£€æµ‹** | æ—  | è¯­å¥çº§æ£€æµ‹ | äº‹åŠ¡çº§æ£€æµ‹ | ä¸²è¡ŒåŒ–æ£€æµ‹ |
| **æ€§èƒ½å¼€é”€** | æœ€ä½ | ä½ | ä¸­ç­‰ | é«˜ |

---

## ğŸ“Š ç¬¬å››éƒ¨åˆ†ï¼šéš”ç¦»çº§åˆ«ä¸MVCCå…³ç³»çŸ©é˜µ

| MVCCæœºåˆ¶ | READ UNCOMMITTED | READ COMMITTED | REPEATABLE READ | SERIALIZABLE |
|---------|-----------------|----------------|-----------------|--------------|
| **ç‰ˆæœ¬é“¾** | ä¸ä½¿ç”¨ | ä½¿ç”¨ | ä½¿ç”¨ | ä½¿ç”¨ |
| **å¿«ç…§ç”Ÿæˆ** | æ—  | è¯­å¥çº§ | äº‹åŠ¡çº§ | SSIçº§ |
| **å¯è§æ€§åˆ¤æ–­** | æ—  | ç®€å•åˆ¤æ–­ | å¿«ç…§åˆ¤æ–­ | SSIåˆ¤æ–­ |
| **ç‰ˆæœ¬å›æ”¶** | æ— å½±å“ | è¯­å¥çº§å½±å“ | äº‹åŠ¡çº§å½±å“ | SSIçº§å½±å“ |
| **XIDç®¡ç†** | æ— è¦æ±‚ | åŸºæœ¬è¦æ±‚ | è¾ƒé«˜è¦æ±‚ | æœ€é«˜è¦æ±‚ |

---

## ğŸ“Š ç¬¬äº”éƒ¨åˆ†ï¼šéš”ç¦»çº§åˆ«ä¸CAPå…³ç³»çŸ©é˜µ

| CAPç»´åº¦ | READ UNCOMMITTED | READ COMMITTED | REPEATABLE READ | SERIALIZABLE |
|---------|-----------------|----------------|-----------------|--------------|
| **ä¸€è‡´æ€§(C)** | æœ€å¼±ä¸€è‡´æ€§ | å¼±ä¸€è‡´æ€§ | ä¸­ç­‰ä¸€è‡´æ€§ | å¼ºä¸€è‡´æ€§ |
| **å¯ç”¨æ€§(A)** | æœ€é«˜å¯ç”¨æ€§ | é«˜å¯ç”¨æ€§ | ä¸­ç­‰å¯ç”¨æ€§ | è¾ƒä½å¯ç”¨æ€§ |
| **åˆ†åŒºå®¹é”™(P)** | æ— è¦æ±‚ | åŸºæœ¬è¦æ±‚ | è¾ƒé«˜è¦æ±‚ | æœ€é«˜è¦æ±‚ |
| **CAPé€‰æ‹©** | APæ¨¡å¼ | APæ¨¡å¼ | CPæ¨¡å¼ | CPæ¨¡å¼ |
| **åˆ†å¸ƒå¼é€‚ç”¨** | ä¸é€‚ç”¨ | é€‚ç”¨ | é€‚ç”¨ | é€‚ç”¨ |

---

## ğŸ“š å¤–éƒ¨èµ„æºå¼•ç”¨

### Wikipediaèµ„æº

1. **éš”ç¦»çº§åˆ«ç›¸å…³**ï¼š
   - [Isolation (database systems)](https://en.wikipedia.org/wiki/Isolation_(database_systems))
   - [Read Uncommitted](https://en.wikipedia.org/wiki/Isolation_(database_systems)#Read_uncommitted)
   - [Read Committed](https://en.wikipedia.org/wiki/Isolation_(database_systems)#Read_committed)
   - [Repeatable Read](https://en.wikipedia.org/wiki/Isolation_(database_systems)#Repeatable_reads)
   - [Serializable](https://en.wikipedia.org/wiki/Isolation_(database_systems)#Serializable)

2. **å¹¶å‘æ§åˆ¶ç›¸å…³**ï¼š
   - [Concurrency Control](https://en.wikipedia.org/wiki/Concurrency_control)
   - [Lock (computer science)](https://en.wikipedia.org/wiki/Lock_(computer_science))
   - [Deadlock](https://en.wikipedia.org/wiki/Deadlock)

### å­¦æœ¯è®ºæ–‡

1. **éš”ç¦»çº§åˆ«**ï¼š
   - Berenson, H., et al. (1995). "A Critique of ANSI SQL Isolation Levels"
   - Gray, J., & Reuter, A. (1993). "Transaction Processing: Concepts and Techniques"

2. **å¯ä¸²è¡ŒåŒ–**ï¼š
   - Papadimitriou, C. H. (1979). "The Serializability of Concurrent Database Updates"
   - Bernstein, P. A., & Goodman, N. (1981). "Concurrency Control in Distributed Database Systems"

3. **å¿«ç…§éš”ç¦»**ï¼š
   - Fekete, A., et al. (2005). "Making Snapshot Isolation Serializable"
   - Cahill, M. J., et al. (2009). "Serializable Isolation for Snapshot Databases"

### å®˜æ–¹æ–‡æ¡£

1. **PostgreSQLå®˜æ–¹æ–‡æ¡£**ï¼š
   - [Transaction Isolation](https://www.postgresql.org/docs/current/transaction-iso.html)
   - [MVCC](https://www.postgresql.org/docs/current/mvcc.html)
   - [Concurrency Control](https://www.postgresql.org/docs/current/mvcc.html)

2. **SQLæ ‡å‡†**ï¼š
   - ANSI SQL Standard (ISO/IEC 9075)

---

**æœ€åæ›´æ–°**: 2024å¹´
**ç»´æŠ¤çŠ¶æ€**: âœ… å·²å®Œæˆ
