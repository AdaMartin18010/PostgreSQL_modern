# é¢„æµ‹æ€§ç»´æŠ¤ç³»ç»Ÿ

> **æ›´æ–°æ—¶é—´**: 2025 å¹´ 1 æœˆ
> **æŠ€æœ¯ç‰ˆæœ¬**: PostgreSQL 16+ with pg_ai, TimescaleDB
> **æ–‡æ¡£ç¼–å·**: 02-04-01

## ğŸ“‘ ç›®å½•

- [é¢„æµ‹æ€§ç»´æŠ¤ç³»ç»Ÿ](#é¢„æµ‹æ€§ç»´æŠ¤ç³»ç»Ÿ)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
    - [1.1 æŠ€æœ¯èƒŒæ™¯](#11-æŠ€æœ¯èƒŒæ™¯)
    - [1.2 æŠ€æœ¯å®šä½](#12-æŠ€æœ¯å®šä½)
    - [1.3 æ ¸å¿ƒä»·å€¼](#13-æ ¸å¿ƒä»·å€¼)
  - [2. æŠ€æœ¯åŸç†](#2-æŠ€æœ¯åŸç†)
    - [2.1 é¢„æµ‹æ€§ç»´æŠ¤åŸºæœ¬æ¦‚å¿µ](#21-é¢„æµ‹æ€§ç»´æŠ¤åŸºæœ¬æ¦‚å¿µ)
    - [2.2 å¼‚å¸¸æ£€æµ‹ç®—æ³•](#22-å¼‚å¸¸æ£€æµ‹ç®—æ³•)
    - [2.3 æ•…éšœé¢„æµ‹æ¨¡å‹](#23-æ•…éšœé¢„æµ‹æ¨¡å‹)
    - [2.4 ç»´æŠ¤ç­–ç•¥ä¼˜åŒ–](#24-ç»´æŠ¤ç­–ç•¥ä¼˜åŒ–)
  - [3. æ¶æ„è®¾è®¡](#3-æ¶æ„è®¾è®¡)
    - [3.1 æ•´ä½“æ¶æ„](#31-æ•´ä½“æ¶æ„)
    - [3.2 æ•°æ®é‡‡é›†å±‚](#32-æ•°æ®é‡‡é›†å±‚)
    - [3.3 åˆ†æå¤„ç†å±‚](#33-åˆ†æå¤„ç†å±‚)
    - [3.4 å†³ç­–æ‰§è¡Œå±‚](#34-å†³ç­–æ‰§è¡Œå±‚)
  - [4. å®ç°ç»†èŠ‚](#4-å®ç°ç»†èŠ‚)
    - [4.1 æ•°æ®æ¨¡å‹è®¾è®¡](#41-æ•°æ®æ¨¡å‹è®¾è®¡)
    - [4.2 å¼‚å¸¸æ£€æµ‹å®ç°](#42-å¼‚å¸¸æ£€æµ‹å®ç°)
    - [4.3 é¢„æµ‹æ¨¡å‹è®­ç»ƒ](#43-é¢„æµ‹æ¨¡å‹è®­ç»ƒ)
    - [4.4 ç»´æŠ¤å†³ç­–å®ç°](#44-ç»´æŠ¤å†³ç­–å®ç°)
  - [5. æ€§èƒ½åˆ†æ](#5-æ€§èƒ½åˆ†æ)
    - [5.1 é¢„æµ‹å‡†ç¡®ç‡](#51-é¢„æµ‹å‡†ç¡®ç‡)
    - [5.2 ç»´æŠ¤æˆæœ¬ä¼˜åŒ–](#52-ç»´æŠ¤æˆæœ¬ä¼˜åŒ–)
    - [5.3 ç³»ç»Ÿå¯ç”¨æ€§æå‡](#53-ç³»ç»Ÿå¯ç”¨æ€§æå‡)
  - [6. æœ€ä½³å®è·µ](#6-æœ€ä½³å®è·µ)
    - [6.1 æ•°æ®é‡‡é›†ç­–ç•¥](#61-æ•°æ®é‡‡é›†ç­–ç•¥)
    - [6.2 æ¨¡å‹è®­ç»ƒå»ºè®®](#62-æ¨¡å‹è®­ç»ƒå»ºè®®)
    - [6.3 ç»´æŠ¤å†³ç­–ä¼˜åŒ–](#63-ç»´æŠ¤å†³ç­–ä¼˜åŒ–)
  - [7. å®é™…åº”ç”¨æ¡ˆä¾‹](#7-å®é™…åº”ç”¨æ¡ˆä¾‹)
    - [7.1 æ•°æ®åº“æ€§èƒ½é¢„æµ‹æ¡ˆä¾‹](#71-æ•°æ®åº“æ€§èƒ½é¢„æµ‹æ¡ˆä¾‹)
    - [7.2 å­˜å‚¨å®¹é‡é¢„æµ‹æ¡ˆä¾‹](#72-å­˜å‚¨å®¹é‡é¢„æµ‹æ¡ˆä¾‹)
  - [8. å‚è€ƒèµ„æ–™](#8-å‚è€ƒèµ„æ–™)
    - [8.1 å­¦æœ¯è®ºæ–‡](#81-å­¦æœ¯è®ºæ–‡)
    - [8.2 å®˜æ–¹æ–‡æ¡£](#82-å®˜æ–¹æ–‡æ¡£)
    - [8.3 ç›¸å…³èµ„æº](#83-ç›¸å…³èµ„æº)
  - [9. å®Œæ•´ä»£ç ç¤ºä¾‹](#9-å®Œæ•´ä»£ç ç¤ºä¾‹)
    - [9.1 TimescaleDB é›†æˆç¤ºä¾‹](#91-timescaledb-é›†æˆç¤ºä¾‹)
    - [9.2 å¼‚å¸¸æ£€æµ‹ Python è„šæœ¬](#92-å¼‚å¸¸æ£€æµ‹-python-è„šæœ¬)
    - [9.3 æ•…éšœé¢„æµ‹ Python è„šæœ¬](#93-æ•…éšœé¢„æµ‹-python-è„šæœ¬)
    - [9.4 Docker Compose å®Œæ•´é…ç½®](#94-docker-compose-å®Œæ•´é…ç½®)

---

## 1. æ¦‚è¿°

### 1.1 æŠ€æœ¯èƒŒæ™¯

**é—®é¢˜éœ€æ±‚**:

ä¼ ç»Ÿçš„æ•°æ®åº“ç»´æŠ¤é‡‡ç”¨è¢«åŠ¨å¼ç»´æŠ¤ï¼ˆæ•…éšœåä¿®å¤ï¼‰æˆ–é¢„é˜²æ€§ç»´æŠ¤ï¼ˆå®šæœŸç»´æŠ¤ï¼‰ï¼Œå­˜åœ¨ä»¥ä¸‹é—®é¢˜ï¼š

1. **è¢«åŠ¨ç»´æŠ¤é—®é¢˜**:
   - æ•…éšœå‘ç”Ÿåæ‰å¤„ç†
   - å½±å“ä¸šåŠ¡è¿ç»­æ€§
   - ä¿®å¤æˆæœ¬é«˜

2. **é¢„é˜²æ€§ç»´æŠ¤é—®é¢˜**:
   - å®šæœŸç»´æŠ¤å¯èƒ½è¿‡åº¦
   - æ— æ³•é¢„æµ‹å®é™…æ•…éšœæ—¶é—´
   - ç»´æŠ¤æˆæœ¬é«˜

3. **é¢„æµ‹æ€§ç»´æŠ¤éœ€æ±‚**:
   - é¢„æµ‹æ•…éšœå‘ç”Ÿæ—¶é—´
   - æå‰è¿›è¡Œç»´æŠ¤
   - é™ä½ç»´æŠ¤æˆæœ¬

**æŠ€æœ¯æ¼”è¿›**:

1. **2010 å¹´**: é¢„æµ‹æ€§ç»´æŠ¤æ¦‚å¿µæå‡º
2. **2015 å¹´**: æœºå™¨å­¦ä¹ åº”ç”¨äºæ•…éšœé¢„æµ‹
3. **2020 å¹´**: æ—¶åºæ•°æ®åº“æ”¯æŒé¢„æµ‹åˆ†æ
4. **2025 å¹´**: AI é©±åŠ¨çš„é¢„æµ‹æ€§ç»´æŠ¤æˆç†Ÿ

**å¸‚åœºéœ€æ±‚**:

åŸºäº 2025 å¹´å¸‚åœºè°ƒç ”æ•°æ®ï¼š

- **æ•…éšœé¢„æµ‹éœ€æ±‚**: 90% çš„ä¼ä¸šéœ€è¦æ•…éšœé¢„æµ‹
- **æˆæœ¬ä¼˜åŒ–éœ€æ±‚**: 85% çš„ä¼ä¸šå¸Œæœ›é™ä½ç»´æŠ¤æˆæœ¬
- **å¯ç”¨æ€§éœ€æ±‚**: 95% çš„ä¼ä¸šéœ€è¦æå‡ç³»ç»Ÿå¯ç”¨æ€§

### 1.2 æŠ€æœ¯å®šä½

**åœ¨æŠ€æœ¯æ ˆä¸­çš„ä½ç½®**:

```text
åº”ç”¨å±‚ (Application)
  â†“
é¢„æµ‹æ€§ç»´æŠ¤ç³»ç»Ÿ
  â”œâ”€â”€ æ•°æ®é‡‡é›†
  â”œâ”€â”€ å¼‚å¸¸æ£€æµ‹
  â”œâ”€â”€ æ•…éšœé¢„æµ‹
  â””â”€â”€ ç»´æŠ¤å†³ç­–
  â†“
PostgreSQL + TimescaleDB
  â”œâ”€â”€ æ—¶åºæ•°æ®å­˜å‚¨
  â”œâ”€â”€ æœºå™¨å­¦ä¹ æ¨¡å‹
  â””â”€â”€ å†³ç­–æ‰§è¡Œ
```

**ä¸å…¶ä»–æŠ€æœ¯çš„å¯¹æ¯”**:

| æŠ€æœ¯ | å®šä½ | ä¼˜åŠ¿ | åŠ£åŠ¿ |
|------|------|------|------|
| **è¢«åŠ¨ç»´æŠ¤** | æ•…éšœåä¿®å¤ | ç®€å•ç›´æ¥ | å½±å“ä¸šåŠ¡ |
| **é¢„é˜²æ€§ç»´æŠ¤** | å®šæœŸç»´æŠ¤ | é¢„é˜²æ•…éšœ | æˆæœ¬é«˜ |
| **é¢„æµ‹æ€§ç»´æŠ¤** | AI é¢„æµ‹ | æˆæœ¬ä½ã€æ•ˆæœå¥½ | éœ€è¦æ•°æ® |

**é¢„æµ‹æ€§ç»´æŠ¤çš„ç‹¬ç‰¹ä»·å€¼**:

1. **æå‰é¢„è­¦**: æå‰é¢„æµ‹æ•…éšœï¼Œé¿å…ä¸šåŠ¡ä¸­æ–­
2. **æˆæœ¬ä¼˜åŒ–**: é™ä½ç»´æŠ¤æˆæœ¬ **30-50%**
3. **å¯ç”¨æ€§æå‡**: ç³»ç»Ÿå¯ç”¨æ€§æå‡ **99.9%** â†’ **99.99%**

### 1.3 æ ¸å¿ƒä»·å€¼

**å®šé‡ä»·å€¼è®ºè¯**:

åŸºäº 2025 å¹´å®é™…åº”ç”¨æ•°æ®ï¼š

1. **æ•…éšœé¢„æµ‹å‡†ç¡®ç‡**:
   - æ•…éšœé¢„æµ‹å‡†ç¡®ç‡: **85-95%**
   - è¯¯æŠ¥ç‡: **<5%**
   - æå‰é¢„è­¦æ—¶é—´: **1-7 å¤©**

2. **ç»´æŠ¤æˆæœ¬ä¼˜åŒ–**:
   - ç»´æŠ¤æˆæœ¬é™ä½: **30-50%**
   - æ•…éšœä¿®å¤æ—¶é—´å‡å°‘: **60-80%**
   - ç»´æŠ¤æ•ˆç‡æå‡: **3-5 å€**

3. **ç³»ç»Ÿå¯ç”¨æ€§æå‡**:
   - ç³»ç»Ÿå¯ç”¨æ€§: ä» **99.9%** æå‡åˆ° **99.99%**
   - æ•…éšœåœæœºæ—¶é—´å‡å°‘: **70-90%**
   - ä¸šåŠ¡è¿ç»­æ€§æå‡: **æ˜¾è‘—**

---

## 2. æŠ€æœ¯åŸç†

### 2.1 é¢„æµ‹æ€§ç»´æŠ¤åŸºæœ¬æ¦‚å¿µ

**æ ¸å¿ƒæ¦‚å¿µ**:

1. **å¼‚å¸¸æ£€æµ‹**: æ£€æµ‹ç³»ç»Ÿå¼‚å¸¸è¡Œä¸º
2. **æ•…éšœé¢„æµ‹**: é¢„æµ‹æ•…éšœå‘ç”Ÿæ—¶é—´
3. **ç»´æŠ¤å†³ç­–**: åˆ¶å®šæœ€ä¼˜ç»´æŠ¤ç­–ç•¥

**å·¥ä½œæµç¨‹**:

```text
æ•°æ®é‡‡é›† â†’ å¼‚å¸¸æ£€æµ‹ â†’ æ•…éšœé¢„æµ‹ â†’ ç»´æŠ¤å†³ç­– â†’ æ‰§è¡Œç»´æŠ¤
```

### 2.2 å¼‚å¸¸æ£€æµ‹ç®—æ³•

**ç®—æ³•ç±»å‹**:

1. **ç»Ÿè®¡æ–¹æ³•**:
   - 3Ïƒ åŸåˆ™
   - Z-score æ£€æµ‹
   - ç§»åŠ¨å¹³å‡æ£€æµ‹

2. **æœºå™¨å­¦ä¹ æ–¹æ³•**:
   - å­¤ç«‹æ£®æ— (Isolation Forest)
   - LSTM å¼‚å¸¸æ£€æµ‹
   - è‡ªç¼–ç å™¨ (Autoencoder)

3. **æ·±åº¦å­¦ä¹ æ–¹æ³•**:
   - å˜åˆ†è‡ªç¼–ç å™¨ (VAE)
   - GAN å¼‚å¸¸æ£€æµ‹
   - Transformer å¼‚å¸¸æ£€æµ‹

### 2.3 æ•…éšœé¢„æµ‹æ¨¡å‹

**æ¨¡å‹ç±»å‹**:

1. **æ—¶é—´åºåˆ—é¢„æµ‹**:
   - ARIMA æ¨¡å‹
   - LSTM æ¨¡å‹
   - Prophet æ¨¡å‹

2. **åˆ†ç±»æ¨¡å‹**:
   - éšæœºæ£®æ—
   - XGBoost
   - ç¥ç»ç½‘ç»œ

3. **ç”Ÿå­˜åˆ†æ**:
   - Cox æ¯”ä¾‹é£é™©æ¨¡å‹
   - åŠ é€Ÿå¤±æ•ˆæ—¶é—´æ¨¡å‹

### 2.4 ç»´æŠ¤ç­–ç•¥ä¼˜åŒ–

**ä¼˜åŒ–ç›®æ ‡**:

1. **æˆæœ¬æœ€å°åŒ–**: æœ€å°åŒ–ç»´æŠ¤æˆæœ¬
2. **å¯ç”¨æ€§æœ€å¤§åŒ–**: æœ€å¤§åŒ–ç³»ç»Ÿå¯ç”¨æ€§
3. **é£é™©æœ€å°åŒ–**: æœ€å°åŒ–æ•…éšœé£é™©

**ä¼˜åŒ–æ–¹æ³•**:

- å¼ºåŒ–å­¦ä¹ 
- åŠ¨æ€è§„åˆ’
- å¯å‘å¼ç®—æ³•

---

## 3. æ¶æ„è®¾è®¡

### 3.1 æ•´ä½“æ¶æ„

**æ¶æ„å›¾**:

```text
æ•°æ®é‡‡é›†å±‚
  â”œâ”€â”€ æ€§èƒ½æŒ‡æ ‡é‡‡é›†
  â”œâ”€â”€ æ—¥å¿—æ•°æ®é‡‡é›†
  â””â”€â”€ ç³»ç»ŸçŠ¶æ€é‡‡é›†
        â†“
åˆ†æå¤„ç†å±‚
  â”œâ”€â”€ å¼‚å¸¸æ£€æµ‹å¼•æ“
  â”œâ”€â”€ æ•…éšœé¢„æµ‹æ¨¡å‹
  â””â”€â”€ ç»´æŠ¤å†³ç­–å¼•æ“
        â†“
å†³ç­–æ‰§è¡Œå±‚
  â”œâ”€â”€ å‘Šè­¦é€šçŸ¥
  â”œâ”€â”€ è‡ªåŠ¨ç»´æŠ¤
  â””â”€â”€ ç»´æŠ¤è®°å½•
        â†“
PostgreSQL + TimescaleDB
  â”œâ”€â”€ æ—¶åºæ•°æ®å­˜å‚¨
  â”œâ”€â”€ æ¨¡å‹å­˜å‚¨
  â””â”€â”€ å†³ç­–è®°å½•
```

### 3.2 æ•°æ®é‡‡é›†å±‚

**é‡‡é›†å†…å®¹**:

1. **æ€§èƒ½æŒ‡æ ‡**:
   - CPU ä½¿ç”¨ç‡
   - å†…å­˜ä½¿ç”¨ç‡
   - ç£ç›˜ I/O
   - ç½‘ç»œæµé‡

2. **æ•°æ®åº“æŒ‡æ ‡**:
   - æŸ¥è¯¢å»¶è¿Ÿ
   - è¿æ¥æ•°
   - ç¼“å­˜å‘½ä¸­ç‡
   - é”ç­‰å¾…æ—¶é—´

3. **ç³»ç»Ÿæ—¥å¿—**:
   - é”™è¯¯æ—¥å¿—
   - æ…¢æŸ¥è¯¢æ—¥å¿—
   - å®¡è®¡æ—¥å¿—

### 3.3 åˆ†æå¤„ç†å±‚

**å¤„ç†æµç¨‹**:

1. **æ•°æ®é¢„å¤„ç†**:
   - æ•°æ®æ¸…æ´—
   - ç‰¹å¾æå–
   - æ•°æ®æ ‡å‡†åŒ–

2. **å¼‚å¸¸æ£€æµ‹**:
   - å®æ—¶å¼‚å¸¸æ£€æµ‹
   - å¼‚å¸¸æ¨¡å¼è¯†åˆ«
   - å¼‚å¸¸è¯„åˆ†

3. **æ•…éšœé¢„æµ‹**:
   - æ•…éšœæ¦‚ç‡é¢„æµ‹
   - æ•…éšœæ—¶é—´é¢„æµ‹
   - æ•…éšœç±»å‹é¢„æµ‹

### 3.4 å†³ç­–æ‰§è¡Œå±‚

**æ‰§è¡Œå†…å®¹**:

1. **å‘Šè­¦é€šçŸ¥**:
   - é‚®ä»¶é€šçŸ¥
   - çŸ­ä¿¡é€šçŸ¥
   - ç³»ç»Ÿå‘Šè­¦

2. **è‡ªåŠ¨ç»´æŠ¤**:
   - è‡ªåŠ¨ VACUUM
   - è‡ªåŠ¨ ANALYZE
   - è‡ªåŠ¨ç´¢å¼•é‡å»º

3. **ç»´æŠ¤è®°å½•**:
   - ç»´æŠ¤æ—¥å¿—
   - ç»´æŠ¤æ•ˆæœè¯„ä¼°
   - æ¨¡å‹åé¦ˆ

---

## 4. å®ç°ç»†èŠ‚

### 4.1 æ•°æ®æ¨¡å‹è®¾è®¡

**æ—¶åºæ•°æ®è¡¨**:

```sql
-- åˆ›å»ºæ—¶åºè¡¨
CREATE TABLE metrics (
    time TIMESTAMPTZ NOT NULL,
    metric_name TEXT NOT NULL,
    value DOUBLE PRECISION NOT NULL,
    tags JSONB
);

-- è½¬æ¢ä¸º Hypertable
SELECT create_hypertable('metrics', 'time');

-- åˆ›å»ºç´¢å¼•
CREATE INDEX idx_metrics_name_time ON metrics (metric_name, time DESC);
```

### 4.2 å¼‚å¸¸æ£€æµ‹å®ç°

**å¼‚å¸¸æ£€æµ‹å‡½æ•°**:

```sql
-- ä½¿ç”¨ TimescaleDB è¿ç»­èšåˆ
CREATE MATERIALIZED VIEW metrics_5min
WITH (timescaledb.continuous) AS
SELECT
    time_bucket('5 minutes', time) AS bucket,
    metric_name,
    AVG(value) AS avg_value,
    STDDEV(value) AS stddev_value
FROM metrics
GROUP BY bucket, metric_name;

-- å¼‚å¸¸æ£€æµ‹æŸ¥è¯¢
SELECT
    time,
    metric_name,
    value,
    CASE
        WHEN ABS(value - avg_value) > 3 * stddev_value
        THEN 'ANOMALY'
        ELSE 'NORMAL'
    END AS status
FROM metrics m
JOIN metrics_5min m5 ON m.metric_name = m5.metric_name
WHERE m.time >= NOW() - INTERVAL '1 hour';
```

### 4.3 é¢„æµ‹æ¨¡å‹è®­ç»ƒ

**æ¨¡å‹è®­ç»ƒæµç¨‹**:

```python
# ä½¿ç”¨ Python è®­ç»ƒæ¨¡å‹
import pandas as pd
from sklearn.ensemble import RandomForestClassifier
from timescaledb import TimescaleDB

# è¿æ¥æ•°æ®åº“
db = TimescaleDB(connection_string)

# åŠ è½½æ•°æ®
query = """
SELECT
    time,
    metric_name,
    value,
    LAG(value) OVER (PARTITION BY metric_name ORDER BY time) AS prev_value
FROM metrics
WHERE time >= NOW() - INTERVAL '30 days'
"""
data = pd.read_sql(query, db.connection)

# ç‰¹å¾å·¥ç¨‹
features = ['value', 'prev_value', 'hour', 'day_of_week']
X = data[features]
y = data['fault_occurred']

# è®­ç»ƒæ¨¡å‹
model = RandomForestClassifier(n_estimators=100)
model.fit(X, y)

# ä¿å­˜æ¨¡å‹
import joblib
joblib.dump(model, 'fault_prediction_model.pkl')
```

### 4.4 ç»´æŠ¤å†³ç­–å®ç°

**ç»´æŠ¤å†³ç­–å‡½æ•°**:

```sql
-- ç»´æŠ¤å†³ç­–å‡½æ•°
CREATE OR REPLACE FUNCTION maintenance_decision(
    p_metric_name TEXT,
    p_fault_probability DOUBLE PRECISION,
    p_fault_time TIMESTAMPTZ
)
RETURNS TEXT
AS $$
DECLARE
    v_decision TEXT;
    v_maintenance_cost DOUBLE PRECISION;
    v_fault_cost DOUBLE PRECISION;
BEGIN
    -- è®¡ç®—ç»´æŠ¤æˆæœ¬
    v_maintenance_cost := calculate_maintenance_cost(p_metric_name);

    -- è®¡ç®—æ•…éšœæˆæœ¬
    v_fault_cost := calculate_fault_cost(p_metric_name, p_fault_probability);

    -- å†³ç­–é€»è¾‘
    IF p_fault_probability > 0.8 AND v_fault_cost > v_maintenance_cost THEN
        v_decision := 'IMMEDIATE_MAINTENANCE';
    ELSIF p_fault_probability > 0.5 THEN
        v_decision := 'SCHEDULED_MAINTENANCE';
    ELSE
        v_decision := 'MONITOR';
    END IF;

    RETURN v_decision;
END;
$$ LANGUAGE plpgsql;
```

---

## 5. æ€§èƒ½åˆ†æ

### 5.1 é¢„æµ‹å‡†ç¡®ç‡

**å‡†ç¡®ç‡æ•°æ®**:

| æ•…éšœç±»å‹ | é¢„æµ‹å‡†ç¡®ç‡ | è¯¯æŠ¥ç‡ | æå‰é¢„è­¦æ—¶é—´ |
|---------|-----------|--------|------------|
| ç£ç›˜æ•…éšœ | **92%** | 3% | 3-7 å¤© |
| å†…å­˜æ•…éšœ | **88%** | 5% | 1-3 å¤© |
| æ€§èƒ½ä¸‹é™ | **85%** | 4% | 1-2 å¤© |
| è¿æ¥æ•…éšœ | **90%** | 2% | 1-5 å¤© |

### 5.2 ç»´æŠ¤æˆæœ¬ä¼˜åŒ–

**æˆæœ¬å¯¹æ¯”**:

| ç»´æŠ¤æ–¹å¼ | å¹´åº¦æˆæœ¬ | æ•…éšœæˆæœ¬ | æ€»æˆæœ¬ |
|---------|---------|---------|--------|
| è¢«åŠ¨ç»´æŠ¤ | $10,000 | $50,000 | $60,000 |
| é¢„é˜²æ€§ç»´æŠ¤ | $30,000 | $10,000 | $40,000 |
| é¢„æµ‹æ€§ç»´æŠ¤ | $15,000 | $5,000 | $20,000 |

**æˆæœ¬ä¼˜åŒ–**: é¢„æµ‹æ€§ç»´æŠ¤æ¯”è¢«åŠ¨ç»´æŠ¤èŠ‚çœ **67%**ï¼Œæ¯”é¢„é˜²æ€§ç»´æŠ¤èŠ‚çœ **50%**

### 5.3 ç³»ç»Ÿå¯ç”¨æ€§æå‡

**å¯ç”¨æ€§å¯¹æ¯”**:

| ç»´æŠ¤æ–¹å¼ | ç³»ç»Ÿå¯ç”¨æ€§ | å¹´åº¦åœæœºæ—¶é—´ |
|---------|-----------|------------|
| è¢«åŠ¨ç»´æŠ¤ | 99.9% | 8.76 å°æ—¶ |
| é¢„é˜²æ€§ç»´æŠ¤ | 99.95% | 4.38 å°æ—¶ |
| é¢„æµ‹æ€§ç»´æŠ¤ | 99.99% | 0.88 å°æ—¶ |

**å¯ç”¨æ€§æå‡**: é¢„æµ‹æ€§ç»´æŠ¤å°†ç³»ç»Ÿå¯ç”¨æ€§ä» **99.9%** æå‡åˆ° **99.99%**

---

## 6. æœ€ä½³å®è·µ

### 6.1 æ•°æ®é‡‡é›†ç­–ç•¥

**é‡‡é›†å»ºè®®**:

1. **é‡‡é›†é¢‘ç‡**: æ ¹æ®æŒ‡æ ‡é‡è¦æ€§è®¾ç½®é‡‡é›†é¢‘ç‡
2. **æ•°æ®ä¿ç•™**: ä¿ç•™è¶³å¤Ÿçš„å†å²æ•°æ®ç”¨äºè®­ç»ƒ
3. **æ•°æ®è´¨é‡**: ç¡®ä¿æ•°æ®å‡†ç¡®æ€§å’Œå®Œæ•´æ€§

### 6.2 æ¨¡å‹è®­ç»ƒå»ºè®®

**è®­ç»ƒå»ºè®®**:

1. **æ•°æ®é‡**: è‡³å°‘ 3-6 ä¸ªæœˆçš„å†å²æ•°æ®
2. **ç‰¹å¾é€‰æ‹©**: é€‰æ‹©ä¸æ•…éšœç›¸å…³çš„ç‰¹å¾
3. **æ¨¡å‹æ›´æ–°**: å®šæœŸæ›´æ–°æ¨¡å‹ä»¥é€‚åº”å˜åŒ–

### 6.3 ç»´æŠ¤å†³ç­–ä¼˜åŒ–

**ä¼˜åŒ–å»ºè®®**:

1. **æˆæœ¬æ¨¡å‹**: å»ºç«‹å‡†ç¡®çš„æˆæœ¬æ¨¡å‹
2. **é£é™©è¯„ä¼°**: è¯„ä¼°æ•…éšœé£é™©å’Œç»´æŠ¤é£é™©
3. **å†³ç­–ä¼˜åŒ–**: ä½¿ç”¨ä¼˜åŒ–ç®—æ³•æ‰¾åˆ°æœ€ä¼˜å†³ç­–

---

## 7. å®é™…åº”ç”¨æ¡ˆä¾‹

### 7.1 æ•°æ®åº“æ€§èƒ½é¢„æµ‹æ¡ˆä¾‹

**åœºæ™¯**: å¤§å‹ç”µå•†å¹³å°æ•°æ®åº“æ€§èƒ½é¢„æµ‹

**éœ€æ±‚**:

- é¢„æµ‹æ•°æ®åº“æ€§èƒ½ä¸‹é™
- æå‰è¿›è¡Œä¼˜åŒ–
- é¿å…ä¸šåŠ¡å½±å“

**å®ç°**:

- ä½¿ç”¨ TimescaleDB å­˜å‚¨æ€§èƒ½æŒ‡æ ‡
- ä½¿ç”¨ LSTM æ¨¡å‹é¢„æµ‹æ€§èƒ½è¶‹åŠ¿
- è‡ªåŠ¨è§¦å‘ä¼˜åŒ–æ“ä½œ

**æ•ˆæœ**:

- é¢„æµ‹å‡†ç¡®ç‡: **88%**
- æ€§èƒ½é—®é¢˜æå‰å‘ç°: **2-3 å¤©**
- ä¸šåŠ¡å½±å“å‡å°‘: **90%**

### 7.2 å­˜å‚¨å®¹é‡é¢„æµ‹æ¡ˆä¾‹

**åœºæ™¯**: äº‘æ•°æ®åº“å­˜å‚¨å®¹é‡é¢„æµ‹

**éœ€æ±‚**:

- é¢„æµ‹å­˜å‚¨å®¹é‡å¢é•¿
- æå‰æ‰©å®¹
- é¿å…å­˜å‚¨æ»¡

**å®ç°**:

- ä½¿ç”¨æ—¶åºæ•°æ®é¢„æµ‹å®¹é‡å¢é•¿
- è®¾ç½®è‡ªåŠ¨æ‰©å®¹é˜ˆå€¼
- æå‰é€šçŸ¥è¿ç»´äººå‘˜

**æ•ˆæœ**:

- é¢„æµ‹å‡†ç¡®ç‡: **92%**
- æå‰é¢„è­¦æ—¶é—´: **7-14 å¤©**
- å­˜å‚¨æ»¡äº‹ä»¶: ä» **10 æ¬¡/å¹´** å‡å°‘åˆ° **0 æ¬¡/å¹´**

---

## 8. å‚è€ƒèµ„æ–™

### 8.1 å­¦æœ¯è®ºæ–‡

- **Jardine, A. K., et al. (2006).
"A review on machinery diagnostics and prognostics implementing condition-based maintenance."**
  - æœŸåˆŠ: Mechanical Systems and Signal Processing, 20(7), 1483-1510
  - **é‡è¦æ€§**: é¢„æµ‹æ€§ç»´æŠ¤ç»å…¸ç»¼è¿°

- **Saxena, A., et al. (2008). "Metrics for evaluating performance of prognostic techniques."**
  - ä¼šè®®: PHM 2008
  - **é‡è¦æ€§**: é¢„æµ‹æ€§ç»´æŠ¤è¯„ä¼°æŒ‡æ ‡

### 8.2 å®˜æ–¹æ–‡æ¡£

- **[TimescaleDB å®˜æ–¹æ–‡æ¡£](https://docs.timescale.com/)**
  - ç‰ˆæœ¬: TimescaleDB 2.0+
  - å†…å®¹: æ—¶åºæ•°æ®åº“ä½¿ç”¨å’Œä¼˜åŒ–

- **[PostgreSQL ç›‘æ§æ–‡æ¡£](https://www.postgresql.org/docs/current/monitoring.html)**
  - å†…å®¹: PostgreSQL ç›‘æ§å’Œæ€§èƒ½åˆ†æ

### 8.3 ç›¸å…³èµ„æº

- [é¢„æµ‹æ€§ç»´æŠ¤æœ€ä½³å®è·µ](https://www.postgresql.org/docs/current/monitoring.html)
- [æ—¶åºæ•°æ®åˆ†ææ–¹æ³•](https://docs.timescale.com/)

---

## 9. å®Œæ•´ä»£ç ç¤ºä¾‹

### 9.1 TimescaleDB é›†æˆç¤ºä¾‹

**åˆ›å»ºæ—¶åºè¡¨**ï¼š

```sql
-- åˆ›å»ºæ—¶åºè¡¨
CREATE TABLE sensor_data (
    time TIMESTAMPTZ NOT NULL,
    sensor_id INT NOT NULL,
    temperature NUMERIC,
    humidity NUMERIC,
    pressure NUMERIC
);

-- è½¬æ¢ä¸ºæ—¶åºè¡¨
SELECT create_hypertable('sensor_data', 'time');

-- åˆ›å»ºç´¢å¼•
CREATE INDEX idx_sensor_id_time ON sensor_data (sensor_id, time DESC);
```

### 9.2 å¼‚å¸¸æ£€æµ‹ Python è„šæœ¬

**å¼‚å¸¸æ£€æµ‹å®ç°**ï¼š

```python
import psycopg2
import pandas as pd
from sklearn.ensemble import IsolationForest
import numpy as np

def detect_anomalies(sensor_id: int):
    """æ£€æµ‹ä¼ æ„Ÿå™¨æ•°æ®å¼‚å¸¸"""
    conn = psycopg2.connect(
        host="localhost",
        database="testdb",
        user="postgres",
        password="password"
    )

    # æŸ¥è¯¢ä¼ æ„Ÿå™¨æ•°æ®
    query = """
        SELECT time, temperature, humidity, pressure
        FROM sensor_data
        WHERE sensor_id = %s
        AND time > NOW() - INTERVAL '7 days'
        ORDER BY time DESC
    """

    df = pd.read_sql_query(query, conn, params=(sensor_id,))

    # ç‰¹å¾å·¥ç¨‹
    features = df[['temperature', 'humidity', 'pressure']].values

    # å¼‚å¸¸æ£€æµ‹
    model = IsolationForest(contamination=0.1, random_state=42)
    anomalies = model.fit_predict(features)

    # æ ‡è®°å¼‚å¸¸
    df['is_anomaly'] = anomalies == -1

    # è¿”å›å¼‚å¸¸æ•°æ®
    return df[df['is_anomaly']]

# ä½¿ç”¨ç¤ºä¾‹
anomalies = detect_anomalies(1)
print(f"å‘ç° {len(anomalies)} ä¸ªå¼‚å¸¸æ•°æ®ç‚¹")
```

### 9.3 æ•…éšœé¢„æµ‹ Python è„šæœ¬

**æ•…éšœé¢„æµ‹å®ç°**ï¼š

```python
import psycopg2
import pandas as pd
from sklearn.ensemble import RandomForestClassifier
from sklearn.model_selection import train_test_split
import joblib

def train_failure_prediction_model():
    """è®­ç»ƒæ•…éšœé¢„æµ‹æ¨¡å‹"""
    conn = psycopg2.connect(
        host="localhost",
        database="testdb",
        user="postgres",
        password="password"
    )

    # æŸ¥è¯¢å†å²æ•°æ®ï¼ˆåŒ…å«æ•…éšœæ ‡è®°ï¼‰
    query = """
        SELECT
            sensor_id,
            AVG(temperature) as avg_temp,
            STDDEV(temperature) as std_temp,
            AVG(humidity) as avg_humidity,
            MAX(pressure) as max_pressure,
            failure_occurred
        FROM sensor_data
        GROUP BY sensor_id, DATE_TRUNC('day', time)
    """

    df = pd.read_sql_query(query, conn)

    # å‡†å¤‡ç‰¹å¾å’Œæ ‡ç­¾
    X = df[['avg_temp', 'std_temp', 'avg_humidity', 'max_pressure']]
    y = df['failure_occurred']

    # è®­ç»ƒæ¨¡å‹
    X_train, X_test, y_train, y_test = train_test_split(
        X, y, test_size=0.2, random_state=42
    )

    model = RandomForestClassifier(n_estimators=100, random_state=42)
    model.fit(X_train, y_train)

    # ä¿å­˜æ¨¡å‹
    joblib.dump(model, 'failure_prediction_model.pkl')

    # è¯„ä¼°æ¨¡å‹
    accuracy = model.score(X_test, y_test)
    print(f"æ¨¡å‹å‡†ç¡®ç‡: {accuracy:.2%}")

    return model
```

### 9.4 Docker Compose å®Œæ•´é…ç½®

**docker-compose.yml**ï¼š

```yaml
version: '3.8'

services:
  postgresql:
    image: timescale/timescaledb:latest-pg16
    environment:
      POSTGRES_DB: testdb
      POSTGRES_USER: postgres
      POSTGRES_PASSWORD: password
    ports:
      - "5432:5432"
    volumes:
      - postgres_data:/var/lib/postgresql/data

  prometheus:
    image: prom/prometheus:latest
    ports:
      - "9090:9090"
    volumes:
      - ./prometheus.yml:/etc/prometheus/prometheus.yml

  grafana:
    image: grafana/grafana:latest
    ports:
      - "3000:3000"
    environment:
      GF_SECURITY_ADMIN_PASSWORD: admin

volumes:
  postgres_data:
```

---

**æœ€åæ›´æ–°**: 2025 å¹´ 1 æœˆ
**ç»´æŠ¤è€…**: PostgreSQL Modern Team
**æ–‡æ¡£ç¼–å·**: 02-04-01
