# 链接路径规范

> **文档编号**: STRUCTURE-STANDARD-003
> **主题**: 链接路径规范
> **版本**: v1.0
> **创建日期**: 2024年
> **状态**: ✅ 已完成

---

## 📋 目录

- [链接路径规范](#链接路径规范)
  - [📋 目录](#-目录)
  - [📊 第一部分：路径规范总览](#-第一部分路径规范总览)
    - [1.1 路径类型](#11-路径类型)
    - [1.2 路径规范原则](#12-路径规范原则)
  - [🔗 第二部分：相对路径规则](#-第二部分相对路径规则)
    - [2.1 标准相对路径表](#21-标准相对路径表)
    - [2.2 子目录路径规则](#22-子目录路径规则)
      - [规则1：同级目录](#规则1同级目录)
      - [规则2：父级目录](#规则2父级目录)
      - [规则3：跨级目录](#规则3跨级目录)
    - [2.3 特殊路径规则](#23-特殊路径规则)
      - [view文件夹路径](#view文件夹路径)
      - [项目文件路径](#项目文件路径)
  - [✅ 第三部分：链接检查清单](#-第三部分链接检查清单)
    - [3.1 链接创建时检查](#31-链接创建时检查)
    - [3.2 链接更新时检查](#32-链接更新时检查)
    - [3.3 链接验证规则](#33-链接验证规则)
      - [验证规则](#验证规则)
  - [🔧 第四部分：链接修复计划](#-第四部分链接修复计划)
    - [4.1 需要检查的链接类型](#41-需要检查的链接类型)
      - [类型1：文档内部链接](#类型1文档内部链接)
      - [类型2：跨文档链接](#类型2跨文档链接)
      - [类型3：锚点链接](#类型3锚点链接)
    - [4.2 链接检查工具](#42-链接检查工具)
      - [工具1：grep搜索](#工具1grep搜索)
      - [工具2：链接验证脚本](#工具2链接验证脚本)
    - [4.3 链接修复步骤](#43-链接修复步骤)
      - [步骤1：文件移动前](#步骤1文件移动前)
      - [步骤2：文件移动后](#步骤2文件移动后)
      - [步骤3：验证和修复](#步骤3验证和修复)
  - [📋 链接路径总结](#-链接路径总结)
    - [核心原则](#核心原则)
    - [路径格式总结](#路径格式总结)
    - [路径规则总结](#路径规则总结)
  - [🔗 相关文档](#-相关文档)

---

## 📊 第一部分：路径规范总览

### 1.1 路径类型

| 路径类型 | 使用场景 | 示例 | 说明 |
|---------|---------|------|------|
| **相对路径** | 项目内部链接 | `../view/mvcc00.md` | 推荐使用 |
| **绝对路径** | 外部链接 | `https://...` | 外部资源使用 |
| **锚点链接** | 文档内部链接 | `#第一部分` | 文档内导航 |

### 1.2 路径规范原则

1. **使用相对路径**：项目内部链接使用相对路径
2. **路径正确性**：确保路径指向正确的文件
3. **路径一致性**：同类链接使用统一的路径格式
4. **路径可维护性**：路径应该易于维护和更新

---

## 🔗 第二部分：相对路径规则

### 2.1 标准相对路径表

| 源位置 | 目标位置 | 相对路径 | 示例 |
|--------|---------|---------|------|
| 00-项目文件/ | view/ | `../view/xxx.md` | `../view/mvcc00.md` |
| 00-项目文件/ | 01-理论基础/ | `../01-理论基础/xxx/xxx.md` | `../01-理论基础/CAP理论/README.md` |
| 01-理论基础/ | view/ | `../view/xxx.md` | `../view/mvcc00.md` |
| 01-理论基础/ | 00-项目文件/ | `../00-项目文件/xxx.md` | `../00-项目文件/文档索引.md` |
| 02-多维度视角/ | view/ | `../../view/xxx.md` | `../../view/mvcc00.md` |
| 02-多维度视角/ | 00-项目文件/ | `../../00-项目文件/xxx.md` | `../../00-项目文件/文档索引.md` |
| 03-场景实践/ | view/ | `../../view/xxx.md` | `../../view/mvcc00.md` |
| 03-场景实践/ | 00-项目文件/ | `../../00-项目文件/xxx.md` | `../../00-项目文件/文档索引.md` |
| 04-形式化论证/ | view/ | `../../view/xxx.md` | `../../view/mvcc00.md` |
| 04-形式化论证/ | 00-项目文件/ | `../../00-项目文件/xxx.md` | `../../00-项目文件/文档索引.md` |
| 05-验证工具/ | view/ | `../../view/xxx.md` | `../../view/mvcc00.md` |
| 06-后续规划/ | view/ | `../../view/xxx.md` | `../../view/mvcc00.md` |
| 06-后续规划/ | 00-项目文件/ | `../../00-项目文件/xxx.md` | `../../00-项目文件/文档索引.md` |

### 2.2 子目录路径规则

#### 规则1：同级目录

**格式**：`./xxx.md` 或 `xxx.md`

**示例**：

- 从`02-多维度视角/程序员视角/`到`02-多维度视角/程序员视角/Python驱动事务管理.md`
- 路径：`Python驱动事务管理.md` 或 `./Python驱动事务管理.md`

#### 规则2：父级目录

**格式**：`../xxx.md`

**示例**：

- 从`02-多维度视角/程序员视角/`到`02-多维度视角/README.md`
- 路径：`../README.md`

#### 规则3：跨级目录

**格式**：`../../xxx/xxx.md`

**示例**：

- 从`02-多维度视角/程序员视角/`到`view/mvcc00.md`
- 路径：`../../view/mvcc00.md`

### 2.3 特殊路径规则

#### view文件夹路径

**规则**：

- 从一级目录（00-项目文件、01-理论基础）：`../view/xxx.md`
- 从二级目录（02-多维度视角/xxx）：`../../view/xxx.md`
- 从三级目录：`../../../view/xxx.md`

#### 项目文件路径

**规则**：

- 从一级目录：`../00-项目文件/xxx.md`
- 从二级目录：`../../00-项目文件/xxx.md`
- 从三级目录：`../../../00-项目文件/xxx.md`

---

## ✅ 第三部分：链接检查清单

### 3.1 链接创建时检查

- [ ] 确定源文件和目标文件的位置
- [ ] 计算正确的相对路径
- [ ] 验证路径是否正确
- [ ] 检查文件是否存在
- [ ] 使用正确的路径格式

### 3.2 链接更新时检查

- [ ] 检查链接是否仍然有效
- [ ] 如果文件移动，更新路径
- [ ] 验证更新后的路径
- [ ] 更新文档索引（如需要）

### 3.3 链接验证规则

#### 验证规则

1. **路径正确性**：
   - [ ] 路径指向正确的文件
   - [ ] 文件确实存在
   - [ ] 路径格式正确

2. **路径一致性**：
   - [ ] 同类链接使用统一格式
   - [ ] 路径风格一致

3. **路径可维护性**：
   - [ ] 路径易于理解
   - [ ] 路径易于更新

---

## 🔧 第四部分：链接修复计划

### 4.1 需要检查的链接类型

#### 类型1：文档内部链接

**检查范围**：

- 文档目录中的链接
- 文档正文中的交叉引用

**检查方法**：

- 使用Markdown链接检查工具
- 手动验证每个链接

#### 类型2：跨文档链接

**检查范围**：

- README中的链接
- 文档索引中的链接
- 文档之间的引用链接

**检查方法**：

- 搜索所有Markdown链接
- 验证每个链接的有效性

#### 类型3：锚点链接

**检查范围**：

- 文档内部的锚点链接
- 跨文档的锚点链接

**检查方法**：

- 验证锚点ID存在
- 验证锚点格式正确

### 4.2 链接检查工具

#### 工具1：grep搜索

```bash
# 搜索所有Markdown链接
grep -r "\[.*\](" --include="*.md" .

# 搜索特定路径的链接
grep -r "view/mvcc00" --include="*.md" .
```

#### 工具2：链接验证脚本

**建议创建脚本**：

- 扫描所有Markdown文件
- 提取所有链接
- 验证链接有效性
- 生成报告

### 4.3 链接修复步骤

#### 步骤1：文件移动前

1. **记录所有链接**

   ```bash
   # 搜索引用MVCC_Lock_Transaction的链接
   grep -r "MVCC_Lock_Transaction" --include="*.md" .

   # 搜索引用view报告文件的链接
   grep -r "view/Phase2\|view/Week\|view/文档" --include="*.md" .
   ```

2. **创建链接映射表**
   - 记录旧路径和新路径的映射
   - 准备批量替换

#### 步骤2：文件移动后

1. **批量替换链接**
   - 使用编辑器批量替换
   - 或使用脚本自动替换

2. **验证链接**
   - 检查所有链接是否更新
   - 验证链接有效性

#### 步骤3：验证和修复

1. **验证所有链接**
   - 检查链接路径正确
   - 检查文件可访问
   - 检查锚点有效

2. **修复失效链接**
   - 修复路径错误
   - 修复文件不存在
   - 修复锚点错误

---

## 📋 链接路径总结

### 核心原则

1. **使用相对路径**：项目内部链接使用相对路径
2. **路径正确性**：确保路径指向正确的文件
3. **路径一致性**：同类链接使用统一的路径格式
4. **路径可维护性**：路径应该易于维护和更新

### 路径格式总结

| 源位置 | 目标位置 | 路径格式 |
|--------|---------|---------|
| 一级目录 | view/ | `../view/xxx.md` |
| 二级目录 | view/ | `../../view/xxx.md` |
| 三级目录 | view/ | `../../../view/xxx.md` |
| 一级目录 | 00-项目文件/ | `../00-项目文件/xxx.md` |
| 二级目录 | 00-项目文件/ | `../../00-项目文件/xxx.md` |

### 路径规则总结

1. **同级目录**：`./xxx.md` 或 `xxx.md`
2. **父级目录**：`../xxx.md`
3. **跨级目录**：`../../xxx/xxx.md`
4. **使用连字符**：路径中使用`/`分隔目录

---

## 🔗 相关文档

- **[结构问题详细清单](19-结构问题详细清单.md)** - 链接路径问题详情
- **[文件移动执行计划](21-文件移动执行计划.md)** - 包含链接更新步骤
- **[文档编号体系规范](20-文档编号体系规范.md)** - 编号规范

---

**最后更新**: 2024年
**维护状态**: ✅ 已完成
**下一步行动**: 开始链接检查和修复
