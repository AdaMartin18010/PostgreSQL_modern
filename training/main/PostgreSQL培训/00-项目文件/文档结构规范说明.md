# PostgreSQL 培训文档结构规范说明

> **更新时间**: 2025 年 1 月
> **文档编号**: 00-00-02
> **适用范围**: 所有 PostgreSQL 培训文档

---

## 📑 目录

- [PostgreSQL 培训文档结构规范说明](#postgresql-培训文档结构规范说明)
  - [📑 目录](#-目录)
  - [1. 概述](#1-概述)
    - [1.1 规范目的](#11-规范目的)
    - [1.2 适用范围](#12-适用范围)
  - [2. 文档结构标准](#2-文档结构标准)
    - [2.1 文档头部](#21-文档头部)
    - [2.2 目录结构](#22-目录结构)
    - [2.3 章节编号](#23-章节编号)
    - [2.4 内容组织](#24-内容组织)
  - [3. 格式规范](#3-格式规范)
    - [3.1 标题格式](#31-标题格式)
    - [3.2 代码块格式](#32-代码块格式)
    - [3.3 表格格式](#33-表格格式)
    - [3.4 图表格式](#34-图表格式)
  - [4. 内容要求](#4-内容要求)
    - [4.1 技术原理](#41-技术原理)
    - [4.2 代码示例](#42-代码示例)
    - [4.3 实际案例](#43-实际案例)
    - [4.4 最佳实践](#44-最佳实践)
    - [4.5 参考资料](#45-参考资料)
  - [5. 文档模板](#5-文档模板)
    - [5.1 培训文档模板](#51-培训文档模板)
    - [5.2 指导文档模板](#52-指导文档模板)
    - [5.3 速查文档模板](#53-速查文档模板)
  - [6. 质量检查](#6-质量检查)
    - [6.1 结构检查](#61-结构检查)
    - [6.2 内容检查](#62-内容检查)
    - [6.3 格式检查](#63-格式检查)
  - [7. 常见问题](#7-常见问题)
    - [7.1 目录不完整](#71-目录不完整)
    - [7.2 序号不一致](#72-序号不一致)
    - [7.3 格式不规范](#73-格式不规范)
  - [📚 参考资料](#-参考资料)

---

## 1. 概述

### 1.1 规范目的

本规范旨在：
- ✅ **统一文档结构**：确保所有文档遵循相同的结构标准
- ✅ **提升文档质量**：通过规范保证文档的完整性和一致性
- ✅ **便于维护更新**：标准化的结构便于后续维护
- ✅ **改善用户体验**：一致的结构让用户更容易理解和使用

### 1.2 适用范围

本规范适用于：
- ✅ 所有基础培训文档（64份）
- ✅ 所有新特性文档（47份）
- ✅ 所有技术趋势文档（52份）
- ✅ 所有指导文档（7份）
- ✅ 总计：149份文档

---

## 2. 文档结构标准

### 2.1 文档头部

**标准格式**：

```markdown
# 文档标题

> **更新时间**: YYYY 年 MM 月
> **技术版本**: PostgreSQL X.X+
> **文档编号**: XX-XX-XX

---

## 📑 目录

[完整的目录结构]

---

## 1. 概述

### 1.1 [子章节标题]

[内容]
```

**必需元素**：
1. ✅ 一级标题（# 文档标题）
2. ✅ 元数据块（更新时间、技术版本、文档编号）
3. ✅ 分隔线（---）
4. ✅ 目录（## 📑 目录）
5. ✅ 另一条分隔线（---）
6. ✅ 正文内容

### 2.2 目录结构

**标准格式**：

```markdown
## 📑 目录

- [文档标题](#文档标题锚点)
  - [📑 目录](#-目录)
  - [1. 第一章](#1-第一章)
    - [1.1 第一节](#11-第一节)
      - [1.1.1 子节（如果有）](#111-子节如果有)
    - [1.2 第二节](#12-第二节)
  - [2. 第二章](#2-第二章)
    - [2.1 第一节](#21-第一节)
  - [📚 参考资料](#-参考资料)
```

**目录要求**：
1. ✅ **完整性**：包含所有主要章节和子章节
2. ✅ **层级性**：正确的缩进表示层级关系
3. ✅ **链接性**：所有链接指向正确的锚点
4. ✅ **一致性**：序号格式保持一致

### 2.3 章节编号

**编号规则**：

1. **主章节**：使用数字序号（1., 2., 3.）
   ```markdown
   ## 1. 概述
   ## 2. 技术原理
   ## 3. 代码示例
   ```

2. **子章节**：使用小数点（1.1, 1.2, 2.1）
   ```markdown
   ### 1.1 技术背景
   ### 1.2 核心价值
   ### 2.1 工作原理
   ```

3. **子子章节**：使用三位数字（1.1.1, 1.1.2）或文字标题
   ```markdown
   #### 1.1.1 具体细节
   #### 或
   #### 工作流程
   ```

4. **特殊章节**：不使用数字编号
   ```markdown
   ## 📚 参考资料
   ## 📊 总结
   ```

**一致性要求**：
- ✅ 同一文档中的编号风格必须一致
- ✅ 子章节编号必须连续（不能跳号）
- ✅ 目录中的编号必须与正文一致

### 2.4 内容组织

**标准章节顺序**：

1. **概述**（必需）
   - 技术背景
   - 核心价值
   - 学习目标（可选）

2. **思维导图**（推荐）
   - 知识体系思维导图
   - 流程图

3. **核心内容**（必需，章节数可变）
   - 按逻辑组织的主题内容
   - 每个主题包含：原理、语法、示例

4. **实际案例**（推荐）
   - 至少1个真实案例
   - 包含场景、实现、效果

5. **最佳实践**（必需）
   - 推荐做法
   - 避免做法
   - 性能建议

6. **常见问题**（可选）
   - FAQ 列表
   - 问题和解答

7. **参考资料**（必需）
   - 官方文档
   - 技术论文
   - 技术博客
   - 社区资源
   - 相关文档

---

## 3. 格式规范

### 3.1 标题格式

**标题层级**：

```markdown
# 一级标题（文档标题，每个文档只有一个）

## 二级标题（主章节）

### 三级标题（子章节）

#### 四级标题（子子章节，尽量少用）
```

**标题规范**：
- ✅ 标题前后各留一个空行
- ✅ 标题与 `#` 之间有一个空格
- ✅ 标题使用中文或英文，不混用
- ✅ 标题简洁明了，不超过30个字符

### 3.2 代码块格式

**标准格式**：

```markdown
\```sql
-- SQL 代码示例
SELECT * FROM users;
\```

\```bash
# Shell 命令示例
systemctl restart postgresql
\```

\```python
# Python 代码示例
import psycopg2
\```
```

**代码块规范**：
- ✅ 必须指定语言标记（sql, bash, python等）
- ✅ 代码块前后各留一个空行
- ✅ 代码缩进使用4个空格或1个tab
- ✅ 关键代码添加注释
- ✅ 长代码适当分行

### 3.3 表格格式

**标准格式**：

```markdown
| 列1 | 列2 | 列3 |
|-----|-----|-----|
| 数据1 | 数据2 | 数据3 |
| 数据4 | 数据5 | 数据6 |
```

**表格规范**：
- ✅ 表格前后各留一个空行
- ✅ 列对齐（管道符对齐）
- ✅ 表头使用粗体（**文字**）或普通文字
- ✅ 使用 `|---|---|` 分隔表头和数据

### 3.4 图表格式

**Mermaid 图表格式**：

```markdown
\```mermaid
flowchart TD
    A[开始] --> B[处理]
    B --> C[结束]
\```
```

**图表规范**：
- ✅ 使用 Mermaid 语法
- ✅ 图表前添加说明文字
- ✅ 图表前后各留一个空行
- ✅ 节点命名清晰
- ✅ 使用合适的图表类型（flowchart, mindmap, graph等）

---

## 4. 内容要求

### 4.1 技术原理

**必需包含**：
- ✅ 工作原理概述（1.0节或专门章节）
- ✅ 流程图或架构图
- ✅ 关键概念解释
- ✅ 执行步骤说明

**示例结构**：

```markdown
### 1.0 技术工作原理概述

**工作原理**：

[原理说明文字]

**执行流程**：

\```mermaid
flowchart TD
    [流程图]
\```
```

### 4.2 代码示例

**要求**：
- ✅ 每个主要功能至少1个代码示例
- ✅ 代码完整可运行
- ✅ 包含注释说明
- ✅ 展示最佳实践

**示例格式**：

```markdown
#### 4.1.1 功能名称

**代码示例**：

\```sql
-- 功能说明
SELECT column1, column2
FROM table_name
WHERE condition;
\```

**说明**：
- 解释代码的关键点
- 说明使用场景
```

### 4.3 实际案例

**标准格式**：

```markdown
### 6.1 案例：案例名称（真实案例）

**背景**：
- 场景描述
- 问题描述

**实现方案**：

\```sql
-- 解决方案代码
\```

**效果评估**：
- 性能提升数据
- 问题解决情况
```

### 4.4 最佳实践

**标准格式**：

```markdown
## 7. 最佳实践

### 7.1 推荐做法

#### ✅ 做法1：标题

- **说明**：...
- **原因**：...
- **示例**：

\```sql
-- 代码示例
\```

### 7.2 避免做法

#### ❌ 反模式1：标题

- **问题**：...
- **影响**：...
- **替代方案**：...

### 7.3 性能建议

- 建议列表
```

### 4.5 参考资料

**标准格式**：

```markdown
## 📚 参考资料

### 官方文档

- [文档标题](链接) - 简短说明

### 技术论文

- **论文标题** - 作者，年份
  - 重要性说明
  - 核心贡献

### 技术博客

- [博客标题](链接) - 发布日期

### 社区资源

- [资源标题](链接)

### 相关文档

- 📖 [内部文档标题](相对路径)
```

---

## 5. 文档模板

### 5.1 培训文档模板

```markdown
# 文档标题

> **更新时间**: YYYY 年 MM 月
> **技术版本**: PostgreSQL X.X+
> **文档编号**: XX-XX-XX

---

## 📑 目录

- [文档标题](#文档标题)
  - [📑 目录](#-目录)
  - [1. 概述](#1-概述)
    - [1.0 工作原理概述](#10-工作原理概述)
    - [1.1 技术背景](#11-技术背景)
    - [1.2 核心价值](#12-核心价值)
  - [2. 核心内容](#2-核心内容)
    - [2.1 子主题1](#21-子主题1)
  - [3. 实际案例](#3-实际案例)
    - [3.1 案例1](#31-案例1)
  - [4. 最佳实践](#4-最佳实践)
    - [4.1 推荐做法](#41-推荐做法)
    - [4.2 避免做法](#42-避免做法)
  - [5. 常见问题](#5-常见问题)
  - [📚 参考资料](#-参考资料)

---

## 1. 概述

### 1.0 工作原理概述

**工作原理**：

[原理说明]

**执行流程**：

\```mermaid
flowchart TD
    [流程图]
\```

### 1.1 技术背景

[内容]

### 1.2 核心价值

[内容]

## 2. 核心内容

### 2.1 子主题1

[内容]

## 3. 实际案例

### 3.1 案例：案例名称（真实案例）

**背景**：
[场景描述]

**实现**：
[代码和说明]

**效果**：
[结果分析]

## 4. 最佳实践

### 4.1 推荐做法

#### ✅ 做法1

[内容]

### 4.2 避免做法

#### ❌ 反模式1

[内容]

## 5. 常见问题

### Q1: 问题？

A: 解答

## 📚 参考资料

### 官方文档

- [链接]

[其他分类]

---

**最后更新**: YYYY 年 MM 月
**维护者**: PostgreSQL Modern Team
**文档编号**: XX-XX-XX
```

### 5.2 指导文档模板

```markdown
# 指导文档标题

> **更新时间**: YYYY 年 MM 月
> **适用版本**: PostgreSQL X.X+
> **文档编号**: XX-XX-XX

---

## 📑 目录

[完整的嵌套目录结构，包含所有章节和子章节]

---

## 1. 概述

### 1.1 文档目的

[说明文档用途]

### 1.2 核心价值

[说明文档价值]

## 2. 主要内容

[按章节组织的内容]

## 📚 参考资料

[参考资料]

---

**最后更新**: YYYY 年 MM 月
**维护者**: PostgreSQL Modern Team
**文档编号**: XX-XX-XX
```

### 5.3 速查文档模板

```markdown
# 速查文档标题

> **更新时间**: YYYY 年 MM 月
> **适用版本**: PostgreSQL X.X+
> **文档编号**: XX-XX-XX

---

## 📑 目录

[完整的目录结构]

---

## 1. 主题1

### 1.1 子主题1

\```sql
-- 代码示例
\```

### 1.2 子主题2

[内容]

## 2. 主题2

[类似结构]

## 📚 相关文档

- 📖 [文档链接]

---

**最后更新**: YYYY 年 MM 月
**维护者**: PostgreSQL Modern Team
**文档编号**: XX-XX-XX
```

---

## 6. 质量检查

### 6.1 结构检查

**检查清单**：

- [ ] 文档标题格式正确（# 标题）
- [ ] 元数据完整（更新时间、技术版本、文档编号）
- [ ] 有完整的目录（## 📑 目录）
- [ ] 目录包含所有主要章节
- [ ] 章节编号连续无跳号
- [ ] 有参考资料章节（## 📚 参考资料）
- [ ] 文档末尾有维护信息

### 6.2 内容检查

**检查清单**：

- [ ] 有概述章节说明文档目的
- [ ] 有工作原理概述（培训文档）
- [ ] 有流程图或架构图（推荐）
- [ ] 有代码示例（至少3个）
- [ ] 有实际案例（至少1个）
- [ ] 有最佳实践
- [ ] 有参考资料（至少3个）

### 6.3 格式检查

**检查清单**：

- [ ] 代码块有语言标记
- [ ] 表格格式规范
- [ ] 列表缩进正确
- [ ] 空行使用恰当
- [ ] 链接格式正确
- [ ] 无拼写错误

---

## 7. 常见问题

### 7.1 目录不完整

**问题**：目录缺少子章节

**解决**：
1. 检查文档的所有标题
2. 确保目录包含所有二级和三级标题
3. 检查目录链接是否正确

**正确示例**：

```markdown
## 📑 目录

- [文档标题](#文档标题)
  - [📑 目录](#-目录)
  - [1. 概述](#1-概述)
    - [1.1 背景](#11-背景)
    - [1.2 价值](#12-价值)
  - [2. 内容](#2-内容)
    - [2.1 子内容](#21-子内容)
```

### 7.2 序号不一致

**问题**：目录序号与正文不一致

**解决**：
1. 确保目录和正文使用相同的序号
2. 检查序号是否连续
3. 统一序号格式（1.1, 1.2，不要用1-1, 1-2）

**错误示例**：
```markdown
目录：[1.1 主题](#11-主题)
正文：### 1.1 主题   ✅ 一致

目录：[1.1 主题](#11-主题)
正文：### 1.2 主题   ❌ 不一致
```

### 7.3 格式不规范

**常见问题**：
1. 代码块没有语言标记
2. 表格列不对齐
3. 列表缩进错误
4. 空行使用不当

**解决**：参考本文档的格式规范部分

---

## 📚 参考资料

### 官方文档

- [Markdown 规范](https://www.markdownguide.org/)
- [Mermaid 文档](https://mermaid.js.org/)

### 项目文档

- 📖 [矩阵视角文档完整性检查清单](../09-矩阵视角文档完整性检查清单.md)
- 📖 [文档质量进度报告](../文档质量进度报告-2025-01.md)
- 📖 [文档扩展深化计划](../文档扩展深化计划.md)

---

**最后更新**: 2025 年 1 月
**维护者**: PostgreSQL Modern Team
**文档编号**: 00-00-02
