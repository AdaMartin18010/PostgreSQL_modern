# 3.7 æ•°æ®ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥

> **æ›´æ–°æ—¶é—´**: 2025 å¹´ 11 æœˆ 1 æ—¥  
> **æŠ€æœ¯ç‰ˆæœ¬**: Neon v3.0+  
> **æ–‡æ¡£ç¼–å·**: 03-04-02

## ğŸ“‘ ç›®å½•

- [3.7 æ•°æ®ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥](#37-æ•°æ®ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥)
  - [ğŸ“‘ ç›®å½•](#-ç›®å½•)
  - [1. æ¦‚è¿°](#1-æ¦‚è¿°)
  - [2. ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥](#2-ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥)
    - [2.1 è¯­ä¹‰åŒ–ç‰ˆæœ¬](#21-è¯­ä¹‰åŒ–ç‰ˆæœ¬)
    - [2.2 ç‰ˆæœ¬æ ‡ç­¾](#22-ç‰ˆæœ¬æ ‡ç­¾)
  - [3. åˆ†æ”¯ç®¡ç†ç­–ç•¥](#3-åˆ†æ”¯ç®¡ç†ç­–ç•¥)
    - [3.1 åˆ†æ”¯ç±»å‹](#31-åˆ†æ”¯ç±»å‹)
    - [3.2 åˆ†æ”¯ç”Ÿå‘½å‘¨æœŸ](#32-åˆ†æ”¯ç”Ÿå‘½å‘¨æœŸ)
  - [4. åˆå¹¶ç­–ç•¥](#4-åˆå¹¶ç­–ç•¥)
    - [4.1 åˆå¹¶æµç¨‹](#41-åˆå¹¶æµç¨‹)
    - [4.2 å†²çªå¤„ç†](#42-å†²çªå¤„ç†)
  - [5. æœ€ä½³å®è·µ](#5-æœ€ä½³å®è·µ)
  - [6. å‚è€ƒèµ„æ–™](#6-å‚è€ƒèµ„æ–™)

---

## 1. æ¦‚è¿°

æ•°æ®ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥ç¡®ä¿ RAG åº”ç”¨çš„çŸ¥è¯†åº“æ•°æ®å¯ä»¥å®‰å…¨åœ°ç‰ˆæœ¬ç®¡ç†å’Œå®éªŒã€‚

---

## 2. ç‰ˆæœ¬æ§åˆ¶ç­–ç•¥

### 2.1 è¯­ä¹‰åŒ–ç‰ˆæœ¬

```python
# è¯­ä¹‰åŒ–ç‰ˆæœ¬è§„èŒƒ
VERSION_FORMAT = "MAJOR.MINOR.PATCH"

# ç¤ºä¾‹
versions = {
    '1.0.0': 'åˆå§‹ç‰ˆæœ¬',
    '1.1.0': 'æ–°å¢æ–‡æ¡£é›†',
    '1.1.1': 'ä¿®å¤å‘é‡ç´¢å¼•',
    '2.0.0': 'é‡å¤§æ¶æ„å˜æ›´'
}
```

### 2.2 ç‰ˆæœ¬æ ‡ç­¾

```python
# åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
def create_version_tag(branch_name, version):
    """åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾"""
    tag = {
        'name': version,
        'branch': branch_name,
        'created_at': datetime.now(),
        'description': f'Version {version}'
    }
    return tag
```

---

## 3. åˆ†æ”¯ç®¡ç†ç­–ç•¥

### 3.1 åˆ†æ”¯ç±»å‹

**ä¸»åˆ†æ”¯ (Main)**:

- ç”Ÿäº§ç¯å¢ƒä½¿ç”¨
- ç¨³å®šç‰ˆæœ¬
- å—ä¿æŠ¤ï¼Œéœ€è¦å®¡æ ¸æ‰èƒ½åˆå¹¶

**å¼€å‘åˆ†æ”¯ (Develop)**:

- å¼€å‘ç¯å¢ƒä½¿ç”¨
- é›†æˆæ–°åŠŸèƒ½
- å®šæœŸåˆå¹¶åˆ°ä¸»åˆ†æ”¯

**åŠŸèƒ½åˆ†æ”¯ (Feature)**:

- æ–°åŠŸèƒ½å¼€å‘
- å®éªŒæ€§åŠŸèƒ½
- å®Œæˆååˆå¹¶åˆ°å¼€å‘åˆ†æ”¯

**å®éªŒåˆ†æ”¯ (Experiment)**:

- ä¸´æ—¶å®éªŒ
- å¿«é€Ÿåˆ›å»ºå’Œåˆ é™¤
- ä¸å½±å“ä¸»åˆ†æ”¯

### 3.2 åˆ†æ”¯ç”Ÿå‘½å‘¨æœŸ

```python
class BranchLifecycle:
    def create_experiment(self, name):
        """åˆ›å»ºå®éªŒåˆ†æ”¯"""
        branch = self.create_branch(name, parent='main')
        return branch

    def merge_to_main(self, branch_name):
        """åˆå¹¶åˆ°ä¸»åˆ†æ”¯"""
        # 1. éªŒè¯åˆ†æ”¯
        self.validate_branch(branch_name)

        # 2. æ‰§è¡Œåˆå¹¶
        self.merge(branch_name, 'main')

        # 3. åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾
        self.create_version_tag(branch_name)

    def cleanup_experiment(self, branch_name):
        """æ¸…ç†å®éªŒåˆ†æ”¯"""
        self.delete_branch(branch_name)
```

---

## 4. åˆå¹¶ç­–ç•¥

### 4.1 åˆå¹¶æµç¨‹

1. **éªŒè¯**: éªŒè¯åˆ†æ”¯æ•°æ®å®Œæ•´æ€§
2. **æµ‹è¯•**: è¿è¡Œè‡ªåŠ¨åŒ–æµ‹è¯•
3. **åˆå¹¶**: æ‰§è¡Œåˆ†æ”¯åˆå¹¶
4. **éªŒè¯**: éªŒè¯åˆå¹¶ç»“æœ
5. **æ ‡è®°**: åˆ›å»ºç‰ˆæœ¬æ ‡ç­¾

### 4.2 å†²çªå¤„ç†

```python
def handle_merge_conflict(source_branch, target_branch):
    """å¤„ç†åˆå¹¶å†²çª"""
    conflicts = detect_conflicts(source_branch, target_branch)

    for conflict in conflicts:
        # ç­–ç•¥1: ä¿ç•™ç›®æ ‡åˆ†æ”¯æ•°æ®
        if conflict.type == 'data_conflict':
            resolve_by_target(conflict)

        # ç­–ç•¥2: åˆå¹¶å‘é‡ç´¢å¼•
        elif conflict.type == 'index_conflict':
            merge_indexes(conflict)

    return True
```

---

## 5. æœ€ä½³å®è·µ

1. **ç‰ˆæœ¬ç®¡ç†**: ä½¿ç”¨è¯­ä¹‰åŒ–ç‰ˆæœ¬
2. **åˆ†æ”¯ç­–ç•¥**: æ¸…æ™°çš„åˆ†æ”¯ç®¡ç†ç­–ç•¥
3. **åˆå¹¶æµç¨‹**: æ ‡å‡†åŒ–çš„åˆå¹¶æµç¨‹
4. **æ¸…ç†ç­–ç•¥**: åŠæ—¶æ¸…ç†ä¸éœ€è¦çš„åˆ†æ”¯

---

## 6. å‚è€ƒèµ„æ–™

- [RAG æ¶æ„è®¾è®¡](./RAGæ¶æ„è®¾è®¡.md)
- [LangChain é›†æˆå®è·µ](./LangChainé›†æˆå®è·µ.md)

---

**æœ€åæ›´æ–°**: 2025 å¹´ 11 æœˆ 1 æ—¥  
**ç»´æŠ¤è€…**: PostgreSQL Modern Team
